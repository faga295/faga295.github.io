<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.52" />
    <meta name="theme" content="VuePress Theme Hope" />
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>å‰ç«¯é¢è¯• | faga's blog</title><meta name="description" content="Just playing around">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.7fb815a4.css" as="style" /><link rel="stylesheet" href="/assets/style.7fb815a4.css" />
    <link rel="modulepreload" href="/assets/app.7a1bdc2f.js"><link rel="modulepreload" href="/assets/vendor.fb97f350.js"><link rel="modulepreload" href="/assets/interview.html.df6d8fe6.js"><link rel="modulepreload" href="/assets/interview.html.995cf421.js"><link rel="prefetch" href="/assets/index.html.a93f177c.js" as="script" /><link rel="prefetch" href="/assets/index.html.efa3ede7.js" as="script" /><link rel="prefetch" href="/assets/commonjs_esmodule.html.269411dd.js" as="script" /><link rel="prefetch" href="/assets/histoire.html.4e8f4419.js" as="script" /><link rel="prefetch" href="/assets/react.html.9356166a.js" as="script" /><link rel="prefetch" href="/assets/remark.html.c3a2d8cc.js" as="script" /><link rel="prefetch" href="/assets/vite.html.0c406b42.js" as="script" /><link rel="prefetch" href="/assets/web_upload_oss.html.960148a6.js" as="script" /><link rel="prefetch" href="/assets/webpack.html.f4af55ce.js" as="script" /><link rel="prefetch" href="/assets/404.html.a611e975.js" as="script" /><link rel="prefetch" href="/assets/index.html.0fbab9d5.js" as="script" /><link rel="prefetch" href="/assets/index.html.76c6b280.js" as="script" /><link rel="prefetch" href="/assets/index.html.b7a8b60b.js" as="script" /><link rel="prefetch" href="/assets/index.html.0e6ed073.js" as="script" /><link rel="prefetch" href="/assets/index.html.2c9e0702.js" as="script" /><link rel="prefetch" href="/assets/index.html.f8cc89b9.js" as="script" /><link rel="prefetch" href="/assets/index.html.44a2478e.js" as="script" /><link rel="prefetch" href="/assets/index.html.0be0fb1f.js" as="script" /><link rel="prefetch" href="/assets/index.html.57356978.js" as="script" /><link rel="prefetch" href="/assets/commonjs_esmodule.html.18018b07.js" as="script" /><link rel="prefetch" href="/assets/histoire.html.f3578cae.js" as="script" /><link rel="prefetch" href="/assets/react.html.8d63912f.js" as="script" /><link rel="prefetch" href="/assets/remark.html.bb1066bf.js" as="script" /><link rel="prefetch" href="/assets/vite.html.b07ebd24.js" as="script" /><link rel="prefetch" href="/assets/web_upload_oss.html.ad0e2418.js" as="script" /><link rel="prefetch" href="/assets/webpack.html.999091e3.js" as="script" /><link rel="prefetch" href="/assets/404.html.1645b7d4.js" as="script" /><link rel="prefetch" href="/assets/index.html.f9287629.js" as="script" /><link rel="prefetch" href="/assets/index.html.4a6b922d.js" as="script" /><link rel="prefetch" href="/assets/index.html.0e4873a5.js" as="script" /><link rel="prefetch" href="/assets/index.html.d077d65c.js" as="script" /><link rel="prefetch" href="/assets/index.html.a59a4103.js" as="script" /><link rel="prefetch" href="/assets/index.html.ad915e3f.js" as="script" /><link rel="prefetch" href="/assets/index.html.b7ca2cee.js" as="script" />
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><!----><!----><span class="site-name">faga&#39;s blog</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><!---->ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link active" aria-label="ç¬”è®°"><!---->ç¬”è®°<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://github.com/faga1" rel="noopener noreferrer" target="_blank" aria-label="Github" class="nav-link"><!---->Github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><!----><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/blog/histoire.html" class="nav-link sidebar-link sidebar-page" aria-label="ç»™histoireæprçš„ä¸€æ¬¡è®°å½•"><!---->ç»™histoireæprçš„ä¸€æ¬¡è®°å½•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/vite.html" class="nav-link sidebar-link sidebar-page" aria-label="vite"><!---->vite<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/react.html" class="nav-link sidebar-link sidebar-page" aria-label="reactæºç æ¶æ„"><!---->reactæºç æ¶æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/web_upload_oss.html" class="nav-link sidebar-link sidebar-page" aria-label="webç«¯ä¸Šä¼ oss"><!---->webç«¯ä¸Šä¼ oss<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/blog/webpack.html" class="nav-link sidebar-link sidebar-page" aria-label="webpackåŸç†"><!---->webpackåŸç†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="å‰ç«¯é¢è¯•"><!---->å‰ç«¯é¢è¯•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#v8åƒåœ¾å›æ”¶æœºåˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="v8åƒåœ¾å›æ”¶æœºåˆ¶"><!---->v8åƒåœ¾å›æ”¶æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨-scavenge" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨ - Scavenge"><!---->æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨ - Scavenge<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#è€ç”Ÿä»£åƒåœ¾å›æ”¶-mark-sweep-mark-compact" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è€ç”Ÿä»£åƒåœ¾å›æ”¶ - Mark-Sweep &amp; Mark-Compact"><!---->è€ç”Ÿä»£åƒåœ¾å›æ”¶ - Mark-Sweep &amp; Mark-Compact<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å…¨åœé¡¿" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…¨åœé¡¿"><!---->å…¨åœé¡¿<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å¹¶å‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¹¶å‘"><!---->å¹¶å‘<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å¹¶è¡Œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¹¶è¡Œ"><!---->å¹¶è¡Œ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ç›®å‰v8çš„åƒåœ¾å›æ”¶æœºåˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç›®å‰v8çš„åƒåœ¾å›æ”¶æœºåˆ¶"><!---->ç›®å‰v8çš„åƒåœ¾å›æ”¶æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#turbofan-ç¼–è¯‘å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TurboFan ç¼–è¯‘å™¨"><!---->TurboFan ç¼–è¯‘å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#script" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="script"><!---->script<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#async-script" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="async script"><!---->async script<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#defer-script" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="defer script"><!---->defer script<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#domæ ‘å¦‚ä½•ç”Ÿæˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DOMæ ‘å¦‚ä½•ç”Ÿæˆ"><!---->DOMæ ‘å¦‚ä½•ç”Ÿæˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#javascriptå¯¹domæ ‘æ„å»ºå’Œæ¸²æŸ“çš„å½±å“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="JavaScriptå¯¹Domæ ‘æ„å»ºå’Œæ¸²æŸ“çš„å½±å“"><!---->JavaScriptå¯¹Domæ ‘æ„å»ºå’Œæ¸²æŸ“çš„å½±å“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#é‡ç»˜ä¸å›æµ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é‡ç»˜ä¸å›æµ"><!---->é‡ç»˜ä¸å›æµ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å›æµ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å›æµ"><!---->å›æµ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#é‡ç»˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é‡ç»˜"><!---->é‡ç»˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶"><!---->æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ‰¹é‡ä¿®æ”¹dom" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‰¹é‡ä¿®æ”¹dom"><!---->æ‰¹é‡ä¿®æ”¹dom<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ¸²æŸ“è¿›ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ¸²æŸ“è¿›ç¨‹"><!---->æ¸²æŸ“è¿›ç¨‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å¼ºåˆ¶ç¼“å­˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¼ºåˆ¶ç¼“å­˜"><!---->å¼ºåˆ¶ç¼“å­˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#åå•†ç¼“å­˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åå•†ç¼“å­˜"><!---->åå•†ç¼“å­˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#åå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§"><!---->åå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æµè§ˆå™¨ç¼“å­˜çš„ä½ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æµè§ˆå™¨ç¼“å­˜çš„ä½ç½®"><!---->æµè§ˆå™¨ç¼“å­˜çš„ä½ç½®<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#service-worker" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Service Worker"><!---->Service Worker<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#memory-cache" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Memory Cache"><!---->Memory Cache<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#disk-cache" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Disk Cache"><!---->Disk Cache<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#push-cache" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Push Cache"><!---->Push Cache<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ä¼˜ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¼˜ç‚¹"><!---->ä¼˜ç‚¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å…¶ä»–ç‰¹ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…¶ä»–ç‰¹ç‚¹"><!---->å…¶ä»–ç‰¹ç‚¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å¦‚ä½•å»ºç«‹è¿æ¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¦‚ä½•å»ºç«‹è¿æ¥"><!---->å¦‚ä½•å»ºç«‹è¿æ¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ•°æ®å¸§æ ¼å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®å¸§æ ¼å¼"><!---->æ•°æ®å¸§æ ¼å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ•°æ®ä¼ é€’" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®ä¼ é€’"><!---->æ•°æ®ä¼ é€’<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#wsçš„ä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="wsçš„ä½¿ç”¨"><!---->wsçš„ä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#request" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="request"><!---->request<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#response" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="response"><!---->response<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#getå’Œpostæ–¹æ³•éƒ½æ˜¯å®‰å…¨å¹‚ç­‰çš„å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="GETå’ŒPOSTæ–¹æ³•éƒ½æ˜¯å®‰å…¨å¹‚ç­‰çš„å—"><!---->GETå’ŒPOSTæ–¹æ³•éƒ½æ˜¯å®‰å…¨å¹‚ç­‰çš„å—<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#http1-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="http1.1"><!---->http1.1<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#keep-alive" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="keep-alive"><!---->keep-alive<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ç®¡é“ä¼ è¾“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç®¡é“ä¼ è¾“"><!---->ç®¡é“ä¼ è¾“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#é˜Ÿå¤´é˜»å¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é˜Ÿå¤´é˜»å¡"><!---->é˜Ÿå¤´é˜»å¡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ç¼“å­˜å¤„ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç¼“å­˜å¤„ç†"><!---->ç¼“å­˜å¤„ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#rangeå¤´åŸŸ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="rangeå¤´åŸŸ"><!---->rangeå¤´åŸŸ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç "><!---->æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç <!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#transfer-encoding" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Transfer-Encoding"><!---->Transfer-Encoding<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#session" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="session"><!---->session<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#è·¨ç«™æ”»å‡»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·¨ç«™æ”»å‡»"><!---->è·¨ç«™æ”»å‡»<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#csrf" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="CSRF"><!---->CSRF<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#xss" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="XSS"><!---->XSS<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#http2-0" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="http2.0"><!---->http2.0<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#äºŒè¿›åˆ¶åˆ†å¸§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äºŒè¿›åˆ¶åˆ†å¸§"><!---->äºŒè¿›åˆ¶åˆ†å¸§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å¤šè·¯å¤ç”¨-è¿æ¥å…±äº«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¤šè·¯å¤ç”¨/è¿æ¥å…±äº«"><!---->å¤šè·¯å¤ç”¨/è¿æ¥å…±äº«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å¤´éƒ¨å‹ç¼©" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¤´éƒ¨å‹ç¼©"><!---->å¤´éƒ¨å‹ç¼©<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#è¯·æ±‚ä¼˜å…ˆçº§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¯·æ±‚ä¼˜å…ˆçº§"><!---->è¯·æ±‚ä¼˜å…ˆçº§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æœåŠ¡ç«¯æ¨é€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æœåŠ¡ç«¯æ¨é€"><!---->æœåŠ¡ç«¯æ¨é€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ä¸ªäººç†è§£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ªäººç†è§£"><!---->ä¸ªäººç†è§£<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#https" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="https"><!---->https<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#httpsåšäº†ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="httpsåšäº†ä»€ä¹ˆ"><!---->httpsåšäº†ä»€ä¹ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ¡æ‰‹é˜¶æ®µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ¡æ‰‹é˜¶æ®µ"><!---->æ¡æ‰‹é˜¶æ®µ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æµè§ˆå™¨åœ¨ä½¿ç”¨httpsä¼ è¾“æ•°æ®çš„æµç¨‹æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æµè§ˆå™¨åœ¨ä½¿ç”¨HTTPSä¼ è¾“æ•°æ®çš„æµç¨‹æ˜¯ä»€ä¹ˆ"><!---->æµè§ˆå™¨åœ¨ä½¿ç”¨HTTPSä¼ è¾“æ•°æ®çš„æµç¨‹æ˜¯ä»€ä¹ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ssl-tlsæ˜¯å¦‚ä½•åŠ å¯†çš„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SSL/TLSæ˜¯å¦‚ä½•åŠ å¯†çš„"><!---->SSL/TLSæ˜¯å¦‚ä½•åŠ å¯†çš„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#httpsæ˜¯å¦‚ä½•ä¿è¯æ•°æ®çš„å®Œæ•´æ€§çš„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="httpsæ˜¯å¦‚ä½•ä¿è¯æ•°æ®çš„å®Œæ•´æ€§çš„"><!---->httpsæ˜¯å¦‚ä½•ä¿è¯æ•°æ®çš„å®Œæ•´æ€§çš„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#httpså¦‚ä½•è¿›è¡Œèº«ä»½è®¤è¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="httpså¦‚ä½•è¿›è¡Œèº«ä»½è®¤è¯"><!---->httpså¦‚ä½•è¿›è¡Œèº«ä»½è®¤è¯<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ä¸­é—´äººæ”»å‡»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸­é—´äººæ”»å‡»"><!---->ä¸­é—´äººæ”»å‡»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#udp" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="UDP"><!---->UDP<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#tcp" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCP"><!---->TCP<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ä¸‰æ¬¡æ¡æ‰‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸‰æ¬¡æ¡æ‰‹"><!---->ä¸‰æ¬¡æ¡æ‰‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å››æ¬¡æŒ¥æ‰‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å››æ¬¡æŒ¥æ‰‹"><!---->å››æ¬¡æŒ¥æ‰‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#tcpå¦‚ä½•å®ç°å¯é ä¼ è¾“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TCPå¦‚ä½•å®ç°å¯é ä¼ è¾“"><!---->TCPå¦‚ä½•å®ç°å¯é ä¼ è¾“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ipv6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="IPv6"><!---->IPv6<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ipv6çš„å¿…è¦æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="IPv6çš„å¿…è¦æ€§"><!---->IPv6çš„å¿…è¦æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#bfcç‰¹æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="BFCç‰¹æ€§"><!---->BFCç‰¹æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#reactä¸­æ–¹æ³•thisæŒ‡å‘é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="reactä¸­æ–¹æ³•thisæŒ‡å‘é—®é¢˜"><!---->reactä¸­æ–¹æ³•thisæŒ‡å‘é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å—æ§ç»„ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å—æ§ç»„ä»¶"><!---->å—æ§ç»„ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#nginxåå‘ä»£ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="nginxåå‘ä»£ç†"><!---->nginxåå‘ä»£ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ç»§æ‰¿çš„å‡ ç§æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»§æ‰¿çš„å‡ ç§æ–¹æ³•"><!---->ç»§æ‰¿çš„å‡ ç§æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#es5å’Œes6ç»§æ‰¿çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ES5å’ŒES6ç»§æ‰¿çš„åŒºåˆ«"><!---->ES5å’ŒES6ç»§æ‰¿çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#object-defineproperty" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Object.defineProperty"><!---->Object.defineProperty<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ•°æ®åŠ«æŒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®åŠ«æŒ"><!---->æ•°æ®åŠ«æŒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#_1-1å°†è¿‡å¤±è½¬åŒ–ä¸ºå¼‚å¸¸" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1å°†è¿‡å¤±è½¬åŒ–ä¸ºå¼‚å¸¸"><!---->1.1å°†è¿‡å¤±è½¬åŒ–ä¸ºå¼‚å¸¸<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#_1-2ç®€åŒ–å˜é‡çš„ä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2ç®€åŒ–å˜é‡çš„ä½¿ç”¨"><!---->1.2ç®€åŒ–å˜é‡çš„ä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#_1-3è®©evalå’Œargumentså˜å¾—ç®€å•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3è®©evalå’Œargumentså˜å¾—ç®€å•"><!---->1.3è®©evalå’Œargumentså˜å¾—ç®€å•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#_1-4-å®‰å…¨çš„javascript" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4 å®‰å…¨çš„javascript"><!---->1.4 å®‰å…¨çš„javascript<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#_1-5-ä¸ºæœªæ¥çš„-ecmascript-ç‰ˆæœ¬é“ºå¹³é“è·¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.5 ä¸ºæœªæ¥çš„ ECMAScript ç‰ˆæœ¬é“ºå¹³é“è·¯"><!---->1.5 ä¸ºæœªæ¥çš„ ECMAScript ç‰ˆæœ¬é“ºå¹³é“è·¯<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#csp" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="CSP"><!---->CSP<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ ‡å‡†ç›’æ¨¡å‹å’Œieç›’æ¨¡å‹çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ ‡å‡†ç›’æ¨¡å‹å’Œieç›’æ¨¡å‹çš„åŒºåˆ«"><!---->æ ‡å‡†ç›’æ¨¡å‹å’Œieç›’æ¨¡å‹çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#è¡Œå†…å…ƒç´ çš„marginå’Œpadding" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¡Œå†…å…ƒç´ çš„marginå’Œpadding"><!---->è¡Œå†…å…ƒç´ çš„marginå’Œpadding<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ele-first-childçš„è¯¯è§£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Ele:first-childçš„è¯¯è§£"><!---->Ele:first-childçš„è¯¯è§£<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å•è¡Œå¤šè¡Œæ–‡æœ¬çœç•¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å•è¡Œå¤šè¡Œæ–‡æœ¬çœç•¥"><!---->å•è¡Œå¤šè¡Œæ–‡æœ¬çœç•¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#css3æ–°ç‰¹æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="CSS3æ–°ç‰¹æ€§"><!---->CSS3æ–°ç‰¹æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#grid" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="grid"><!---->grid<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ä¼ªç±»ä¼ªå…ƒç´ " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¼ªç±»ä¼ªå…ƒç´ "><!---->ä¼ªç±»ä¼ªå…ƒç´ <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#position-sticky" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="position:sticky"><!---->position:sticky<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#transition-animation-transform" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="transition animation transform"><!---->transition animation transform<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#transition" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="transition"><!---->transition<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#transform" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="transform"><!---->transform<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#animation" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="animation"><!---->animation<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#async-await-å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Async/await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥"><!---->Async/await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#generator" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Generator"><!---->Generator<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#éšå¼ç±»å‹è½¬æ¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="éšå¼ç±»å‹è½¬æ¢"><!---->éšå¼ç±»å‹è½¬æ¢<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ•°å­¦è¿ç®—ç¬¦ä¸­çš„ç±»å‹è½¬æ¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°å­¦è¿ç®—ç¬¦ä¸­çš„ç±»å‹è½¬æ¢"><!---->æ•°å­¦è¿ç®—ç¬¦ä¸­çš„ç±»å‹è½¬æ¢<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#é€»è¾‘è¯­å¥ä¸­çš„ç±»å‹è½¬æ¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é€»è¾‘è¯­å¥ä¸­çš„ç±»å‹è½¬æ¢"><!---->é€»è¾‘è¯­å¥ä¸­çš„ç±»å‹è½¬æ¢<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#typeof" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="typeof"><!---->typeof<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#è¿­ä»£å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¿­ä»£å™¨"><!---->è¿­ä»£å™¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#ç”Ÿæˆå™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç”Ÿæˆå™¨"><!---->ç”Ÿæˆå™¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#å¯è¿­ä»£å¯¹è±¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¯è¿­ä»£å¯¹è±¡"><!---->å¯è¿­ä»£å¯¹è±¡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#map" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="map"><!---->map<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#set" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="set"><!---->set<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#weakmapå’Œweakset" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="weakMapå’ŒweakSet"><!---->weakMapå’ŒweakSet<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#weakmap" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="weakMap"><!---->weakMap<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#weakset" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="weakSet"><!---->weakSet<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#for-of" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="for of"><!---->for of<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#æ•°ç»„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°ç»„"><!---->æ•°ç»„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#thisæŒ‡å‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="thisæŒ‡å‘"><!---->thisæŒ‡å‘<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#forå¾ªç¯ä¸­letå’Œvarçš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="forå¾ªç¯ä¸­letå’Œvarçš„åŒºåˆ«"><!---->forå¾ªç¯ä¸­letå’Œvarçš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#hashè·¯ç”±" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="hashè·¯ç”±"><!---->hashè·¯ç”±<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/blog/interview.html#historyè·¯ç”±" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="historyè·¯ç”±"><!---->historyè·¯ç”±<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/blog/commonjs&amp;esmodule.html" class="nav-link sidebar-link sidebar-page" aria-label="commonjså’Œesmoduleçš„åŒºåˆ«"><!---->commonjså’Œesmoduleçš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->å‰ç«¯é¢è¯•</h1><div class="page-info"><span class="author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="http://www.faga.cc" target="_blank" rel="noopener noreferrer">faga</a></span><span property="author" content="faga"></span></span><!----><span class="date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>October 16, 2021</span><meta property="datePublished" content="2021-10-15T21:58:54.000Z"></span><!----><!----><span class="reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 117 min</span><meta property="timeRequired" content="PT117M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#v8åƒåœ¾å›æ”¶æœºåˆ¶" class="router-link-active router-link-exact-active toc-link level2">v8åƒåœ¾å›æ”¶æœºåˆ¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨-scavenge" class="router-link-active router-link-exact-active toc-link level3">æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨ - Scavenge</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#è€ç”Ÿä»£åƒåœ¾å›æ”¶-mark-sweep-mark-compact" class="router-link-active router-link-exact-active toc-link level3">è€ç”Ÿä»£åƒåœ¾å›æ”¶ - Mark-Sweep &amp; Mark-Compact</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å…¨åœé¡¿" class="router-link-active router-link-exact-active toc-link level3">å…¨åœé¡¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å¹¶å‘" class="router-link-active router-link-exact-active toc-link level3">å¹¶å‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å¹¶è¡Œ" class="router-link-active router-link-exact-active toc-link level3">å¹¶è¡Œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ç›®å‰v8çš„åƒåœ¾å›æ”¶æœºåˆ¶" class="router-link-active router-link-exact-active toc-link level3">ç›®å‰v8çš„åƒåœ¾å›æ”¶æœºåˆ¶</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#turbofan-ç¼–è¯‘å™¨" class="router-link-active router-link-exact-active toc-link level2">TurboFan ç¼–è¯‘å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#script" class="router-link-active router-link-exact-active toc-link level2">script</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#async-script" class="router-link-active router-link-exact-active toc-link level2">async script</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#defer-script" class="router-link-active router-link-exact-active toc-link level2">defer script</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#domæ ‘å¦‚ä½•ç”Ÿæˆ" class="router-link-active router-link-exact-active toc-link level2">DOMæ ‘å¦‚ä½•ç”Ÿæˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#javascriptå¯¹domæ ‘æ„å»ºå’Œæ¸²æŸ“çš„å½±å“" class="router-link-active router-link-exact-active toc-link level2">JavaScriptå¯¹Domæ ‘æ„å»ºå’Œæ¸²æŸ“çš„å½±å“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#é‡ç»˜ä¸å›æµ" class="router-link-active router-link-exact-active toc-link level2">é‡ç»˜ä¸å›æµ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å›æµ" class="router-link-active router-link-exact-active toc-link level2">å›æµ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#é‡ç»˜" class="router-link-active router-link-exact-active toc-link level3">é‡ç»˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶" class="router-link-active router-link-exact-active toc-link level3">æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ‰¹é‡ä¿®æ”¹dom" class="router-link-active router-link-exact-active toc-link level3">æ‰¹é‡ä¿®æ”¹dom</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ¸²æŸ“è¿›ç¨‹" class="router-link-active router-link-exact-active toc-link level2">æ¸²æŸ“è¿›ç¨‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å¼ºåˆ¶ç¼“å­˜" class="router-link-active router-link-exact-active toc-link level3">å¼ºåˆ¶ç¼“å­˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#åå•†ç¼“å­˜" class="router-link-active router-link-exact-active toc-link level3">åå•†ç¼“å­˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#åå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§" class="router-link-active router-link-exact-active toc-link level3">åå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æµè§ˆå™¨ç¼“å­˜çš„ä½ç½®" class="router-link-active router-link-exact-active toc-link level2">æµè§ˆå™¨ç¼“å­˜çš„ä½ç½®</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#service-worker" class="router-link-active router-link-exact-active toc-link level3">Service Worker</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#memory-cache" class="router-link-active router-link-exact-active toc-link level3">Memory Cache</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#disk-cache" class="router-link-active router-link-exact-active toc-link level3">Disk Cache</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#push-cache" class="router-link-active router-link-exact-active toc-link level3">Push Cache</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ä¼˜ç‚¹" class="router-link-active router-link-exact-active toc-link level2">ä¼˜ç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å…¶ä»–ç‰¹ç‚¹" class="router-link-active router-link-exact-active toc-link level2">å…¶ä»–ç‰¹ç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å¦‚ä½•å»ºç«‹è¿æ¥" class="router-link-active router-link-exact-active toc-link level2">å¦‚ä½•å»ºç«‹è¿æ¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ•°æ®å¸§æ ¼å¼" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®å¸§æ ¼å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ•°æ®ä¼ é€’" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®ä¼ é€’</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#wsçš„ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level2">wsçš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#request" class="router-link-active router-link-exact-active toc-link level2">request</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#response" class="router-link-active router-link-exact-active toc-link level2">response</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#getå’Œpostæ–¹æ³•éƒ½æ˜¯å®‰å…¨å¹‚ç­‰çš„å—" class="router-link-active router-link-exact-active toc-link level3">GETå’ŒPOSTæ–¹æ³•éƒ½æ˜¯å®‰å…¨å¹‚ç­‰çš„å—</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#http1-1" class="router-link-active router-link-exact-active toc-link level2">http1.1</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#keep-alive" class="router-link-active router-link-exact-active toc-link level3">keep-alive</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ç®¡é“ä¼ è¾“" class="router-link-active router-link-exact-active toc-link level3">ç®¡é“ä¼ è¾“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#é˜Ÿå¤´é˜»å¡" class="router-link-active router-link-exact-active toc-link level3">é˜Ÿå¤´é˜»å¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ç¼“å­˜å¤„ç†" class="router-link-active router-link-exact-active toc-link level3">ç¼“å­˜å¤„ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#rangeå¤´åŸŸ" class="router-link-active router-link-exact-active toc-link level3">rangeå¤´åŸŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç " class="router-link-active router-link-exact-active toc-link level3">æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç </a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#transfer-encoding" class="router-link-active router-link-exact-active toc-link level2">Transfer-Encoding</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#session" class="router-link-active router-link-exact-active toc-link level2">session</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#è·¨ç«™æ”»å‡»" class="router-link-active router-link-exact-active toc-link level2">è·¨ç«™æ”»å‡»</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#csrf" class="router-link-active router-link-exact-active toc-link level3">CSRF</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#xss" class="router-link-active router-link-exact-active toc-link level3">XSS</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#http2-0" class="router-link-active router-link-exact-active toc-link level2">http2.0</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#äºŒè¿›åˆ¶åˆ†å¸§" class="router-link-active router-link-exact-active toc-link level3">äºŒè¿›åˆ¶åˆ†å¸§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å¤šè·¯å¤ç”¨-è¿æ¥å…±äº«" class="router-link-active router-link-exact-active toc-link level3">å¤šè·¯å¤ç”¨/è¿æ¥å…±äº«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å¤´éƒ¨å‹ç¼©" class="router-link-active router-link-exact-active toc-link level3">å¤´éƒ¨å‹ç¼©</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#è¯·æ±‚ä¼˜å…ˆçº§" class="router-link-active router-link-exact-active toc-link level3">è¯·æ±‚ä¼˜å…ˆçº§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æœåŠ¡ç«¯æ¨é€" class="router-link-active router-link-exact-active toc-link level3">æœåŠ¡ç«¯æ¨é€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ä¸ªäººç†è§£" class="router-link-active router-link-exact-active toc-link level3">ä¸ªäººç†è§£</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#https" class="router-link-active router-link-exact-active toc-link level2">https</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#httpsåšäº†ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">httpsåšäº†ä»€ä¹ˆ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ¡æ‰‹é˜¶æ®µ" class="router-link-active router-link-exact-active toc-link level2">æ¡æ‰‹é˜¶æ®µ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æµè§ˆå™¨åœ¨ä½¿ç”¨httpsä¼ è¾“æ•°æ®çš„æµç¨‹æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">æµè§ˆå™¨åœ¨ä½¿ç”¨HTTPSä¼ è¾“æ•°æ®çš„æµç¨‹æ˜¯ä»€ä¹ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ssl-tlsæ˜¯å¦‚ä½•åŠ å¯†çš„" class="router-link-active router-link-exact-active toc-link level3">SSL/TLSæ˜¯å¦‚ä½•åŠ å¯†çš„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#httpsæ˜¯å¦‚ä½•ä¿è¯æ•°æ®çš„å®Œæ•´æ€§çš„" class="router-link-active router-link-exact-active toc-link level3">httpsæ˜¯å¦‚ä½•ä¿è¯æ•°æ®çš„å®Œæ•´æ€§çš„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#httpså¦‚ä½•è¿›è¡Œèº«ä»½è®¤è¯" class="router-link-active router-link-exact-active toc-link level3">httpså¦‚ä½•è¿›è¡Œèº«ä»½è®¤è¯</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ä¸­é—´äººæ”»å‡»" class="router-link-active router-link-exact-active toc-link level2">ä¸­é—´äººæ”»å‡»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#udp" class="router-link-active router-link-exact-active toc-link level2">UDP</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#tcp" class="router-link-active router-link-exact-active toc-link level2">TCP</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ä¸‰æ¬¡æ¡æ‰‹" class="router-link-active router-link-exact-active toc-link level3">ä¸‰æ¬¡æ¡æ‰‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å››æ¬¡æŒ¥æ‰‹" class="router-link-active router-link-exact-active toc-link level3">å››æ¬¡æŒ¥æ‰‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#tcpå¦‚ä½•å®ç°å¯é ä¼ è¾“" class="router-link-active router-link-exact-active toc-link level3">TCPå¦‚ä½•å®ç°å¯é ä¼ è¾“</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ipv6" class="router-link-active router-link-exact-active toc-link level2">IPv6</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ipv6çš„å¿…è¦æ€§" class="router-link-active router-link-exact-active toc-link level3">IPv6çš„å¿…è¦æ€§</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#bfcç‰¹æ€§" class="router-link-active router-link-exact-active toc-link level2">BFCç‰¹æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#reactä¸­æ–¹æ³•thisæŒ‡å‘é—®é¢˜" class="router-link-active router-link-exact-active toc-link level2">reactä¸­æ–¹æ³•thisæŒ‡å‘é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å—æ§ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">å—æ§ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#nginxåå‘ä»£ç†" class="router-link-active router-link-exact-active toc-link level2">nginxåå‘ä»£ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ç»§æ‰¿çš„å‡ ç§æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level2">ç»§æ‰¿çš„å‡ ç§æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#es5å’Œes6ç»§æ‰¿çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level2">ES5å’ŒES6ç»§æ‰¿çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#object-defineproperty" class="router-link-active router-link-exact-active toc-link level2">Object.defineProperty</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ•°æ®åŠ«æŒ" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®åŠ«æŒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#_1-1å°†è¿‡å¤±è½¬åŒ–ä¸ºå¼‚å¸¸" class="router-link-active router-link-exact-active toc-link level2">1.1å°†è¿‡å¤±è½¬åŒ–ä¸ºå¼‚å¸¸</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#_1-2ç®€åŒ–å˜é‡çš„ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level2">1.2ç®€åŒ–å˜é‡çš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#_1-3è®©evalå’Œargumentså˜å¾—ç®€å•" class="router-link-active router-link-exact-active toc-link level2">1.3è®©evalå’Œargumentså˜å¾—ç®€å•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#_1-4-å®‰å…¨çš„javascript" class="router-link-active router-link-exact-active toc-link level2">1.4 å®‰å…¨çš„javascript</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#_1-5-ä¸ºæœªæ¥çš„-ecmascript-ç‰ˆæœ¬é“ºå¹³é“è·¯" class="router-link-active router-link-exact-active toc-link level2">1.5 ä¸ºæœªæ¥çš„ ECMAScript ç‰ˆæœ¬é“ºå¹³é“è·¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#csp" class="router-link-active router-link-exact-active toc-link level2">CSP</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ ‡å‡†ç›’æ¨¡å‹å’Œieç›’æ¨¡å‹çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level2">æ ‡å‡†ç›’æ¨¡å‹å’Œieç›’æ¨¡å‹çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#è¡Œå†…å…ƒç´ çš„marginå’Œpadding" class="router-link-active router-link-exact-active toc-link level2">è¡Œå†…å…ƒç´ çš„marginå’Œpadding</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ele-first-childçš„è¯¯è§£" class="router-link-active router-link-exact-active toc-link level2">Ele:first-childçš„è¯¯è§£</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å•è¡Œå¤šè¡Œæ–‡æœ¬çœç•¥" class="router-link-active router-link-exact-active toc-link level2">å•è¡Œå¤šè¡Œæ–‡æœ¬çœç•¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#css3æ–°ç‰¹æ€§" class="router-link-active router-link-exact-active toc-link level2">CSS3æ–°ç‰¹æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#grid" class="router-link-active router-link-exact-active toc-link level2">grid</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ä¼ªç±»ä¼ªå…ƒç´ " class="router-link-active router-link-exact-active toc-link level2">ä¼ªç±»ä¼ªå…ƒç´ </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#position-sticky" class="router-link-active router-link-exact-active toc-link level2">position:sticky</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#transition-animation-transform" class="router-link-active router-link-exact-active toc-link level2">transition animation transform</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#transition" class="router-link-active router-link-exact-active toc-link level3">transition</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#transform" class="router-link-active router-link-exact-active toc-link level3">transform</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#animation" class="router-link-active router-link-exact-active toc-link level3">animation</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#async-await-å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥" class="router-link-active router-link-exact-active toc-link level2">Async/await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#generator" class="router-link-active router-link-exact-active toc-link level3">Generator</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#éšå¼ç±»å‹è½¬æ¢" class="router-link-active router-link-exact-active toc-link level2">éšå¼ç±»å‹è½¬æ¢</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ•°å­¦è¿ç®—ç¬¦ä¸­çš„ç±»å‹è½¬æ¢" class="router-link-active router-link-exact-active toc-link level3">æ•°å­¦è¿ç®—ç¬¦ä¸­çš„ç±»å‹è½¬æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#é€»è¾‘è¯­å¥ä¸­çš„ç±»å‹è½¬æ¢" class="router-link-active router-link-exact-active toc-link level3">é€»è¾‘è¯­å¥ä¸­çš„ç±»å‹è½¬æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#typeof" class="router-link-active router-link-exact-active toc-link level3">typeof</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#è¿­ä»£å™¨" class="router-link-active router-link-exact-active toc-link level2">è¿­ä»£å™¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#ç”Ÿæˆå™¨" class="router-link-active router-link-exact-active toc-link level3">ç”Ÿæˆå™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#å¯è¿­ä»£å¯¹è±¡" class="router-link-active router-link-exact-active toc-link level3">å¯è¿­ä»£å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#map" class="router-link-active router-link-exact-active toc-link level3">map</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#set" class="router-link-active router-link-exact-active toc-link level3">set</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#weakmapå’Œweakset" class="router-link-active router-link-exact-active toc-link level2">weakMapå’ŒweakSet</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#weakmap" class="router-link-active router-link-exact-active toc-link level3">weakMap</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#weakset" class="router-link-active router-link-exact-active toc-link level3">weakSet</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#for-of" class="router-link-active router-link-exact-active toc-link level3">for of</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#æ•°ç»„" class="router-link-active router-link-exact-active toc-link level2">æ•°ç»„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#thisæŒ‡å‘" class="router-link-active router-link-exact-active toc-link level2">thisæŒ‡å‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#forå¾ªç¯ä¸­letå’Œvarçš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level2">forå¾ªç¯ä¸­letå’Œvarçš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#hashè·¯ç”±" class="router-link-active router-link-exact-active toc-link level2">hashè·¯ç”±</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/interview.html#historyè·¯ç”±" class="router-link-active router-link-exact-active toc-link level2">historyè·¯ç”±</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="åƒåœ¾å›æ”¶æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#åƒåœ¾å›æ”¶æœºåˆ¶" aria-hidden="true">#</a> åƒåœ¾å›æ”¶æœºåˆ¶</h1><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/1707342869-5c9358c332559.png" alt="image"></p><p>ä»æ ¹å‡ºå‘(å…¨å±€å˜é‡)è¢«å¼•ç”¨çš„å¯¹è±¡ä¼šè¢«æ ‡è®°ï¼Œæ²¡æœ‰è¢«æ ‡è®°çš„å¯¹è±¡éƒ½ä¼šè¢«åˆ é™¤</p><h4 id="ä»€ä¹ˆæ˜¯åƒåœ¾" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯åƒåœ¾" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯åƒåœ¾</h4><p>ä¸€èˆ¬æ¥è¯´æ²¡æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡å°±æ˜¯åƒåœ¾ï¼Œå°±æ˜¯è¦è¢«æ¸…é™¤ï¼Œ æœ‰ä¸ªä¾‹å¤–å¦‚æœå‡ ä¸ªå¯¹è±¡å¼•ç”¨å½¢æˆä¸€ä¸ªç¯ï¼Œäº’ç›¸å¼•ç”¨ï¼Œä½†æ ¹è®¿é—®ä¸åˆ°å®ƒä»¬ï¼Œè¿™å‡ ä¸ªå¯¹è±¡ä¹Ÿæ˜¯åƒåœ¾ï¼Œä¹Ÿè¦è¢«æ¸…é™¤ã€‚</p><!--more--><h4 id="å¦‚ä½•æ£€åƒåœ¾" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•æ£€åƒåœ¾" aria-hidden="true">#</a> å¦‚ä½•æ£€åƒåœ¾</h4><p>ä¸€ç§ç®—æ³•æ˜¯æ ‡è®°-æ¸…é™¤ç®—æ³•,å…¶ç­–ç•¥æ˜¯ï¼š</p><ul><li><p>JavaScriptä¸­çš„åƒåœ¾æ”¶é›†å™¨è¿è¡Œæ—¶ä¼šç»™<strong>å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ‰€æœ‰å˜é‡</strong>éƒ½åŠ ä¸Šæ ‡è®°ï¼›</p></li><li><p>ç„¶åå»æ‰ç¯å¢ƒä¸­çš„å˜é‡ä»¥åŠè¢«ç¯å¢ƒä¸­çš„å˜é‡å¼•ç”¨çš„å˜é‡çš„æ ‡è®°ï¼›</p></li><li><p>æ­¤åï¼Œå†è¢«åŠ ä¸Šæ ‡è®°çš„å˜é‡è¢«è§†ä¸ºå‡†å¤‡åˆ é™¤çš„å˜é‡ï¼›</p></li><li><p>æœ€åï¼Œåƒåœ¾æ”¶é›†å™¨å®Œæˆå†…å­˜æ¸…é™¤ï¼Œé”€æ¯é‚£äº›å¸¦æ ‡è®°çš„å€¼å¹¶å›æ”¶å…¶å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</p></li></ul><p>å±€é™ï¼š</p><ul><li>ç”±äºæ˜¯ä»æ ¹å¯¹è±¡(å…¨å±€å¯¹è±¡)å¼€å§‹æŸ¥æ‰¾ï¼Œå¯¹äºé‚£äº›æ— æ³•ä»æ ¹å¯¹è±¡æŸ¥è¯¢åˆ°çš„å¯¹è±¡éƒ½å°†è¢«æ¸…é™¤</li><li>å›æ”¶åä¼šå½¢æˆå†…å­˜ç¢ç‰‡ï¼Œå½±å“åé¢ç”³è¯·å¤§çš„è¿ç»­å†…å­˜ç©ºé—´</li></ul><p>è¿˜æœ‰ä¸€ç§æ˜¯å¼•ç”¨è®¡æ•°</p><ul><li>å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œèµ‹äºˆå®ƒä¸€ä¸ªå¼•ç”¨å€¼æ—¶ï¼Œè®¡æ•°+1ï¼›</li><li>åŒä¸€ä¸ªå€¼è¢«èµ‹äºˆå¦å¤–ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¼•ç”¨+1ï¼›</li><li>ä¿å­˜å¯¹è¯¥å€¼å¼•ç”¨çš„å˜é‡è¢«å…¶ä»–å€¼è¦†ç›–ï¼Œå¼•ç”¨-1ï¼›</li><li>å¼•ç”¨ä¸º0ï¼Œå›æ”¶å†…å­˜ï¼›</li></ul><p>å±€é™ï¼š</p><p>æœ€é‡è¦çš„æ˜¯å¾ªç¯å¼•ç”¨</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">refProblem</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span>c <span class="token operator">=</span> b<span class="token punctuation">;</span>
    b<span class="token punctuation">.</span>c <span class="token operator">=</span> a<span class="token punctuation">;</span>  <span class="token comment">//äº’ç›¸å¼•ç”¨</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äºa,béƒ½è¢«å¼•ç”¨ï¼Œå› æ­¤a,béƒ½ä¸ä¼šè¢«æ¸…é™¤ï¼Œå¦‚æœé¢‘ç¹çš„è°ƒç”¨æ”¹å‡½æ•°ï¼Œåˆ™ä¼šé€ æˆå¾ˆä¸¥é‡çš„å†…å­˜æ³„æ¼ã€‚</p><h2 id="v8åƒåœ¾å›æ”¶æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#v8åƒåœ¾å›æ”¶æœºåˆ¶" aria-hidden="true">#</a> v8åƒåœ¾å›æ”¶æœºåˆ¶</h2><p>v8å°†å †å†…å­˜åˆ†ä¸ºäº†æ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ï¼Œæ–°ç”Ÿä»£å±äºæ˜¯ç”Ÿå‘½å‘¨æœŸæ¯”è¾ƒçŸ­çš„ï¼Œè€Œè€ç”Ÿä»£å±äºæ˜¯ç”Ÿå‘½å‘¨æœŸæ¯”è¾ƒé•¿çš„ï¼Œå¯¹äºè¿™ä¸¤ç§åŒºåŸŸv8åˆ†é…äº†ä¸¤ç§ä¸åŒçš„åƒåœ¾å›æ”¶å™¨ï¼š</p><ul><li>å‰¯åƒåœ¾å›æ”¶å™¨ - Scavengeï¼šä¸»è¦è´Ÿè´£æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ã€‚</li><li>ä¸»åƒåœ¾å›æ”¶å™¨ - Mark-Sweep &amp; Mark-Compactï¼šä¸»è¦è´Ÿè´£è€ç”Ÿä»£çš„åƒåœ¾å›æ”¶ã€‚</li></ul><h3 id="æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨-scavenge" tabindex="-1"><a class="header-anchor" href="#æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨-scavenge" aria-hidden="true">#</a> æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨ - Scavenge</h3><p>æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨ä½¿ç”¨çš„æ˜¯scavengeç®—æ³•ï¼Œä¸€ç§ç”¨ç©ºé—´æ¢æ—¶é—´çš„ç®—æ³•ï¼Œå¯¹äºå ç”¨ç©ºé—´ä¸å¤§çš„åœºæ™¯æ¯”è¾ƒé€‚ç”¨ï¼Œæ–°ç”Ÿä»£åŒºåŸŸç”±äºç”Ÿå‘½å‘¨æœŸçŸ­å› æ­¤ç»™ä»–åˆ†é…çš„ç©ºé—´ä¹Ÿå°ï¼Œä½¿ç”¨scavengeç®—æ³•éå¸¸åˆé€‚ã€‚</p><p>scavengeç®—æ³•åšçš„äº‹æƒ…å°±æ˜¯æŠŠæ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡æ ‡è®°ä¸ºæ´»åŠ¨å¯¹è±¡å’Œéæ´»åŠ¨å¯¹è±¡ï¼Œå°†æ–°ç”Ÿä»£åŒºåŸŸåˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ä¸€ä¸ªæ˜¯from-space,ä¸€ä¸ªæ˜¯to-spaceï¼Œè¿˜æ²¡è¿›è¡Œåƒåœ¾å›æ”¶å‰æ–°ç”Ÿä»£å¯¹è±¡éƒ½æ˜¯åœ¨from-spaceä¸­çš„ã€‚åœ¨æ ‡è®°å®Œæˆä¹‹åï¼Œä¼šå°†æ´»åŠ¨å¯¹è±¡å¤åˆ¶åˆ°to-spaceä¸­å»ï¼Œå¹¶æœ‰åºçš„æ’åˆ—èµ·æ¥ã€‚å†æŠŠfrom-spaceå’Œto-spaceè§’è‰²äº’æ¢ï¼Œæœ‰ç‚¹åƒfiberåŒç¼“å­˜hhh</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20200925123816388.png" alt=""></p><h4 id="æ–°ç”Ÿä»£å¯¹è±¡ä»€ä¹ˆæ—¶å€™å˜æˆè€ç”Ÿä»£" tabindex="-1"><a class="header-anchor" href="#æ–°ç”Ÿä»£å¯¹è±¡ä»€ä¹ˆæ—¶å€™å˜æˆè€ç”Ÿä»£" aria-hidden="true">#</a> æ–°ç”Ÿä»£å¯¹è±¡ä»€ä¹ˆæ—¶å€™å˜æˆè€ç”Ÿä»£</h4><ol><li>å½“æ–°ç”Ÿä»£çš„To spaceå†…å­˜å æ»¡25%æ—¶ï¼Œæ­¤æ—¶å†ä»From spaceæ‹·è´å¯¹è±¡å°†ä¸ä¼šå†æ”¾å…¥Toç©ºé—´ä¸­ä»¥é˜²å½±å“åç»­çš„æ–°å¯¹è±¡åˆ†é…ï¼Œè€Œå°†å…¶ç›´æ¥å¤åˆ¶åˆ°è€ç”Ÿä»£ç©ºé—´ä¸­ã€‚</li><li>åœ¨è¿›è¡Œä¸€æ¬¡åƒåœ¾å›æ”¶åï¼Œç¬¬äºŒæ¬¡GCæ—¶ï¼Œå‘ç°å·²ç»ç»å†è¿‡ä¸€æ¬¡GCçš„å¯¹è±¡åœ¨ä»Fromç©ºé—´å¤åˆ¶æ—¶ç›´æ¥å¤åˆ¶åˆ°è€ç”Ÿä»£ã€‚</li><li>åœ¨æ–°å¯¹è±¡åˆ†é…æ—¶å¤§éƒ¨åˆ†å¯¹è±¡è¢«åˆ†é…åˆ°æ–°ç”Ÿä»£çš„From semispaceï¼Œä½†å½“è¿™ä¸ªå¯¹è±¡çš„ä½“ç§¯è¿‡å¤§ï¼Œè¶…è¿‡1MBçš„å†…å­˜é¡µæ—¶ï¼Œç›´æ¥åˆ†é…åˆ°è€ç”Ÿä»£ä¸­çš„large Object Spaceã€‚</li></ol><h3 id="è€ç”Ÿä»£åƒåœ¾å›æ”¶-mark-sweep-mark-compact" tabindex="-1"><a class="header-anchor" href="#è€ç”Ÿä»£åƒåœ¾å›æ”¶-mark-sweep-mark-compact" aria-hidden="true">#</a> è€ç”Ÿä»£åƒåœ¾å›æ”¶ - Mark-Sweep &amp; Mark-Compact</h3><p>è€ç”Ÿä»£çš„åƒåœ¾å›æ”¶å°±ä¸èƒ½ç”¨scavengeç®—æ³•äº†ï¼Œä¸Šé¢è¯´åˆ°è¿‡scavengeç®—æ³•é€‚ç”¨äºç©ºé—´å ç”¨ä¸å¤§çš„åœºæ™¯ï¼Œå› æ­¤åœ¨è€ç”Ÿä»£åƒåœ¾å›æ”¶ä¸­æˆ‘ä»¬ç”¨äº†å¦ä¸€ç§ç®—æ³•ï¼š<code>Mark-Sweep</code>(æ ‡è®°æ¸…é™¤)å’Œ<code>Mark-Compact</code>(æ ‡è®°æ•´ç†) ç®—æ³•ã€‚</p><h4 id="mark-sweep" tabindex="-1"><a class="header-anchor" href="#mark-sweep" aria-hidden="true">#</a> Mark-Sweep</h4><p>å’Œscavengeç®—æ³•ä¸€æ ·ï¼Œæ ‡è®°æ¸…é™¤ç®—æ³•æ˜¯å…ˆå°†æ´»åŠ¨å¯¹è±¡æ ‡è®°ï¼Œç„¶åç›´æ¥æ¸…é™¤éæ´»åŠ¨å¯¹è±¡</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20200925163922575.png" alt=""></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°æ¸…é™¤åä¼šæœ‰ä¸€äº›ç©ºï¼Œè¿™äº›ç©ºç•™ç€æ˜¾ç„¶å¾ˆä¸åˆç†ï¼Œå› ä¸ºä¸€æ—¦æœ‰ä¸€äº›å ç”¨ç©ºé—´æ¯”è¾ƒå¤§çš„å¯¹è±¡ï¼Œè¿™äº›ç©ºå°±ç”¨ä¸ä¸Šäº†ï¼Œå› æ­¤è¿˜éœ€è¦<code>Mark-Compact</code>ç®—æ³•çš„å¸®åŠ©ï¼Œè¿™ä¸ªç®—æ³•å°±æ˜¯åœ¨æ ‡è®°æ¸…é™¤ä¹‹åé‡æ–°å¸®å¿™æ•´ç†çš„ï¼Œå°†æ‰€æœ‰çš„æ´»åŠ¨å¯¹è±¡å¾€ä¸€ç«¯ç§»åŠ¨ï¼Œç§»åŠ¨å®Œæˆåï¼Œç›´æ¥æ¸…ç†æ‰è¾¹ç•Œå¤–çš„å†…å­˜ã€‚è¿™æ ·è€ç”Ÿä»£åƒåœ¾å›æ”¶å™¨å°±å®Œæˆå•¦ã€‚</p><h3 id="å…¨åœé¡¿" tabindex="-1"><a class="header-anchor" href="#å…¨åœé¡¿" aria-hidden="true">#</a> å…¨åœé¡¿</h3><p>åƒåœ¾å›æ”¶ç®—æ³•åœ¨æ‰§è¡Œå‰ï¼Œéœ€è¦å°†åº”ç”¨é€»è¾‘æš‚åœï¼Œæ‰§è¡Œå®Œåƒåœ¾å›æ”¶åå†æ‰§è¡Œåº”ç”¨é€»è¾‘ï¼Œè¿™ç§è¡Œä¸ºç§°ä¸ºã€Œå…¨åœé¡¿ã€</p><p>å¦‚æœå…¨åœé¡¿æ—¶é—´è¿‡é•¿å°±ä¼šé€ æˆé¡µé¢å¡é¡¿ã€‚</p><p>ä¸ºäº†è§£å†³å…¨åœé¡¿é—®é¢˜ï¼Œv8åšäº†å‡ ç‚¹ä¼˜åŒ–ï¼š<strong>å¢é‡æ ‡è®°</strong>ã€<strong>æƒ°æ€§æ¸…ç†</strong>ã€<strong>å¹¶å‘</strong>ã€<strong>å¹¶è¡Œ</strong></p><h4 id="å¢é‡æ ‡è®°" tabindex="-1"><a class="header-anchor" href="#å¢é‡æ ‡è®°" aria-hidden="true">#</a> å¢é‡æ ‡è®°</h4><p>å¢é‡æ ‡è®°å°±æ˜¯æŠŠåŸå…ˆæ ‡è®°æ‰€æœ‰å¯¹è±¡çš„ä»»åŠ¡åˆ†æˆäº†å‡ ä¸ªå°ä»»åŠ¡ï¼Œç©¿æ’åœ¨jsåº”ç”¨é€»è¾‘ä¹‹é—´ï¼Œå¢é‡æ ‡è®°åœ¨å †å¤§å°è¾¾åˆ°ä¸€å®šé‡çš„æ—¶å€™å¯ç”¨ï¼Œå¹¶åœ¨æ¯è¾¾åˆ°ä¸€å®šé‡æ—¶è¿›è¡Œæ ‡è®°ã€‚</p><p>å¢é‡æ ‡è®°å°±ä¼šé€ æˆä¹‹å‰æ ‡è®°è¿‡çš„å¯¹è±¡ï¼Œåœ¨æ‰§è¡Œjsç¨‹åºåï¼ŒæŒ‡å‘äº†æ–°çš„å¯¹è±¡ï¼Œä½†ç”±äºæ ‡è®°æ¸…é™¤(mark-sweep)ç®—æ³•æ˜¯ä¸ä¼šå¯¹å…¶è¿›è¡ŒäºŒæ¬¡æ ‡è®°çš„ï¼Œå› æ­¤éœ€è¦è¿›è¡Œå†™å±éšœæ“ä½œï¼Œå†™å±éšœä¸ä»…ä¼šè®°å½•â€™è€-&gt;æ–°â€˜æŒ‡é’ˆï¼Œä¹Ÿè®°å½•äº†&#39;é»‘-&gt;ç™½&#39;æŒ‡é’ˆï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åå¤æ¨ªè·³ï¼Œå°†ä¼šæŠŠæœ‰ç”¨çš„å¯¹è±¡æ¸…é™¤ã€‚å†™å±éšœè®°å½•äº†é»‘æŒ‡å‘ç™½ï¼Œå¦‚æœæœ‰é»‘æŒ‡å‘ç™½çš„æƒ…å†µä¼šç›´æ¥å°†ç™½çš„å¯¹è±¡æŸ“æˆç°çš„ã€‚</p><p>æ ‡è®°æ¸…é™¤ç®—æ³•ä¸­ä¼šæŠŠå·²ç»æ ‡è®°è¿‡çš„å¯¹è±¡è®°ä¸ºâ€™é»‘â€˜ï¼Œæ­£åœ¨æ ‡è®°çš„å¯¹è±¡è®°ä¸ºâ€™ç°â€˜(ç°å¯¹è±¡æ˜¯ç”¨æ¥é‡å¯æ—¶ç¡®å®šä»å“ªé‡Œå¼€å§‹çš„)ï¼Œè¿˜æ²¡æ ‡è®°çš„å¯¹è±¡è®°ä¸ºâ€™ç™½â€˜</p><h4 id="å†™å±éšœ" tabindex="-1"><a class="header-anchor" href="#å†™å±éšœ" aria-hidden="true">#</a> å†™å±éšœ</h4><p>å¦‚æœæœ‰ä¸ªæŒ‡é’ˆæŒ‡å‘æ–°ç”Ÿä»£å¯¹è±¡ï¼Œè¿™ä¸ªæŒ‡é’ˆåˆæ˜¯è€ç”Ÿä»£å¯¹è±¡æ¥çš„(æ¯”å¦‚è¯´æ˜¯è€ç”Ÿä»£å¯¹è±¡çš„ä¸€ä¸ªvalue)ï¼Œé‚£è¿™ç§æƒ…å†µæ ‡è®°çš„æ—¶å€™å¦‚æœæƒ³è¦çœ‹ä»–åˆ°åº•æ˜¯ä¸æ˜¯æ´»åŠ¨å¯¹è±¡ï¼Œè¿™ç§æƒ…å†µæ€»ä¸èƒ½å»éå†ä¸ªè€ç”Ÿä»£å¯¹è±¡å§ï¼Œè¿™å¤ªå¤æ‚äº†ï¼Œv8åœ¨è¿™é‡Œåˆåšäº†ä¸€ä¸ªä¼˜åŒ–ï¼Œå°±æ˜¯å»ºç«‹ä¸€ä¸ªç¼“å­˜ï¼Œåœ¨æœ‰è€ç”Ÿä»£æŒ‡å‘æ–°ç”Ÿä»£çš„æ—¶å€™ï¼Œå†™å…¥è¿™ä¸ªç¼“å­˜åˆ—è¡¨ï¼Œè¿™æ ·åœ¨æ ‡è®°çš„æ—¶å€™åªéœ€è¦çœ‹ä¸‹é‚£ä¸ªè¡¨å°±å¯ä»¥äº†ã€‚</p><h4 id="æƒ°æ€§æ¸…ç†" tabindex="-1"><a class="header-anchor" href="#æƒ°æ€§æ¸…ç†" aria-hidden="true">#</a> æƒ°æ€§æ¸…ç†</h4><p>å‡å¦‚å½“å‰çš„å¯ç”¨å†…å­˜è¶³ä»¥è®©æˆ‘ä»¬å¿«é€Ÿçš„æ‰§è¡Œä»£ç ï¼Œå…¶å®æˆ‘ä»¬æ˜¯æ²¡å¿…è¦ç«‹å³æ¸…ç†å†…å­˜çš„ï¼Œå¯ä»¥å°†æ¸…ç†çš„è¿‡ç¨‹å»¶è¿Ÿä¸€ä¸‹ï¼Œè®©JavaScripté€»è¾‘ä»£ç å…ˆæ‰§è¡Œï¼Œä¹Ÿæ— éœ€ä¸€æ¬¡æ€§æ¸…ç†å®Œæ‰€æœ‰éæ´»åŠ¨å¯¹è±¡å†…å­˜ï¼Œåƒåœ¾å›æ”¶å™¨ä¼šæŒ‰éœ€é€ä¸€è¿›è¡Œæ¸…ç†ï¼Œç›´åˆ°æ‰€æœ‰çš„é¡µéƒ½æ¸…ç†å®Œæ¯•ã€‚</p><h3 id="å¹¶å‘" tabindex="-1"><a class="header-anchor" href="#å¹¶å‘" aria-hidden="true">#</a> å¹¶å‘</h3><p>å¹¶å‘å¼GCå…è®¸åœ¨åœ¨åƒåœ¾å›æ”¶çš„åŒæ—¶ä¸éœ€è¦å°†ä¸»çº¿ç¨‹æŒ‚èµ·ï¼Œä¸¤è€…å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œåªæœ‰åœ¨ä¸ªåˆ«æ—¶å€™éœ€è¦çŸ­æš‚åœä¸‹æ¥è®©åƒåœ¾å›æ”¶å™¨åšä¸€äº›ç‰¹æ®Šçš„æ“ä½œã€‚ä½†æ˜¯è¿™ç§æ–¹å¼ä¹Ÿè¦é¢å¯¹å¢é‡å›æ”¶çš„é—®é¢˜ï¼Œå°±æ˜¯åœ¨åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­ï¼Œç”±äºJavaScriptä»£ç åœ¨æ‰§è¡Œï¼Œå †ä¸­çš„å¯¹è±¡çš„å¼•ç”¨å…³ç³»éšæ—¶å¯èƒ½ä¼šå˜åŒ–ï¼Œæ‰€ä»¥ä¹Ÿè¦è¿›è¡Œ<code>å†™å±éšœ</code>æ“ä½œã€‚</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20200926003554103.png" alt=""></p><h3 id="å¹¶è¡Œ" tabindex="-1"><a class="header-anchor" href="#å¹¶è¡Œ" aria-hidden="true">#</a> å¹¶è¡Œ</h3><p>å¹¶è¡Œå¼GCå…è®¸ä¸»çº¿ç¨‹å’Œè¾…åŠ©çº¿ç¨‹åŒæ—¶æ‰§è¡ŒåŒæ ·çš„GCå·¥ä½œï¼Œè¿™æ ·å¯ä»¥è®©è¾…åŠ©çº¿ç¨‹æ¥åˆ†æ‹…ä¸»çº¿ç¨‹çš„GCå·¥ä½œï¼Œä½¿å¾—åƒåœ¾å›æ”¶æ‰€è€—è´¹çš„æ—¶é—´ç­‰äºæ€»æ—¶é—´é™¤ä»¥å‚ä¸çš„çº¿ç¨‹æ•°é‡ï¼ˆåŠ ä¸Šä¸€äº›åŒæ­¥å¼€é”€ï¼‰ã€‚</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20200926004058072.png" alt=""></p><h3 id="ç›®å‰v8çš„åƒåœ¾å›æ”¶æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#ç›®å‰v8çš„åƒåœ¾å›æ”¶æœºåˆ¶" aria-hidden="true">#</a> ç›®å‰v8çš„åƒåœ¾å›æ”¶æœºåˆ¶</h3><p>åœ¨æ–°ç”Ÿä»£åƒåœ¾å›æ”¶ä¸­ï¼Œé‡‡ç”¨å¹¶è¡Œæœºåˆ¶ï¼Œè¾…åŠ©çº¿ç¨‹åšçš„äº‹æƒ…æ˜¯å¤åˆ¶é˜¶æ®µå³ä»<code>from-space</code>åˆ°<code>space-to</code>çš„è¿‡ç¨‹ï¼Œç”±äºå¤šä¸ªçº¿ç¨‹ç«äº‰ä¸€ä¸ªæ–°ç”Ÿä»£çš„å †çš„å†…å­˜èµ„æºï¼Œå¯èƒ½å‡ºç°æœ‰æŸä¸ªæ´»åŠ¨å¯¹è±¡è¢«å¤šä¸ªçº¿ç¨‹è¿›è¡Œå¤åˆ¶æ“ä½œçš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒV8åœ¨ç¬¬ä¸€ä¸ªçº¿ç¨‹å¯¹æ´»åŠ¨å¯¹è±¡è¿›è¡Œå¤åˆ¶å¹¶ä¸”å¤åˆ¶å®Œæˆåï¼Œéƒ½å¿…é¡»å»ç»´æŠ¤å¤åˆ¶è¿™ä¸ªæ´»åŠ¨å¯¹è±¡åçš„æŒ‡é’ˆè½¬å‘åœ°å€ï¼Œä»¥ä¾¿äºå…¶ä»–ååŠ©çº¿ç¨‹å¯ä»¥æ‰¾åˆ°è¯¥æ´»åŠ¨å¯¹è±¡åå¯ä»¥åˆ¤æ–­è¯¥æ´»åŠ¨å¯¹è±¡æ˜¯å¦å·²è¢«å¤åˆ¶ã€‚</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20200926103100834.png" alt=""></p><p>è€ç”Ÿä»£åƒåœ¾å›æ”¶ä¸­ï¼Œé‡‡ç”¨çš„æ˜¯å¹¶å‘æœºåˆ¶ï¼Œåœ¨å †å†…å­˜ç©ºé—´è¾¾åˆ°ä¸€å®šå¤§å°æ—¶ä¼šå¯ç”¨å¹¶å‘æ ‡è®°ï¼Œå› æ­¤ä¹Ÿä¼šå¯ç”¨å†™å±éšœæœºåˆ¶ï¼Œå½“å¹¶å‘æ ‡è®°å®Œæˆæˆ–è€…åŠ¨æ€åˆ†é…çš„å†…å­˜åˆ°è¾¾æé™çš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹ä¼šæ‰§è¡Œæœ€ç»ˆçš„å¿«é€Ÿæ ‡è®°æ­¥éª¤ï¼Œè¿™ä¸ªæ—¶å€™ä¸»çº¿ç¨‹ä¼šæŒ‚èµ·ï¼Œä¸»çº¿ç¨‹ä¼šå†ä¸€æ¬¡çš„æ‰«ææ ¹é›†ä»¥ç¡®ä¿æ‰€æœ‰çš„å¯¹è±¡éƒ½å®Œæˆäº†æ ‡è®°ï¼Œç¡®è®¤å®Œæˆä¹‹åï¼ŒæŸäº›è¾…åŠ©çº¿ç¨‹ä¼šè¿›è¡Œæ¸…ç†å†…å­˜æ“ä½œï¼ŒæŸäº›è¾…åŠ©è¿›ç¨‹ä¼šè¿›è¡Œå†…å­˜æ•´ç†æ“ä½œã€‚</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20200926105712369.png" alt=""></p><h1 id="v8å¼•æ“" tabindex="-1"><a class="header-anchor" href="#v8å¼•æ“" aria-hidden="true">#</a> v8å¼•æ“</h1><p>V8ç”±è®¸å¤šå­æ¨¡å—æ„æˆï¼Œå…¶ä¸­è¿™4ä¸ªæ¨¡å—æ˜¯æœ€é‡è¦çš„ï¼š</p><ul><li>Parserï¼šè´Ÿè´£å°†JavaScriptæºç è½¬æ¢ä¸ºAbstract Syntax Tree (AST)</li><li>Ignitionï¼šinterpreterï¼Œå³è§£é‡Šå™¨ï¼Œè´Ÿè´£å°†ASTè½¬æ¢ä¸ºBytecodeï¼Œè§£é‡Šæ‰§è¡ŒBytecodeï¼›åŒæ—¶æ”¶é›†TurboFanä¼˜åŒ–ç¼–è¯‘æ‰€éœ€çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å‡½æ•°å‚æ•°çš„ç±»å‹ï¼›</li><li>TurboFanï¼šcompilerï¼Œå³ç¼–è¯‘å™¨ï¼Œåˆ©ç”¨Ignitioæ‰€æ”¶é›†çš„ä¿¡æ¯ï¼Œå°†Bytecodeè½¬æ¢ä¸ºä¼˜åŒ–çš„æ±‡ç¼–ä»£ç ï¼›</li><li>Orinocoï¼šgarbage collectorï¼Œ<a href="https://blog.fundebug.com/2019/07/03/javascript-garbage-collection/" target="_blank" rel="noopener noreferrer">åƒåœ¾å›æ”¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æ¨¡å—ï¼Œè´Ÿè´£å°†ç¨‹åºä¸å†éœ€è¦çš„å†…å­˜ç©ºé—´å›æ”¶ï¼›</li></ul><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/2019-07-16-ignition-turbofan-pipeline.png" alt=""></p><p>Bytecodeå¯ä»¥é€šè¿‡ç¼–è¯‘å™¨åˆ°Machine Code,å›¾ä¸­ç”»çš„ä¸å¤ªå¯¹</p><p>è¿™é‡Œå‡ºç°äº†<code>Bytecode</code>å’Œ<code>Machine Code</code> (å®é™…ä¸Šæ˜¯æ±‡ç¼–ä»£ç )ï¼ŒBytecodeç±»ä¼¼äºMachine Codeï¼Œä¸è¿‡å®ƒæ²¡æœ‰å¯¹åº”çš„cpuï¼Œä¸éœ€è¦ä¸ºæ¯ä¸€ç§cpuéƒ½ç”Ÿæˆä¸åŒçš„ä»£ç ï¼Œå¼•å…¥Bytecodeä½œä¸ºä¸­é—´å±‚ï¼Œå¯ä»¥ç®€åŒ–v8çš„ç¼–è¯‘æµç¨‹ã€‚åœ¨æ‰§è¡Œå­—èŠ‚ç çš„è¿‡ç¨‹ä¸­å¦‚æœæŸæ®µä»£ç è¢«æ‰§è¡Œäº†å¤šæ¬¡ï¼Œå°±ä¼šå°†å…¶è®¤å®šä¸ºçƒ­ç‚¹ä»£ç ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠŠçƒ­ç‚¹ä»£ç ç¼–è¯‘ä¸ºæ›´é«˜æ•ˆçš„æœºå™¨ç ï¼Œè¿™äº›æœºå™¨ç æ˜¯å¯¹å­—èŠ‚ç è¿›è¡Œä¼˜åŒ–ä¹‹åç”Ÿæˆçš„ã€‚</p><h2 id="turbofan-ç¼–è¯‘å™¨" tabindex="-1"><a class="header-anchor" href="#turbofan-ç¼–è¯‘å™¨" aria-hidden="true">#</a> TurboFan ç¼–è¯‘å™¨</h2><p>ç¼–è¯‘å™¨æ˜¯æ ¹æ®è§£é‡Šå™¨æ”¶é›†çš„å†…å®¹åšçš„ä¼˜åŒ–ã€‚è¿™äº›å†…å®¹åŒ…æ‹¬å“ªäº›å‘¢ï¼Ÿ</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><p>jsæ˜¯æ²¡æœ‰ç±»å‹çš„ï¼Œå¦‚æœæˆ‘ç¬¬ä¸€æ¬¡è°ƒç”¨ä¸€ä¸ªaddå‡½æ•°ï¼Œä¼ å…¥çš„æ˜¯ä¸¤ä¸ªnumberç±»å‹ï¼Œé‚£ä¹ˆæˆ‘å°±æ”¶é›†åˆ°äº†è¿™ä¸ªå‡½æ•°ä»¥åå¤§æ¦‚ç‡ä¼šä¼ å…¥numberç±»å‹çš„ä¿¡æ¯ï¼Œå› æ­¤ç”Ÿæˆmachine Code çš„æ—¶å€™å°±ä¸ç”¨æŠŠæŠŠæ¯ä¸€ä¸ªåˆ¤æ–­æ•°æ®ç±»å‹çš„è¯­å¥éƒ½å†™ä¸Š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>if (isInteger(x) &amp;&amp; isInteger(y)) {    
	// æ•´æ•°ç›¸åŠ 
} else if (isFloat(x) &amp;&amp; isFloat(y)) {
    // æµ®ç‚¹æ•°ç›¸åŠ 
} 
else if (isString(x) &amp;&amp; isString(y)) {    
// å­—ç¬¦ä¸²æ‹¼æ¥
} else {    // å„ç§å…¶ä»–æƒ…å†µ}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘åªéœ€è¦å…ˆå†™ä¸Š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>if (isInteger(x) &amp;&amp; isInteger(y)) {    
// æ•´æ•°ç›¸åŠ 
} else {    
	// Deoptimization
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="scriptæ ‡ç­¾ä¸­çš„asyncå’Œdeferå±æ€§" tabindex="-1"><a class="header-anchor" href="#scriptæ ‡ç­¾ä¸­çš„asyncå’Œdeferå±æ€§" aria-hidden="true">#</a> scriptæ ‡ç­¾ä¸­çš„asyncå’Œdeferå±æ€§</h1><h2 id="script" tabindex="-1"><a class="header-anchor" href="#script" aria-hidden="true">#</a> script</h2><p>æµè§ˆå™¨åœ¨è§£æ HTML çš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å±æ€§çš„ script æ ‡ç­¾ï¼Œå°±ä¼šæš‚åœè§£æï¼Œå…ˆå‘é€ç½‘ç»œè¯·æ±‚è·å–è¯¥ JS è„šæœ¬çš„ä»£ç å†…å®¹ï¼Œç„¶åè®© JS å¼•æ“æ‰§è¡Œè¯¥ä»£ç ï¼Œå½“ä»£ç æ‰§è¡Œå®Œæ¯•åæ¢å¤è§£æã€‚å¯ä»¥çœ‹åˆ°ï¼Œscript é˜»å¡äº†æµè§ˆå™¨å¯¹ HTML çš„è§£æï¼Œå¦‚æœè·å– JS è„šæœ¬çš„ç½‘ç»œè¯·æ±‚è¿Ÿè¿Ÿå¾—ä¸åˆ°å“åº”ï¼Œæˆ–è€… JS è„šæœ¬æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œéƒ½ä¼šå¯¼è‡´ç™½å±ï¼Œç”¨æˆ·çœ‹ä¸åˆ°é¡µé¢å†…å®¹ã€‚</p><h2 id="async-script" tabindex="-1"><a class="header-anchor" href="#async-script" aria-hidden="true">#</a> async script</h2><p>asyncè¡¨ç¤ºå¼‚æ­¥ï¼Œå½“æµè§ˆå™¨é‡åˆ°å¸¦æœ‰ async å±æ€§çš„ script æ—¶ï¼Œè¯·æ±‚è¯¥è„šæœ¬çš„ç½‘ç»œè¯·æ±‚æ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šé˜»å¡æµè§ˆå™¨è§£æ HTMLï¼Œä¸€æ—¦ç½‘ç»œè¯·æ±‚å›æ¥ä¹‹åï¼Œå¦‚æœæ­¤æ—¶ HTML è¿˜æ²¡æœ‰è§£æå®Œï¼Œæµè§ˆå™¨ä¼šæš‚åœè§£æï¼Œå…ˆè®© JS å¼•æ“æ‰§è¡Œä»£ç ï¼Œæ‰§è¡Œå®Œæ¯•åå†è¿›è¡Œè§£æã€‚å½“ç„¶ï¼Œå¦‚æœåœ¨ JS è„šæœ¬è¯·æ±‚å›æ¥ä¹‹å‰ï¼ŒHTML å·²ç»è§£æå®Œæ¯•äº†ï¼Œé‚£å°±å•¥äº‹æ²¡æœ‰ï¼Œç«‹å³æ‰§è¡Œ JS ä»£ç ï¼Œæ‰€ä»¥ async æ˜¯ä¸å¯æ§çš„ï¼Œå› ä¸ºæ‰§è¡Œæ—¶é—´ä¸ç¡®å®šï¼Œä½ å¦‚æœåœ¨å¼‚æ­¥ JS è„šæœ¬ä¸­è·å–æŸä¸ª DOM å…ƒç´ ï¼Œæœ‰å¯èƒ½è·å–åˆ°ä¹Ÿæœ‰å¯èƒ½è·å–ä¸åˆ°ã€‚è€Œä¸”å¦‚æœå­˜åœ¨å¤šä¸ª async çš„æ—¶å€™ï¼Œå®ƒä»¬ä¹‹é—´çš„æ‰§è¡Œé¡ºåºä¹Ÿä¸ç¡®å®šï¼Œå®Œå…¨ä¾èµ–äºç½‘ç»œä¼ è¾“ç»“æœï¼Œè°å…ˆåˆ°æ‰§è¡Œè°ã€‚</p><h2 id="defer-script" tabindex="-1"><a class="header-anchor" href="#defer-script" aria-hidden="true">#</a> defer script</h2><p>defer è¡¨ç¤ºå»¶è¿Ÿï¼Œå½“æµè§ˆå™¨é‡åˆ°å¸¦æœ‰ defer å±æ€§çš„ script æ—¶ï¼Œè·å–è¯¥è„šæœ¬çš„ç½‘ç»œè¯·æ±‚ä¹Ÿæ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šé˜»å¡æµè§ˆå™¨è§£æ HTMLï¼Œä¸€æ—¦ç½‘ç»œè¯·æ±‚å›æ¥ä¹‹åï¼Œå¦‚æœæ­¤æ—¶ HTML è¿˜æ²¡æœ‰è§£æå®Œï¼Œæµè§ˆå™¨ä¸ä¼šæš‚åœè§£æå¹¶æ‰§è¡Œ JS ä»£ç ï¼Œè€Œæ˜¯ç­‰å¾… HTML è§£æå®Œæ¯•å†æ‰§è¡Œ JS ä»£ç ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ª defer script æ ‡ç­¾ï¼Œæµè§ˆå™¨ï¼ˆIE9åŠä»¥ä¸‹é™¤å¤–ï¼‰ä¼šä¿è¯å®ƒä»¬æŒ‰ç…§åœ¨ HTML ä¸­å‡ºç°çš„é¡ºåºæ‰§è¡Œï¼Œä¸ä¼šç ´å JS è„šæœ¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p><table><thead><tr><th style="text-align:center;">scriptæ ‡ç­¾</th><th style="text-align:center;">jsæ‰§è¡Œé¡ºåº</th><th style="text-align:center;">æ˜¯å¦é˜»æ–­è§£æhtml</th></tr></thead><tbody><tr><td style="text-align:center;">script</td><td style="text-align:center;">åœ¨htmlä¸­çš„é¡ºåº</td><td style="text-align:center;">é˜»å¡</td></tr><tr><td style="text-align:center;">script async</td><td style="text-align:center;">ç½‘ç»œè¯·æ±‚è¿”å›é¡ºåº</td><td style="text-align:center;">å¯èƒ½é˜»å¡ï¼Œä¹Ÿå¯èƒ½ä¸é˜»å¡</td></tr><tr><td style="text-align:center;">script defer</td><td style="text-align:center;">åœ¨htmlä¸­çš„é¡ºåº</td><td style="text-align:center;">ä¸é˜»å¡</td></tr></tbody></table><h1 id="æµè§ˆå™¨æ¸²æŸ“æµç¨‹" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨æ¸²æŸ“æµç¨‹" aria-hidden="true">#</a> æµè§ˆå™¨æ¸²æŸ“æµç¨‹</h1><p>ä»ç½‘ç»œä¼ ç»™æ¸²æŸ“å¼•æ“çš„ HTML æ–‡ä»¶å­—èŠ‚æµæ˜¯æ— æ³•ç›´æ¥è¢«æ¸²æŸ“å¼•æ“ç†è§£çš„ï¼Œæ‰€ä»¥è¦å°†å…¶è½¬åŒ–ä¸ºæ¸²æŸ“å¼•æ“èƒ½å¤Ÿç†è§£çš„å†…éƒ¨ç»“æ„ï¼Œè¿™ä¸ªç»“æ„å°±æ˜¯ DOMã€‚DOM æä¾›äº†å¯¹ HTML æ–‡æ¡£ç»“æ„åŒ–çš„è¡¨è¿°ã€‚</p><h2 id="domæ ‘å¦‚ä½•ç”Ÿæˆ" tabindex="-1"><a class="header-anchor" href="#domæ ‘å¦‚ä½•ç”Ÿæˆ" aria-hidden="true">#</a> DOMæ ‘å¦‚ä½•ç”Ÿæˆ</h2><p>æ¸²æŸ“å¼•æ“å†…éƒ¨ï¼Œæœ‰ä¸€ä¸ªå«HTML è§£æå™¨<code>ï¼ˆHTMLParserï¼‰</code>çš„æ¨¡å—ï¼Œå®ƒçš„èŒè´£å°±æ˜¯è´Ÿè´£å°†HTML å­—èŠ‚æµè½¬æ¢ä¸º DOM ç»“æ„ã€‚HTMLè§£æå™¨ä¼šéšç€HTMLæ–‡æ¡£è¾¹åŠ è½½è¾¹è§£æã€‚å…·ä½“æµç¨‹æ˜¯ï¼š</p><p>ç½‘ç»œè¿›ç¨‹æ”¶åˆ°å“åº”å¤´åï¼Œçœ‹åˆ°<code>content-type</code>ä¸º<code>text/html</code>æ—¶,å°±ä¼šä¸ºè¯·æ±‚åˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œæ¸²æŸ“è¿›ç¨‹å‡†å¤‡å¥½åç½‘ç»œè¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´å°±ä¼šå»ºç«‹ä¸€ä¸ªå…±äº«æ•°æ®çš„é€šé“ï¼Œç½‘ç»œè¿›ç¨‹æ¥æ”¶åˆ°æ•°æ®åå°±å¾€è¿™ä¸ªç®¡é“é‡Œé¢æ”¾ï¼Œè€Œæ¸²æŸ“è¿›ç¨‹åˆ™ä»ç®¡é“çš„å¦å¤–ä¸€ç«¯ä¸æ–­åœ°è¯»å–æ•°æ®ï¼Œå¹¶åŒæ—¶å°†è¯»å–çš„æ•°æ®â€œå–‚â€ç»™ HTML è§£æå™¨.</p><p><strong>å­—èŠ‚æµè½¬æ¢ä¸ºDOM</strong></p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/8946fb176bc4f3ff9c160d1d04dd03dc.png" alt=""></p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/709961d9786c7e32781a37f3f1321f05.png" alt=""></p><p>è§£æHTMLä¼šé€šè¿‡åˆ†è¯å™¨å°†å­—èŠ‚æµè½¬æ¢ä¸ºä¸€ä¸ªä¸€ä¸ªtokenï¼Œå¹¶ä¸”æŒ‰é¡ºåºè¿›å‡ºæ ˆã€‚</p><p>å¦‚æœæ˜¯<code>startTag</code>ä¼šå‹å…¥æ ˆï¼Œæ–‡æœ¬èŠ‚ç‚¹ä¸å‹å…¥æ ˆï¼Œå¦‚æœæ˜¯<code>endTag</code> HTMLè§£æå™¨ä¼šåˆ¤æ–­æ ˆé¡¶æ˜¯ä¸æ˜¯å¯¹åº”çš„<code>startTag</code>,å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆå‡ºæ ˆï¼Œå°±è¿™æ ·æ„å»ºå‡ºDOMæ ‘ã€‚</p><h2 id="javascriptå¯¹domæ ‘æ„å»ºå’Œæ¸²æŸ“çš„å½±å“" tabindex="-1"><a class="header-anchor" href="#javascriptå¯¹domæ ‘æ„å»ºå’Œæ¸²æŸ“çš„å½±å“" aria-hidden="true">#</a> JavaScriptå¯¹Domæ ‘æ„å»ºå’Œæ¸²æŸ“çš„å½±å“</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;html&gt;
&lt;body&gt;
&lt;div&gt;1&lt;/div&gt;
&lt;script&gt;
let div1 = document.getElementsByTagName(&#39;div&#39;)[0]
div1.innerText = &#39;time.geekbang&#39;
&lt;/script&gt;
&lt;div&gt;test&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/8ecb292b1dacd61f1bc262447f6591ba.png" alt=""></p><p>å½“DOMæ ‘æ„å»ºè¿‡ç¨‹ä¸­é‡åˆ°äº†scriptè„šæœ¬ï¼Œé‚£ä¹ˆDOMæ ‘æ„å»ºæµç¨‹ä¼šæš‚åœï¼Œå› ä¸ºscriptè„šæœ¬å¯èƒ½ä¼šå¯¹domè¿›è¡Œä¿®æ”¹ï¼Œå› æ­¤è¦ç­‰å¾…scriptè„šæœ¬æ‰§è¡Œå®Œå†æ¥ç€æ„å»ºDOMæ ‘ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//foo.js
let div1 = document.getElementsByTagName(&#39;div&#39;)[0]
div1.innerText = &#39;time.geekbang&#39;

&lt;html&gt;
&lt;body&gt;
&lt;div&gt;1&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot; src=&#39;foo.js&#39;&gt;&lt;/script&gt;
&lt;div&gt;test&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ˜¯å¼•å…¥jsæ–‡ä»¶ï¼Œé‚£ä¹ˆè¿˜éœ€è¦ä¸€ä¸ªä¸‹è½½çš„è¿‡ç¨‹ï¼Œè¿™æ ·å°±ä¼šæ›´åŠ çš„è€—æ—¶ã€‚</p><p>ä¸è¿‡Chormeæµè§ˆå™¨åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œå…¶ä¸­ä¸€ä¸ªä¼˜åŒ–å°±æ˜¯å½“æ¸²æŸ“å¼•æ“æ”¶åˆ°å­—èŠ‚æµä¹‹åä¼šå¼€å¯é¢„è§£æçº¿ç¨‹ï¼Œç”¨äºåˆ†æHTMLæ–‡ä»¶ä¸­åŒ…å«çš„ JavaScriptã€CSS ç­‰ç›¸å…³æ–‡ä»¶ï¼Œè§£æåˆ°ç›¸å…³æ–‡ä»¶ä¹‹åï¼Œé¢„è§£æçº¿ç¨‹ä¼šæå‰ä¸‹è½½è¿™äº›æ–‡ä»¶ã€‚</p><p>å¦‚æœ JavaScript æ–‡ä»¶ä¸­æ²¡æœ‰æ“ä½œ DOM ç›¸å…³ä»£ç ï¼Œå°±å¯ä»¥å°†è¯¥ JavaScript è„šæœ¬è®¾ç½®ä¸ºå¼‚æ­¥åŠ è½½ï¼Œé€šè¿‡ async æˆ– defer æ¥æ ‡è®°ä»£ç ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;script async type=&quot;text/javascript&quot; src=&#39;foo.js&#39;&gt;&lt;/script&gt;
æˆ–è€…
&lt;script defer type=&quot;text/javascript&quot; src=&#39;foo.js&#39;&gt;&lt;/script&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>htmlé¡µé¢ä¸­æœ‰cssæ ·å¼</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//theme.css
div {color:blue}

&lt;html&gt;
    &lt;head&gt;
    	&lt;style src=&#39;theme.css&#39;&gt;&lt;/style&gt;
    &lt;/head&gt;
&lt;body&gt;
    &lt;div&gt;1&lt;/div&gt;
    &lt;script&gt;
        let div1 = document.getElementsByTagName(&#39;div&#39;)[0]
        div1.innerText = &#39;time.geekbang&#39; // éœ€è¦ DOM
        div1.style.color = &#39;red&#39; // éœ€è¦ CSSOM
    &lt;/script&gt;
    &lt;div&gt;test&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆä¸å¯é¿å…çš„æ˜¯è¦ä¸‹è½½ï¼Œç”±äºåœ¨æ‰§è¡Œ<code>js</code>è„šæœ¬ä¹‹å‰ï¼Œæ¸²æŸ“å¼•æ“æ˜¯ä¸çŸ¥é“è¯¥è„šæœ¬æ˜¯å¦ä¼šæ“çºµ<code>CSSOM</code>ï¼Œä¸ç®¡è¯¥è„šæœ¬æ˜¯å¦æ“çºµäº† <code>CSSOM</code>ï¼Œéƒ½ä¼šæ‰§è¡Œ<code>CSS </code>æ–‡ä»¶ä¸‹è½½ï¼Œè§£ææ“ä½œï¼Œå†æ‰§è¡Œ JavaScript è„šæœ¬ã€‚</p><p><em>å’Œ HTML ä¸€æ ·ï¼Œæ¸²æŸ“å¼•æ“ä¹Ÿæ˜¯æ— æ³•ç›´æ¥ç†è§£ <code>CSS</code> æ–‡ä»¶å†…å®¹çš„ï¼Œæ‰€ä»¥éœ€è¦å°†å…¶è§£ææˆæ¸²æŸ“å¼•</em> æ“èƒ½å¤Ÿç†è§£çš„ç»“æ„ï¼Œè¿™ä¸ªç»“æ„å°±æ˜¯ <code>CSSOM</code>ã€‚ç­‰ DOM å’Œ <code>CSSOM </code>éƒ½æ„å»ºå¥½ä¹‹åï¼Œæ¸²æŸ“å¼•æ“å°±ä¼šæ„é€ å¸ƒå±€æ ‘</p><p>**æ€»ç»“ï¼š**CSSä¸ä¼šé˜»å¡DOMæ ‘çš„è§£æï¼Œä½†æ˜¯ä¼šå½±å“ JavaScriptçš„è¿è¡Œï¼Œ</p><p>JavaScript ä¼šé˜»æ­¢DOMæ ‘çš„è§£æï¼Œ</p><p>æœ€ç»ˆ<code>CSS</code>ï¼ˆ<code>CSSOM</code>ï¼‰ä¼šå½±å“DOMæ ‘çš„æ¸²æŸ“ï¼Œä¹Ÿå¯ä»¥è¯´æœ€ç»ˆä¼šå½±å“å¸ƒå±€æ ‘çš„ç”Ÿæˆ</p><p><em><code>CSS</code>ä¸ä¼šé˜»å¡DOMè§£æï¼Œä½†æ˜¯ä¼šé˜»å¡DOMæ¸²æŸ“ ,<code>JS</code>ä¼šé˜»å¡DOMè§£æï¼Œ<code>CSS</code>ä¼šé˜»å¡<code>JS</code>çš„æ‰§è¡Œ</em></p><p>**DOMæ ‘å’ŒCSSOMæ ‘æ˜¯äº’æ–¥çš„è¿˜æ˜¯åŒæ—¶çš„ï¼Ÿ**åŒæ—¶çš„</p><p>**JSè„šæœ¬é˜»å¡DOMæ„å»ºï¼Œjsè„šæœ¬ä¼šä¸ä¼šå¯¹CSSOMæ ‘å½±å“ï¼Ÿ**ä¸ä¼šé˜»å¡CSSOMæ ‘</p><h2 id="é‡ç»˜ä¸å›æµ" tabindex="-1"><a class="header-anchor" href="#é‡ç»˜ä¸å›æµ" aria-hidden="true">#</a> é‡ç»˜ä¸å›æµ</h2><p>æµè§ˆå™¨ç”Ÿæˆrenderæ ‘åä¼šè§¦å‘å›æµå’Œé‡ç»˜ï¼Œå›æµè·å–èŠ‚ç‚¹çš„å‡ ä½•ä½ç½®ï¼Œé‡ç»˜è·å–èŠ‚ç‚¹çš„ç»å¯¹åƒç´ ï¼Œæ¥ç€ä¼šæŠŠè¿™äº›ä¿¡æ¯å‘é€ç»™GPUï¼Œå±•ç¤ºåœ¨é¡µé¢ä¸Š</p><h2 id="å›æµ" tabindex="-1"><a class="header-anchor" href="#å›æµ" aria-hidden="true">#</a> å›æµ</h2><p>å‰é¢æˆ‘ä»¬é€šè¿‡æ„é€ æ¸²æŸ“æ ‘ï¼Œæˆ‘ä»¬å°†å¯è§DOMèŠ‚ç‚¹ä»¥åŠå®ƒå¯¹åº”çš„æ ·å¼ç»“åˆèµ·æ¥ï¼Œå¯æ˜¯æˆ‘ä»¬è¿˜éœ€è¦è®¡ç®—å®ƒä»¬åœ¨è®¾å¤‡è§†å£(viewport)å†…çš„ç¡®åˆ‡ä½ç½®å’Œå¤§å°ï¼Œè¿™ä¸ªè®¡ç®—çš„é˜¶æ®µå°±æ˜¯å›æµã€‚</p><h3 id="é‡ç»˜" tabindex="-1"><a class="header-anchor" href="#é‡ç»˜" aria-hidden="true">#</a> é‡ç»˜</h3><p>æœ€ç»ˆï¼Œæˆ‘ä»¬é€šè¿‡æ„é€ æ¸²æŸ“æ ‘å’Œå›æµé˜¶æ®µï¼Œæˆ‘ä»¬çŸ¥é“äº†å“ªäº›èŠ‚ç‚¹æ˜¯å¯è§çš„ï¼Œä»¥åŠå¯è§èŠ‚ç‚¹çš„æ ·å¼å’Œå…·ä½“çš„å‡ ä½•ä¿¡æ¯(ä½ç½®ã€å¤§å°)ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†æ¸²æŸ“æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è½¬æ¢ä¸ºå±å¹•ä¸Šçš„å®é™…åƒç´ ï¼Œè¿™ä¸ªé˜¶æ®µå°±å«åšé‡ç»˜èŠ‚ç‚¹ã€‚</p><p>å›æµä¸€å®šè§¦å‘é‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šä¼šå›æµ</p><h3 id="æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶" aria-hidden="true">#</a> æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶</h3><p>æµè§ˆå™¨ä¼šæŠŠä¸€äº›å¯ä»¥ä¸€èµ·æ›´æ–°çš„æ”¾åœ¨é˜Ÿåˆ—é‡Œï¼Œå½“é˜Ÿåˆ—è¾¾åˆ°é˜ˆå€¼åæ‰ä¼šè§¦å‘å›æµé‡ç»˜ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æœ‰è·å–é¡µé¢ä¿¡æ¯çš„æ“ä½œæ—¶ï¼Œä¼šå¼ºåˆ¶åˆ·æ–°è·å–æœ€æ–°çš„é¡µé¢ä¿¡æ¯ã€‚</p><h3 id="æ‰¹é‡ä¿®æ”¹dom" tabindex="-1"><a class="header-anchor" href="#æ‰¹é‡ä¿®æ”¹dom" aria-hidden="true">#</a> æ‰¹é‡ä¿®æ”¹dom</h3><p>å¯ä»¥é€šè¿‡å°†å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼ˆéšè—æ¯”è¾ƒåˆé€‚ï¼‰ï¼Œå¯¹å…¶è¿›è¡Œæ‰¹é‡ä¿®æ”¹ï¼Œå†å¸¦å›æ–‡æ¡£æµ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>function appendDataToElement(appendToElement, data) {
    let li;
    for (let i = 0; i &lt; data.length; i++) {
    	li = document.createElement(&#39;li&#39;);
        li.textContent = &#39;text&#39;;
        appendToElement.appendChild(li);
    }
}

const ul = document.getElementById(&#39;list&#39;);
appendDataToElement(ul, data);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="æµè§ˆå™¨è¿›ç¨‹" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨è¿›ç¨‹" aria-hidden="true">#</a> æµè§ˆå™¨è¿›ç¨‹</h1><ol><li>Browserè¿›ç¨‹ï¼šæµè§ˆå™¨çš„ä¸»è¿›ç¨‹ï¼ˆè´Ÿè´£åè°ƒï¼Œä¸»æ§ï¼‰</li><li>ç¬¬ä¸‰æ–¹æ’ä»¶è¿›ç¨‹ï¼šæ¯ç§ç±»å‹çš„æ’ä»¶å¯¹åº”ä¸€ä¸ªè¿›ç¨‹ï¼Œä»…å½“ä½¿ç”¨è¯¥æ’ä»¶æ—¶æ‰åˆ›å»º</li><li>GPUè¿›ç¨‹ï¼šæœ€å¤šä¸€ä¸ªï¼Œç”¨äº3Dç»˜åˆ¶</li><li><strong>æµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹ï¼ˆå†…æ ¸ï¼‰</strong>ï¼šé»˜è®¤æ¯ä¸ªTabé¡µé¢ä¸€ä¸ªè¿›ç¨‹ï¼Œäº’ä¸å½±å“ï¼Œæ§åˆ¶é¡µé¢æ¸²æŸ“ï¼Œè„šæœ¬æ‰§è¡Œï¼Œäº‹ä»¶å¤„ç†ç­‰ï¼ˆæœ‰æ—¶å€™ä¼šä¼˜åŒ–ï¼Œå¦‚å¤šä¸ªç©ºç™½tabä¼šåˆå¹¶æˆä¸€ä¸ªè¿›ç¨‹ï¼‰</li></ol><h2 id="æ¸²æŸ“è¿›ç¨‹" tabindex="-1"><a class="header-anchor" href="#æ¸²æŸ“è¿›ç¨‹" aria-hidden="true">#</a> æ¸²æŸ“è¿›ç¨‹</h2><p><strong>GUIæ¸²æŸ“çº¿ç¨‹</strong></p><ul><li>è´Ÿè´£æ¸²æŸ“é¡µé¢ï¼Œå¸ƒå±€å’Œç»˜åˆ¶</li><li>é¡µé¢éœ€è¦é‡ç»˜å’Œå›æµæ—¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œ</li><li>ä¸jså¼•æ“çº¿ç¨‹äº’æ–¥ï¼Œé˜²æ­¢æ¸²æŸ“ç»“æœä¸å¯é¢„æœŸ</li></ul><p><strong>JSå¼•æ“çº¿ç¨‹</strong></p><ul><li>è´Ÿè´£å¤„ç†è§£æå’Œæ‰§è¡Œjavascriptè„šæœ¬ç¨‹åº</li><li>åªæœ‰ä¸€ä¸ªJSå¼•æ“çº¿ç¨‹ï¼ˆå•çº¿ç¨‹ï¼‰</li><li>ä¸GUIæ¸²æŸ“çº¿ç¨‹äº’æ–¥ï¼Œé˜²æ­¢æ¸²æŸ“ç»“æœä¸å¯é¢„æœŸ</li></ul><p><strong>äº‹ä»¶è§¦å‘çº¿ç¨‹</strong></p><ul><li>ç”¨æ¥æ§åˆ¶äº‹ä»¶å¾ªç¯ï¼ˆé¼ æ ‡ç‚¹å‡»ã€setTimeoutã€ajaxç­‰ï¼‰</li><li>å½“å¤„ç†ä¸€äº›ä¸èƒ½ç«‹å³æ‰§è¡Œçš„ä»£ç æ—¶ï¼Œä¼šå°†å¯¹åº”çš„ä»»åŠ¡åœ¨å…¶å¯ä»¥è§¦å‘çš„æ—¶æœºï¼Œæ·»åŠ åˆ°äº‹ä»¶é˜Ÿåˆ—çš„æœ«ç«¯</li><li>äº‹ä»¶å¾ªç¯æœºåˆ¶ä¼šåœ¨JSå¼•æ“çº¿ç¨‹ç©ºé—²æ—¶ï¼Œå¾ªç¯è®¿é—®äº‹ä»¶é˜Ÿåˆ—çš„å¤´éƒ¨ï¼Œå¦‚æœæœ‰å‡½æ•°ï¼Œåˆ™ä¼šå°†è¯¥å‡½æ•°æ¨åˆ°æ‰§è¡Œæ ˆä¸­å¹¶ç«‹å³æ‰§è¡Œ</li></ul><p><strong>å®šæ—¶è§¦å‘å™¨çº¿ç¨‹</strong></p><ul><li>setIntervalä¸setTimeoutæ‰€åœ¨çš„çº¿ç¨‹</li><li>å®šæ—¶ä»»åŠ¡å¹¶ä¸æ˜¯ç”±JSå¼•æ“è®¡æ—¶çš„ï¼Œæ˜¯ç”±å®šæ—¶è§¦å‘çº¿ç¨‹æ¥è®¡æ—¶çš„</li><li>è®¡æ—¶å®Œæ¯•åï¼Œå°†å›è°ƒäº‹ä»¶æ”¾å…¥åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­</li></ul><p><strong>å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹</strong></p><ul><li>æµè§ˆå™¨æœ‰ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ç”¨äºå¤„ç†AJAXè¯·æ±‚</li><li>å½“è¯·æ±‚å®Œæˆæ—¶ï¼Œè‹¥æœ‰å›è°ƒå‡½æ•°ï¼Œå°†å›è°ƒäº‹ä»¶æ”¾å…¥åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­</li></ul><p>å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹å’Œå®šæ—¶å™¨è§¦å‘å™¨çº¿ç¨‹éƒ½æ˜¯é€šè¿‡jså¼•æ“çº¿ç¨‹é€šçŸ¥çš„ï¼Œåœ¨å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹è¯·æ±‚å®Œæˆåæˆ–è€…å®šæ—¶å™¨ç­‰å¾…ä¸€æ®µæ—¶é—´åä¼šå°†å›è°ƒäº‹ä»¶æ”¾å…¥äº‹ä»¶é˜Ÿåˆ—ï¼Œäº‹ä»¶é˜Ÿåˆ—æ˜¯ç”±äº‹ä»¶è§¦å‘çº¿ç¨‹ç®¡ç†çš„</p><h1 id="js-æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#js-æ•°æ®ç±»å‹" aria-hidden="true">#</a> js æ•°æ®ç±»å‹</h1><p><a href="https://blog.csdn.net/jiangjuanjaun/article/details/80327342" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/jiangjuanjaun/article/details/80327342<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h1 id="http-ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#http-ç¼“å­˜" aria-hidden="true">#</a> http ç¼“å­˜</h1><p>httpç¼“å­˜åˆ†ä¸ºå¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜ï¼Œå¼ºåˆ¶ç¼“å­˜å°±æ˜¯åœ¨å“åº”å¤´é‡Œå‘Šè¯‰ä½ ä»¥åå¤šä¹…éƒ½å¯ä»¥ç›´æ¥æ‹¿ç¼“å­˜äº†ï¼ˆExpiresï¼ŒCache-Controlï¼‰</p><p>åå•†ç¼“å­˜å°±æ˜¯åˆ¤æ–­æ˜¯ä¸æ˜¯æ›´æ–°äº†ï¼Œå¦‚æœæ²¡æ›´æ–°å°±å¯ä»¥ç›´æ¥æ‹¿ç¼“å­˜äº†ã€‚(Etag&amp;If-None-Match,Last-Modified&amp;If-Modified-Since)</p><h3 id="å¼ºåˆ¶ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#å¼ºåˆ¶ç¼“å­˜" aria-hidden="true">#</a> å¼ºåˆ¶ç¼“å­˜</h3><h4 id="expireså¤´-å…¼å®¹" tabindex="-1"><a class="header-anchor" href="#expireså¤´-å…¼å®¹" aria-hidden="true">#</a> Expireså¤´ï¼ˆå…¼å®¹ï¼‰</h4><p><code>Expires: Wed, 21 Oct 2000 07:28:00 GMT</code></p><p>è¡¨ç¤ºåœ¨è¿™ä¸ªæ—¶é—´ä¹‹å‰ä½ éƒ½å¯ä»¥ç›´æ¥æ‹¿ç¼“å­˜äº†</p><h4 id="cache-control-http1-1" tabindex="-1"><a class="header-anchor" href="#cache-control-http1-1" aria-hidden="true">#</a> Cache-Controlï¼ˆhttp1.1ï¼‰</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Cache<span class="token operator">-</span>Control<span class="token operator">:</span> max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">20000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>max-ageè¡¨ç¤ºåœ¨è¿™ä¹ˆå¤šæ—¶é—´å†…ä¹Ÿå¯ä»¥ç›´æ¥æ‹¿ç¼“å­˜ï¼›è¿˜æœ‰ä¸€ä¸ªimmutableå±æ€§å°±æ˜¯è¯´ä»¥åéƒ½å¯ä»¥ç›´æ¥ç”¨ç¼“å­˜ï¼›è¿˜æœ‰no-cacheï¼šä½¿ç”¨ç¼“å­˜å‰ï¼Œå¼ºåˆ¶è¦æ±‚æŠŠè¯·æ±‚æäº¤ç»™æœåŠ¡å™¨è¿›è¡ŒéªŒè¯(åå•†ç¼“å­˜éªŒè¯)ã€‚</p><p>no-storeï¼šä¸å­˜å‚¨æœ‰å…³å®¢æˆ·ç«¯è¯·æ±‚æˆ–æœåŠ¡å™¨å“åº”çš„ä»»ä½•å†…å®¹ï¼Œå³ä¸ä½¿ç”¨ä»»ä½•ç¼“å­˜ã€‚</p><p>max-ageçš„ä¼˜å…ˆçº§å¤§äºExpires</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>app.get(&#39;/storage&#39;,(req,res)=&gt;{
      res.setHeader(&#39;Cache-control&#39;,&#39;public,max-age=10&#39;)
      res.send()
})//è®¾ç½®ä¸ªå“åº”å¤´å°±å¯ä»¥äº†
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åå•†ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#åå•†ç¼“å­˜" aria-hidden="true">#</a> åå•†ç¼“å­˜</h3><h4 id="etag-if-none-match" tabindex="-1"><a class="header-anchor" href="#etag-if-none-match" aria-hidden="true">#</a> ETag&amp;If-None-Match</h4><p>ETagæ”¾åœ¨å“åº”å¤´é‡Œå‘Šè¯‰å®¢æˆ·ç«¯æ­¤æ¬¡ç‰ˆæœ¬å·ï¼Œå®¢æˆ·ç«¯æ‹¿åˆ°äº†è¿™ä¸ªETagå’Œè¿”å›å€¼ä¸€èµ·å­˜ä¸‹æ¥ï¼Œä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™ä¼šä½¿ç”¨é…å¥—çš„If-None-Matchæ¥åˆ¤æ–­æœ‰æ— æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæ²¡æœ‰è¿”å›304ï¼Œå‘Šè¯‰æµè§ˆå™¨ç›´æ¥æ‹¿ç¼“å­˜ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">ETag</span><span class="token operator">:</span> <span class="token string">&quot;33a64df551425fcc55e4d42a148795d9f25f89d4&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>If<span class="token operator">-</span>None<span class="token operator">-</span>Match<span class="token operator">:</span> <span class="token string">&quot;33a64df551425fcc55e4d42a148795d9f25f89d4&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>fs.readFile(pathname, function (err, data) {
    let Etag = `${data.length.toString(16)}${stat.mtime.toString(16)}`//ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´åŠ æ–‡ä»¶å¤§å°
    if((req.headers[&#39;if-modified-since&#39;] === stat.mtime.toUTCString()) || (req.headers[&#39;if-none-match&#39;] === Etag)) {
      statusCode = 304;
    }
    res.writeHead(statusCode, {
      &#39;Content-Type&#39;: headType,
      Etag
    });
    res.end(data);    
  });
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="last-modified-if-modified-since" tabindex="-1"><a class="header-anchor" href="#last-modified-if-modified-since" aria-hidden="true">#</a> Last-Modified&amp;If-Modified-Since</h4><p>Last-Modifiedå­˜æ”¾ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´ï¼ŒIf-Modified-Sinceæ”¾åœ¨è¯·æ±‚å¤´ä¸­ï¼ŒæœåŠ¡å™¨æ‹¿åˆ°è¿™ä¸ªå¤´ååˆ¤æ–­æœ‰æ— æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰ï¼Œå°±è¿”å›304ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Last<span class="token operator">-</span>Modified<span class="token operator">:</span> Wed<span class="token punctuation">,</span> <span class="token number">21</span> Oct <span class="token number">2000</span> <span class="token number">07</span><span class="token operator">:</span><span class="token number">28</span><span class="token operator">:</span><span class="token number">00</span> <span class="token constant">GMT</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>If<span class="token operator">-</span>Modified<span class="token operator">-</span>Since<span class="token operator">:</span> Wed<span class="token punctuation">,</span> <span class="token number">21</span> Oct <span class="token number">2000</span> <span class="token number">07</span><span class="token operator">:</span><span class="token number">28</span><span class="token operator">:</span><span class="token number">00</span> <span class="token constant">GMT</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ETagä¼˜å…ˆçº§å¤§äºLast-Modified</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>// çœç•¥å…¶ä»–ä»£ç 
let stat = fs.statSync(pathname);
  fs.readFile(pathname, function (err, data) {
    // åˆ¤æ–­è¯·æ±‚å¤´çš„æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ˜¯å¦ç­‰äºæœåŠ¡ç«¯çš„æ–‡ä»¶ä¿®æ”¹æ—¶é—´
    if(req.headers[&#39;if-modified-since&#39;] === stat.mtime.toUTCString()) { // mtimeä¸ºæ–‡ä»¶å†…å®¹æ”¹å˜çš„æ—¶é—´æˆ³
      statusCode = 304;
    }
    res.writeHead(statusCode, {
      &#39;Content-Type&#39;: headType,
      &#39;Last-Modified&#39;:stat.mtime.toUTCString()
    });
    res.end(data);    
  });

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§" tabindex="-1"><a class="header-anchor" href="#åå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§" aria-hidden="true">#</a> åå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§</h3><p><strong>å…ˆåˆ¤æ–­å¼ºåˆ¶ç¼“å­˜ï¼Œå¦‚æœå¼ºåˆ¶ç¼“å­˜ç”Ÿæ•ˆï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼›å¦‚æœå¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œå†å‘è¯·æ±‚è·ŸæœåŠ¡å™¨åå•†ï¼Œçœ‹è¦ä¸è¦ä½¿ç”¨ç¼“å­˜</strong>ã€‚</p><p>https://segmentfault.com/a/1190000038562294</p><h2 id="æµè§ˆå™¨ç¼“å­˜çš„ä½ç½®" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨ç¼“å­˜çš„ä½ç½®" aria-hidden="true">#</a> æµè§ˆå™¨ç¼“å­˜çš„ä½ç½®</h2><p>æŸ¥æ‰¾æµè§ˆå™¨ç¼“å­˜æ—¶ä¼šæŒ‰é¡ºåºæŸ¥æ‰¾: Service Workerâ€“&gt;Memory Cacheâ€“&gt;Disk Cacheâ€“&gt;Push Cacheã€‚</p><h3 id="service-worker" tabindex="-1"><a class="header-anchor" href="#service-worker" aria-hidden="true">#</a> Service Worker</h3><p>æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨èƒŒåçš„ç‹¬ç«‹çº¿ç¨‹,è¦æ±‚è¯·æ±‚å¿…é¡»æ˜¯httpsï¼Œå› ä¸º Service Worker ä¸­æ¶‰åŠåˆ°è¯·æ±‚æ‹¦æˆªï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨ HTTPS åè®®æ¥ä¿éšœå®‰å…¨</p><h3 id="memory-cache" tabindex="-1"><a class="header-anchor" href="#memory-cache" aria-hidden="true">#</a> Memory Cache</h3><p>å†…å­˜ä¸­çš„ç¼“å­˜ï¼Œä¸»è¦åŒ…å«çš„æ˜¯å½“å‰ä¸­é¡µé¢ä¸­å·²ç»æŠ“å–åˆ°çš„èµ„æºï¼Œä¾‹å¦‚é¡µé¢ä¸Šå·²ç»ä¸‹è½½çš„æ ·å¼ã€è„šæœ¬ã€å›¾ç‰‡ç­‰ã€‚å†…å­˜ç¼“å­˜è™½ç„¶è¯»å–é«˜æ•ˆï¼Œå¯æ˜¯ç¼“å­˜æŒç»­æ€§å¾ˆçŸ­ï¼Œä¼šéšç€è¿›ç¨‹çš„é‡Šæ”¾è€Œé‡Šæ”¾ã€‚ä¸€æ—¦æˆ‘ä»¬å…³é—­ Tab é¡µé¢ï¼Œå†…å­˜ä¸­çš„ç¼“å­˜ä¹Ÿå°±è¢«é‡Šæ”¾äº†ã€‚</p><h3 id="disk-cache" tabindex="-1"><a class="header-anchor" href="#disk-cache" aria-hidden="true">#</a> Disk Cache</h3><p>å­˜åœ¨ç£ç›˜å†…ï¼Œå®¹é‡å¤§ï¼Œè¯»å–é€Ÿåº¦æ…¢ï¼Œå®ƒä¼šæ ¹æ® HTTP Herder ä¸­çš„å­—æ®µåˆ¤æ–­å“ªäº›èµ„æºéœ€è¦ç¼“å­˜ï¼Œå“ªäº›èµ„æºå¯ä»¥ä¸è¯·æ±‚ç›´æ¥ä½¿ç”¨ï¼Œå“ªäº›èµ„æºå·²ç»è¿‡æœŸéœ€è¦é‡æ–°è¯·æ±‚ã€‚</p><h4 id="prefetch-cache" tabindex="-1"><a class="header-anchor" href="#prefetch-cache" aria-hidden="true">#</a> prefetch Cache</h4><p>prefetchæ˜¯é¢„åŠ è½½çš„ä¸€ç§æ–¹å¼ï¼Œè¢«æ ‡è®°ä¸ºprefetchçš„èµ„æºï¼Œå°†ä¼šè¢«æµè§ˆå™¨åœ¨ç©ºé—²æ—¶é—´åŠ è½½ã€‚</p><h3 id="push-cache" tabindex="-1"><a class="header-anchor" href="#push-cache" aria-hidden="true">#</a> Push Cache</h3><p>Push Cacheï¼ˆæ¨é€ç¼“å­˜ï¼‰æ˜¯ HTTP/2 ä¸­çš„å†…å®¹ï¼Œå½“ä»¥ä¸Šä¸‰ç§ç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­æ—¶ï¼Œå®ƒæ‰ä¼šè¢«ä½¿ç”¨ã€‚å®ƒåªåœ¨ä¼šè¯ï¼ˆSessionï¼‰ä¸­å­˜åœ¨ï¼Œä¸€æ—¦ä¼šè¯ç»“æŸå°±è¢«é‡Šæ”¾ï¼Œå¹¶ä¸”ç¼“å­˜æ—¶é—´ä¹Ÿå¾ˆçŸ­æš‚ï¼Œåœ¨Chromeæµè§ˆå™¨ä¸­åªæœ‰5åˆ†é’Ÿå·¦å³ï¼ŒåŒæ—¶å®ƒä¹Ÿå¹¶éä¸¥æ ¼æ‰§è¡ŒHTTPå¤´ä¸­çš„ç¼“å­˜æŒ‡ä»¤ã€‚</p><h1 id="websocket" tabindex="-1"><a class="header-anchor" href="#websocket" aria-hidden="true">#</a> websocket</h1><h2 id="ä¼˜ç‚¹" tabindex="-1"><a class="header-anchor" href="#ä¼˜ç‚¹" aria-hidden="true">#</a> ä¼˜ç‚¹</h2><p>è¯´åˆ°ä¼˜ç‚¹ï¼Œè¿™é‡Œçš„å¯¹æ¯”å‚ç…§ç‰©æ˜¯HTTPåè®®ï¼Œæ¦‚æ‹¬åœ°è¯´å°±æ˜¯ï¼šæ”¯æŒåŒå‘é€šä¿¡ï¼Œæ›´çµæ´»ï¼Œæ›´é«˜æ•ˆï¼Œå¯æ‰©å±•æ€§æ›´å¥½ã€‚</p><p>1.æ”¯æŒåŒå‘é€šä¿¡ï¼Œå®æ—¶æ€§æ›´å¼ºã€‚ 2.æ›´å¥½çš„äºŒè¿›åˆ¶æ”¯æŒã€‚ 3.è¾ƒå°‘çš„æ§åˆ¶å¼€é”€ã€‚è¿æ¥åˆ›å»ºåï¼Œwså®¢æˆ·ç«¯ã€æœåŠ¡ç«¯è¿›è¡Œæ•°æ®äº¤æ¢æ—¶ï¼Œåè®®æ§åˆ¶çš„æ•°æ®åŒ…å¤´éƒ¨è¾ƒå°ã€‚åœ¨ä¸åŒ…å«å¤´éƒ¨çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯çš„åŒ…å¤´åªæœ‰2~10å­—èŠ‚ï¼ˆå–å†³äºæ•°æ®åŒ…é•¿åº¦ï¼‰ï¼Œå®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯çš„çš„è¯ï¼Œéœ€è¦åŠ ä¸Šé¢å¤–çš„4å­—èŠ‚çš„æ©ç ã€‚è€ŒHTTPåè®®æ¯æ¬¡é€šä¿¡éƒ½éœ€è¦æºå¸¦å®Œæ•´çš„å¤´éƒ¨ã€‚ 4.æ”¯æŒæ‰©å±•ã€‚wsåè®®å®šä¹‰äº†æ‰©å±•ï¼Œç”¨æˆ·å¯ä»¥æ‰©å±•åè®®ï¼Œæˆ–è€…å®ç°è‡ªå®šä¹‰çš„å­åè®®ã€‚ï¼ˆæ¯”å¦‚æ”¯æŒè‡ªå®šä¹‰å‹ç¼©ç®—æ³•ç­‰ï¼‰</p><h2 id="å…¶ä»–ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#å…¶ä»–ç‰¹ç‚¹" aria-hidden="true">#</a> å…¶ä»–ç‰¹ç‚¹</h2><p>ï¼ˆ1ï¼‰å»ºç«‹åœ¨ TCP åè®®ä¹‹ä¸Šï¼ŒæœåŠ¡å™¨ç«¯çš„å®ç°æ¯”è¾ƒå®¹æ˜“ã€‚</p><p>ï¼ˆ2ï¼‰ä¸ HTTP åè®®æœ‰ç€è‰¯å¥½çš„å…¼å®¹æ€§ã€‚é»˜è®¤ç«¯å£ä¹Ÿæ˜¯80å’Œ443ï¼Œå¹¶ä¸”æ¡æ‰‹é˜¶æ®µé‡‡ç”¨ HTTP åè®®ï¼Œå› æ­¤æ¡æ‰‹æ—¶ä¸å®¹æ˜“å±è”½ï¼Œèƒ½é€šè¿‡å„ç§ HTTP ä»£ç†æœåŠ¡å™¨ã€‚</p><p>ï¼ˆ3ï¼‰æ•°æ®æ ¼å¼æ¯”è¾ƒè½»é‡ï¼Œæ€§èƒ½å¼€é”€å°ï¼Œé€šä¿¡é«˜æ•ˆã€‚</p><p>ï¼ˆ4ï¼‰å¯ä»¥å‘é€æ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥å‘é€äºŒè¿›åˆ¶æ•°æ®ã€‚</p><p>ï¼ˆ5ï¼‰æ²¡æœ‰åŒæºé™åˆ¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸ä»»æ„æœåŠ¡å™¨é€šä¿¡ã€‚</p><p>ï¼ˆ6ï¼‰åè®®æ ‡è¯†ç¬¦æ˜¯wsï¼ˆå¦‚æœåŠ å¯†ï¼Œåˆ™ä¸ºwssï¼‰ï¼ŒæœåŠ¡å™¨ç½‘å€å°±æ˜¯ URLã€‚</p><h2 id="å¦‚ä½•å»ºç«‹è¿æ¥" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•å»ºç«‹è¿æ¥" aria-hidden="true">#</a> å¦‚ä½•å»ºç«‹è¿æ¥</h2><p>å‰é¢æåˆ°ï¼ŒWebSocketå¤ç”¨äº†HTTPçš„æ¡æ‰‹é€šé“ã€‚å…·ä½“æŒ‡çš„æ˜¯ï¼Œå®¢æˆ·ç«¯é€šè¿‡HTTPè¯·æ±‚ä¸WebSocketæœåŠ¡ç«¯åå•†å‡çº§åè®®ã€‚åè®®å‡çº§å®Œæˆåï¼Œåç»­çš„æ•°æ®äº¤æ¢åˆ™éµç…§WebSocketçš„åè®®ã€‚ 1ã€å®¢æˆ·ç«¯ï¼šç”³è¯·åè®®å‡çº§ é¦–å…ˆï¼Œå®¢æˆ·ç«¯å‘èµ·åè®®å‡çº§è¯·æ±‚ã€‚å¯ä»¥çœ‹åˆ°ï¼Œé‡‡ç”¨çš„æ˜¯æ ‡å‡†çš„HTTPæŠ¥æ–‡æ ¼å¼ï¼Œä¸”åªæ”¯æŒGETæ–¹æ³•ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>GET / HTTP/1.1
Host: localhost:8080
Origin: http://127.0.0.1:3000
Connection: Upgrade
Upgrade: websocket
Sec-WebSocket-Version: 13
Sec-WebSocket-Key: w4v7O6xFTi36lq3RNcgctw==
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡ç‚¹è¯·æ±‚é¦–éƒ¨æ„ä¹‰å¦‚ä¸‹ï¼š</p><p>Connection: Upgradeï¼šè¡¨ç¤ºè¦å‡çº§åè®® Upgrade: websocketï¼šè¡¨ç¤ºè¦å‡çº§åˆ°websocketåè®®ã€‚ Sec-WebSocket-Version: 13ï¼šè¡¨ç¤ºwebsocketçš„ç‰ˆæœ¬ã€‚å¦‚æœæœåŠ¡ç«¯ä¸æ”¯æŒè¯¥ç‰ˆæœ¬ï¼Œéœ€è¦è¿”å›ä¸€ä¸ªSec-WebSocket-Versionheaderï¼Œé‡Œé¢åŒ…å«æœåŠ¡ç«¯æ”¯æŒçš„ç‰ˆæœ¬å·ã€‚ Sec-WebSocket-Keyï¼šä¸åé¢æœåŠ¡ç«¯å“åº”é¦–éƒ¨çš„Sec-WebSocket-Acceptæ˜¯é…å¥—çš„ï¼Œæä¾›åŸºæœ¬çš„é˜²æŠ¤ï¼Œæ¯”å¦‚æ¶æ„çš„è¿æ¥ï¼Œæˆ–è€…æ— æ„çš„è¿æ¥ã€‚ 2ã€æœåŠ¡ç«¯ï¼šå“åº”åè®®å‡çº§ æœåŠ¡ç«¯è¿”å›å†…å®¹å¦‚ä¸‹ï¼ŒçŠ¶æ€ä»£ç 101è¡¨ç¤ºåè®®åˆ‡æ¢ã€‚åˆ°æ­¤å®Œæˆåè®®å‡çº§ï¼Œåç»­çš„æ•°æ®äº¤äº’éƒ½æŒ‰ç…§æ–°çš„åè®®æ¥ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>HTTP/1.1 101 Switching Protocols
Connection:Upgrade
Upgrade: websocket
Sec-WebSocket-Accept: Oy4NRAQ13jhfONC7bP8dTKb4PTU=
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°æ®å¸§æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#æ•°æ®å¸§æ ¼å¼" aria-hidden="true">#</a> æ•°æ®å¸§æ ¼å¼</h2><p>å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯æ•°æ®çš„äº¤æ¢ï¼Œç¦»ä¸å¼€æ•°æ®å¸§æ ¼å¼çš„å®šä¹‰ã€‚å› æ­¤ï¼Œåœ¨å®é™…è®²è§£æ•°æ®äº¤æ¢ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹WebSocketçš„æ•°æ®å¸§æ ¼å¼ã€‚</p><p>WebSocketå®¢æˆ·ç«¯ã€æœåŠ¡ç«¯é€šä¿¡çš„æœ€å°å•ä½æ˜¯å¸§ï¼ˆframeï¼‰ï¼Œç”±1ä¸ªæˆ–å¤šä¸ªå¸§ç»„æˆä¸€æ¡å®Œæ•´çš„æ¶ˆæ¯ï¼ˆmessageï¼‰ã€‚</p><p>å‘é€ç«¯ï¼šå°†æ¶ˆæ¯åˆ‡å‰²æˆå¤šä¸ªå¸§ï¼Œå¹¶å‘é€ç»™æœåŠ¡ç«¯ï¼› æ¥æ”¶ç«¯ï¼šæ¥æ”¶æ¶ˆæ¯å¸§ï¼Œå¹¶å°†å…³è”çš„å¸§é‡æ–°ç»„è£…æˆå®Œæ•´çš„æ¶ˆæ¯ï¼› æœ¬èŠ‚çš„é‡ç‚¹ï¼Œå°±æ˜¯è®²è§£æ•°æ®å¸§çš„æ ¼å¼ã€‚è¯¦ç»†å®šä¹‰å¯å‚è€ƒ RFC6455 5.2èŠ‚ ã€‚</p><p>1ã€æ•°æ®å¸§æ ¼å¼æ¦‚è§ˆ ä¸‹é¢ç»™å‡ºäº†WebSocketæ•°æ®å¸§çš„ç»Ÿä¸€æ ¼å¼ã€‚ç†Ÿæ‚‰TCP/IPåè®®çš„åŒå­¦å¯¹è¿™æ ·çš„å›¾åº”è¯¥ä¸é™Œç”Ÿã€‚</p><p>ä»å·¦åˆ°å³ï¼Œå•ä½æ˜¯æ¯”ç‰¹ã€‚æ¯”å¦‚FINã€RSV1å„å æ®1æ¯”ç‰¹ï¼Œopcodeå æ®4æ¯”ç‰¹ã€‚ å†…å®¹åŒ…æ‹¬äº†æ ‡è¯†ã€æ“ä½œä»£ç ã€æ©ç ã€æ•°æ®ã€æ•°æ®é•¿åº¦ç­‰ã€‚ï¼ˆä¸‹ä¸€å°èŠ‚ä¼šå±•å¼€ï¼‰</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> 0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-------+-+-------------+-------------------------------+
 |F|R|R|R| opcode|M| Payload len |    Extended payload length    |
 |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |
 |N|V|V|V|       |S|             |   (if payload len==126/127)   |
 | |1|2|3|       |K|             |                               |
 +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +
 |     Extended payload length continued, if payload len == 127  |
 + - - - - - - - - - - - - - - - +-------------------------------+
 |                               |Masking-key, if MASK set to 1  |
 +-------------------------------+-------------------------------+
 | Masking-key (continued)       |          Payload Data         |
 +-------------------------------- - - - - - - - - - - - - - - - +
 :                     Payload Data continued ...                :
 + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
 |                     Payload Data continued ...                |
 +---------------------------------------------------------------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>FINï¼š1ä¸ªæ¯”ç‰¹ã€‚</p><p>å¦‚æœæ˜¯1ï¼Œè¡¨ç¤ºè¿™æ˜¯æ¶ˆæ¯ï¼ˆmessageï¼‰çš„æœ€åä¸€ä¸ªåˆ†ç‰‡ï¼ˆfragmentï¼‰ï¼Œå¦‚æœæ˜¯0ï¼Œè¡¨ç¤ºä¸æ˜¯æ˜¯æ¶ˆæ¯ï¼ˆmessageï¼‰çš„æœ€åä¸€ä¸ªåˆ†ç‰‡ï¼ˆfragmentï¼‰ã€‚</p><p>RSV1, RSV2, RSV3ï¼šå„å 1ä¸ªæ¯”ç‰¹ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹å…¨ä¸º0ã€‚å½“å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯åå•†é‡‡ç”¨WebSocketæ‰©å±•æ—¶ï¼Œè¿™ä¸‰ä¸ªæ ‡å¿—ä½å¯ä»¥é0ï¼Œä¸”å€¼çš„å«ä¹‰ç”±æ‰©å±•è¿›è¡Œå®šä¹‰ã€‚å¦‚æœå‡ºç°éé›¶çš„å€¼ï¼Œä¸”å¹¶æ²¡æœ‰é‡‡ç”¨WebSocketæ‰©å±•ï¼Œè¿æ¥å‡ºé”™ã€‚</p><p>Opcode: 4ä¸ªæ¯”ç‰¹ã€‚</p><p>æ“ä½œä»£ç ï¼ŒOpcodeçš„å€¼å†³å®šäº†åº”è¯¥å¦‚ä½•è§£æåç»­çš„æ•°æ®è½½è·ï¼ˆdata payloadï¼‰ã€‚å¦‚æœæ“ä½œä»£ç æ˜¯ä¸è®¤è¯†çš„ï¼Œé‚£ä¹ˆæ¥æ”¶ç«¯åº”è¯¥æ–­å¼€è¿æ¥ï¼ˆfail the connectionï¼‰ã€‚å¯é€‰çš„æ“ä½œä»£ç å¦‚ä¸‹ï¼š</p><p>%x0ï¼šè¡¨ç¤ºä¸€ä¸ªå»¶ç»­å¸§ã€‚å½“Opcodeä¸º0æ—¶ï¼Œè¡¨ç¤ºæœ¬æ¬¡æ•°æ®ä¼ è¾“é‡‡ç”¨äº†æ•°æ®åˆ†ç‰‡ï¼Œå½“å‰æ”¶åˆ°çš„æ•°æ®å¸§ä¸ºå…¶ä¸­ä¸€ä¸ªæ•°æ®åˆ†ç‰‡ã€‚ %x1ï¼šè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ–‡æœ¬å¸§ï¼ˆframeï¼‰ %x2ï¼šè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å¸§ï¼ˆframeï¼‰ %x3-7ï¼šä¿ç•™çš„æ“ä½œä»£ç ï¼Œç”¨äºåç»­å®šä¹‰çš„éæ§åˆ¶å¸§ã€‚ %x8ï¼šè¡¨ç¤ºè¿æ¥æ–­å¼€ã€‚ %x9ï¼šè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªpingæ“ä½œã€‚ %xAï¼šè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªpongæ“ä½œã€‚ %xB-Fï¼šä¿ç•™çš„æ“ä½œä»£ç ï¼Œç”¨äºåç»­å®šä¹‰çš„æ§åˆ¶å¸§ã€‚ Mask: 1ä¸ªæ¯”ç‰¹ã€‚</p><p>è¡¨ç¤ºæ˜¯å¦è¦å¯¹æ•°æ®è½½è·è¿›è¡Œæ©ç æ“ä½œã€‚ä»å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€æ•°æ®æ—¶ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œæ©ç æ“ä½œï¼›ä»æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ•°æ®æ—¶ï¼Œä¸éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ©ç æ“ä½œã€‚</p><p>å¦‚æœæœåŠ¡ç«¯æ¥æ”¶åˆ°çš„æ•°æ®æ²¡æœ‰è¿›è¡Œè¿‡æ©ç æ“ä½œï¼ŒæœåŠ¡ç«¯éœ€è¦æ–­å¼€è¿æ¥ã€‚</p><p>å¦‚æœMaskæ˜¯1ï¼Œé‚£ä¹ˆåœ¨Masking-keyä¸­ä¼šå®šä¹‰ä¸€ä¸ªæ©ç é”®ï¼ˆmasking keyï¼‰ï¼Œå¹¶ç”¨è¿™ä¸ªæ©ç é”®æ¥å¯¹æ•°æ®è½½è·è¿›è¡Œåæ©ç ã€‚æ‰€æœ‰å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡ç«¯çš„æ•°æ®å¸§ï¼ŒMaskéƒ½æ˜¯1ã€‚</p><p>æ©ç çš„ç®—æ³•ã€ç”¨é€”åœ¨ä¸‹ä¸€å°èŠ‚è®²è§£ã€‚</p><p>Payload lengthï¼šæ•°æ®è½½è·çš„é•¿åº¦ï¼Œå•ä½æ˜¯å­—èŠ‚ã€‚ä¸º7ä½ï¼Œæˆ–7+16ä½ï¼Œæˆ–1+64ä½ã€‚</p><p>å‡è®¾æ•°Payload length === xï¼Œå¦‚æœ</p><p>xä¸º0~126ï¼šæ•°æ®çš„é•¿åº¦ä¸ºxå­—èŠ‚ã€‚ xä¸º126ï¼šåç»­2ä¸ªå­—èŠ‚ä»£è¡¨ä¸€ä¸ª16ä½çš„æ— ç¬¦å·æ•´æ•°ï¼Œè¯¥æ— ç¬¦å·æ•´æ•°çš„å€¼ä¸ºæ•°æ®çš„é•¿åº¦ã€‚ xä¸º127ï¼šåç»­8ä¸ªå­—èŠ‚ä»£è¡¨ä¸€ä¸ª64ä½çš„æ— ç¬¦å·æ•´æ•°ï¼ˆæœ€é«˜ä½ä¸º0ï¼‰ï¼Œè¯¥æ— ç¬¦å·æ•´æ•°çš„å€¼ä¸ºæ•°æ®çš„é•¿åº¦ã€‚ æ­¤å¤–ï¼Œå¦‚æœpayload lengthå ç”¨äº†å¤šä¸ªå­—èŠ‚çš„è¯ï¼Œpayload lengthçš„äºŒè¿›åˆ¶è¡¨è¾¾é‡‡ç”¨ç½‘ç»œåºï¼ˆbig endianï¼Œé‡è¦çš„ä½åœ¨å‰ï¼‰ã€‚</p><p>Masking-keyï¼š0æˆ–4å­—èŠ‚ï¼ˆ32ä½ï¼‰</p><p>æ‰€æœ‰ä»å®¢æˆ·ç«¯ä¼ é€åˆ°æœåŠ¡ç«¯çš„æ•°æ®å¸§ï¼Œæ•°æ®è½½è·éƒ½è¿›è¡Œäº†æ©ç æ“ä½œï¼ŒMaskä¸º1ï¼Œä¸”æºå¸¦äº†4å­—èŠ‚çš„Masking-keyã€‚å¦‚æœMaskä¸º0ï¼Œåˆ™æ²¡æœ‰Masking-keyã€‚</p><p>å¤‡æ³¨ï¼šè½½è·æ•°æ®çš„é•¿åº¦ï¼Œä¸åŒ…æ‹¬mask keyçš„é•¿åº¦ã€‚</p><p>Payload dataï¼š(x+y) å­—èŠ‚</p><p>è½½è·æ•°æ®ï¼šåŒ…æ‹¬äº†æ‰©å±•æ•°æ®ã€åº”ç”¨æ•°æ®ã€‚å…¶ä¸­ï¼Œæ‰©å±•æ•°æ®xå­—èŠ‚ï¼Œåº”ç”¨æ•°æ®yå­—èŠ‚ã€‚</p><p>æ‰©å±•æ•°æ®ï¼šå¦‚æœæ²¡æœ‰åå•†ä½¿ç”¨æ‰©å±•çš„è¯ï¼Œæ‰©å±•æ•°æ®æ•°æ®ä¸º0å­—èŠ‚ã€‚æ‰€æœ‰çš„æ‰©å±•éƒ½å¿…é¡»å£°æ˜æ‰©å±•æ•°æ®çš„é•¿åº¦ï¼Œæˆ–è€…å¯ä»¥å¦‚ä½•è®¡ç®—å‡ºæ‰©å±•æ•°æ®çš„é•¿åº¦ã€‚æ­¤å¤–ï¼Œæ‰©å±•å¦‚ä½•ä½¿ç”¨å¿…é¡»åœ¨æ¡æ‰‹é˜¶æ®µå°±åå•†å¥½ã€‚å¦‚æœæ‰©å±•æ•°æ®å­˜åœ¨ï¼Œé‚£ä¹ˆè½½è·æ•°æ®é•¿åº¦å¿…é¡»å°†æ‰©å±•æ•°æ®çš„é•¿åº¦åŒ…å«åœ¨å†…ã€‚</p><p>åº”ç”¨æ•°æ®ï¼šä»»æ„çš„åº”ç”¨æ•°æ®ï¼Œåœ¨æ‰©å±•æ•°æ®ä¹‹åï¼ˆå¦‚æœå­˜åœ¨æ‰©å±•æ•°æ®ï¼‰ï¼Œå æ®äº†æ•°æ®å¸§å‰©ä½™çš„ä½ç½®ã€‚è½½è·æ•°æ®é•¿åº¦ å‡å» æ‰©å±•æ•°æ®é•¿åº¦ï¼Œå°±å¾—åˆ°åº”ç”¨æ•°æ®çš„é•¿åº¦ã€‚</p><h2 id="æ•°æ®ä¼ é€’" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ä¼ é€’" aria-hidden="true">#</a> æ•°æ®ä¼ é€’</h2><p>ä¸€æ—¦WebSocketå®¢æˆ·ç«¯ã€æœåŠ¡ç«¯å»ºç«‹è¿æ¥åï¼Œåç»­çš„æ“ä½œéƒ½æ˜¯åŸºäºæ•°æ®å¸§çš„ä¼ é€’ã€‚</p><p>WebSocketæ ¹æ®opcodeæ¥åŒºåˆ†æ“ä½œçš„ç±»å‹ã€‚æ¯”å¦‚0x8è¡¨ç¤ºæ–­å¼€è¿æ¥ï¼Œ0x0-0x2è¡¨ç¤ºæ•°æ®äº¤äº’ã€‚</p><p>1ã€æ•°æ®åˆ†ç‰‡ WebSocketçš„æ¯æ¡æ¶ˆæ¯å¯èƒ½è¢«åˆ‡åˆ†æˆå¤šä¸ªæ•°æ®å¸§ã€‚å½“WebSocketçš„æ¥æ”¶æ–¹æ”¶åˆ°ä¸€ä¸ªæ•°æ®å¸§æ—¶ï¼Œä¼šæ ¹æ®FINçš„å€¼æ¥åˆ¤æ–­ï¼Œæ˜¯å¦å·²ç»æ”¶åˆ°æ¶ˆæ¯çš„æœ€åä¸€ä¸ªæ•°æ®å¸§ã€‚</p><p>FIN=1è¡¨ç¤ºå½“å‰æ•°æ®å¸§ä¸ºæ¶ˆæ¯çš„æœ€åä¸€ä¸ªæ•°æ®å¸§ï¼Œæ­¤æ—¶æ¥æ”¶æ–¹å·²ç»æ”¶åˆ°å®Œæ•´çš„æ¶ˆæ¯ï¼Œå¯ä»¥å¯¹æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚FIN=0ï¼Œåˆ™æ¥æ”¶æ–¹è¿˜éœ€è¦ç»§ç»­ç›‘å¬æ¥æ”¶å…¶ä½™çš„æ•°æ®å¸§ã€‚</p><p>æ­¤å¤–ï¼Œopcodeåœ¨æ•°æ®äº¤æ¢çš„åœºæ™¯ä¸‹ï¼Œè¡¨ç¤ºçš„æ˜¯æ•°æ®çš„ç±»å‹ã€‚0x01è¡¨ç¤ºæ–‡æœ¬ï¼Œ0x02è¡¨ç¤ºäºŒè¿›åˆ¶ã€‚è€Œ0x00æ¯”è¾ƒç‰¹æ®Šï¼Œè¡¨ç¤ºå»¶ç»­å¸§ï¼ˆcontinuation frameï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å®Œæ•´æ¶ˆæ¯å¯¹åº”çš„æ•°æ®å¸§è¿˜æ²¡æ¥æ”¶å®Œã€‚</p><p>2ã€æ•°æ®åˆ†ç‰‡ä¾‹å­ ç›´æ¥çœ‹ä¾‹å­æ›´å½¢è±¡äº›ã€‚ä¸‹é¢ä¾‹å­æ¥è‡ªMDNï¼Œå¯ä»¥å¾ˆå¥½åœ°æ¼”ç¤ºæ•°æ®çš„åˆ†ç‰‡ã€‚å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯ä¸¤æ¬¡å‘é€æ¶ˆæ¯ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°æ¶ˆæ¯åå›åº”å®¢æˆ·ç«¯ï¼Œè¿™é‡Œä¸»è¦çœ‹å®¢æˆ·ç«¯å¾€æœåŠ¡ç«¯å‘é€çš„æ¶ˆæ¯ã€‚</p><p>ç¬¬ä¸€æ¡æ¶ˆæ¯</p><p>FIN=1, è¡¨ç¤ºæ˜¯å½“å‰æ¶ˆæ¯çš„æœ€åä¸€ä¸ªæ•°æ®å¸§ã€‚æœåŠ¡ç«¯æ”¶åˆ°å½“å‰æ•°æ®å¸§åï¼Œå¯ä»¥å¤„ç†æ¶ˆæ¯ã€‚opcode=0x1ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯å‘é€çš„æ˜¯æ–‡æœ¬ç±»å‹ã€‚</p><p>ç¬¬äºŒæ¡æ¶ˆæ¯</p><p>FIN=0ï¼Œopcode=0x1ï¼Œè¡¨ç¤ºå‘é€çš„æ˜¯æ–‡æœ¬ç±»å‹ï¼Œä¸”æ¶ˆæ¯è¿˜æ²¡å‘é€å®Œæˆï¼Œè¿˜æœ‰åç»­çš„æ•°æ®å¸§ã€‚ FIN=0ï¼Œopcode=0x0ï¼Œè¡¨ç¤ºæ¶ˆæ¯è¿˜æ²¡å‘é€å®Œæˆï¼Œè¿˜æœ‰åç»­çš„æ•°æ®å¸§ï¼Œå½“å‰çš„æ•°æ®å¸§éœ€è¦æ¥åœ¨ä¸Šä¸€æ¡æ•°æ®å¸§ä¹‹åã€‚ FIN=1ï¼Œopcode=0x0ï¼Œè¡¨ç¤ºæ¶ˆæ¯å·²ç»å‘é€å®Œæˆï¼Œæ²¡æœ‰åç»­çš„æ•°æ®å¸§ï¼Œå½“å‰çš„æ•°æ®å¸§éœ€è¦æ¥åœ¨ä¸Šä¸€æ¡æ•°æ®å¸§ä¹‹åã€‚æœåŠ¡ç«¯å¯ä»¥å°†å…³è”çš„æ•°æ®å¸§ç»„è£…æˆå®Œæ•´çš„æ¶ˆæ¯ã€‚</p><h2 id="wsçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#wsçš„ä½¿ç”¨" aria-hidden="true">#</a> wsçš„ä½¿ç”¨</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>var ws = new WebSocket(&#39;ws://localhost:8080&#39;);//æ–°å»ºwebsocketå®ä¾‹
ws.onopen=function(){
    ws.send(&#39;hello&#39;)
}//è¿æ¥æˆåŠŸåçš„å›è°ƒå‡½æ•°
ws.onclose()//è¿æ¥å…³é—­åçš„å›è°ƒå‡½æ•°
ws.onmessage()//æ”¶åˆ°æœåŠ¡å™¨æ•°æ®åçš„å›è°ƒå‡½æ•°
ws.send()//å‘æœåŠ¡å™¨å‘é€æ•°æ®
ws.close()//å…³é—­è¿æ¥
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="less" tabindex="-1"><a class="header-anchor" href="#less" aria-hidden="true">#</a> less</h1><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@color:#999
@mySelector:#wrap//é€‰æ‹©å™¨å˜é‡
@borderStyle:border-style//å±æ€§å˜é‡
@{mySelector}{//ä½¿ç”¨æ—¶éœ€è¦ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹
    @{borderStyle}:xxx//ä½¿ç”¨æ—¶ä¹Ÿéœ€è¦å¤§æ‹¬å·
}
#wrap{
    color:@color
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="http" tabindex="-1"><a class="header-anchor" href="#http" aria-hidden="true">#</a> HTTP</h1><h2 id="request" tabindex="-1"><a class="header-anchor" href="#request" aria-hidden="true">#</a> request</h2><p>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªHTTPè¯·æ±‚åˆ°æœåŠ¡å™¨çš„è¯·æ±‚æ¶ˆæ¯åŒ…æ‹¬ä»¥ä¸‹æ ¼å¼ï¼š</p><p>è¯·æ±‚è¡Œï¼ˆrequest lineï¼‰ã€è¯·æ±‚å¤´éƒ¨ï¼ˆheaderï¼‰ã€ç©ºè¡Œå’Œè¯·æ±‚æ•°æ®å››ä¸ªéƒ¨åˆ†ç»„æˆã€‚</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/http-request.png" alt="http-request"></p><p>è¯·æ±‚è¡Œä»¥ä¸€ä¸ªæ–¹æ³•ç¬¦å·å¼€å¤´ï¼Œä»¥ç©ºæ ¼åˆ†å¼€ï¼Œåé¢è·Ÿç€è¯·æ±‚çš„URIå’Œåè®®çš„ç‰ˆæœ¬ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>GET /562f25980001b1b106000338.jpg HTTP/1.1
Host    img.mukewang.com//ç›®æ ‡åœ°å€
User-Agent    Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36
Accept    image/webp,image/*,*/*;q=0.8//å¸Œæœ›æ¥æ”¶çš„æ•°æ®
Referer    http://www.imooc.com//æ¥æº
Accept-Encoding    gzip, deflate, sdch
Accept-Language    zh-CN,zh;q=0.8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸€éƒ¨åˆ†ï¼šè¯·æ±‚è¡Œï¼Œç”¨æ¥è¯´æ˜è¯·æ±‚ç±»å‹,è¦è®¿é—®çš„èµ„æºä»¥åŠæ‰€ä½¿ç”¨çš„HTTPç‰ˆæœ¬.</p><p>GETè¯´æ˜è¯·æ±‚ç±»å‹ä¸ºGET,[/562f25980001b1b106000338.jpg]ä¸ºè¦è®¿é—®çš„èµ„æºï¼Œè¯¥è¡Œçš„æœ€åä¸€éƒ¨åˆ†è¯´æ˜ä½¿ç”¨çš„æ˜¯HTTP1.1ç‰ˆæœ¬ã€‚</p><p>ç¬¬äºŒéƒ¨åˆ†ï¼šè¯·æ±‚å¤´éƒ¨ï¼Œç´§æ¥ç€è¯·æ±‚è¡Œï¼ˆå³ç¬¬ä¸€è¡Œï¼‰ä¹‹åçš„éƒ¨åˆ†ï¼Œç”¨æ¥è¯´æ˜æœåŠ¡å™¨è¦ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯</p><p>ä»ç¬¬äºŒè¡Œèµ·ä¸ºè¯·æ±‚å¤´éƒ¨ï¼ŒHOSTå°†æŒ‡å‡ºè¯·æ±‚çš„ç›®çš„åœ°.User-Agent,æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯è„šæœ¬éƒ½èƒ½è®¿é—®å®ƒ,å®ƒæ˜¯æµè§ˆå™¨ç±»å‹æ£€æµ‹é€»è¾‘çš„é‡è¦åŸºç¡€.è¯¥ä¿¡æ¯ç”±ä½ çš„æµè§ˆå™¨æ¥å®šä¹‰,å¹¶ä¸”åœ¨æ¯ä¸ªè¯·æ±‚ä¸­è‡ªåŠ¨å‘é€ç­‰ç­‰ï¼ŒUser-Agentç”±ä½ çš„æµè§ˆå™¨æ¥å®šä¹‰ï¼Œä¸ºäº†ç»™ç”¨æˆ·æ›´å¥½çš„ä½“éªŒï¼Œä¾‹å¦‚pcç«¯å’Œç§»åŠ¨ç«¯æ˜¯ä¸ä¸€æ ·çš„ï¼Œæµè§ˆå™¨çš„UAå­—ä¸²çš„æ ‡å‡†æ ¼å¼ï¼šæµè§ˆå™¨æ ‡è¯† (æ“ä½œç³»ç»Ÿæ ‡è¯†; åŠ å¯†ç­‰çº§æ ‡è¯†; æµè§ˆå™¨è¯­è¨€) æ¸²æŸ“å¼•æ“æ ‡è¯†ç‰ˆæœ¬ä¿¡æ¯</p><p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šç©ºè¡Œï¼Œè¯·æ±‚å¤´éƒ¨åé¢çš„ç©ºè¡Œæ˜¯å¿…é¡»çš„</p><p>å³ä½¿ç¬¬å››éƒ¨åˆ†çš„è¯·æ±‚æ•°æ®ä¸ºç©ºï¼Œä¹Ÿå¿…é¡»æœ‰ç©ºè¡Œã€‚</p><p>ç¬¬å››éƒ¨åˆ†ï¼šè¯·æ±‚æ•°æ®ä¹Ÿå«ä¸»ä½“ï¼Œå¯ä»¥æ·»åŠ ä»»æ„çš„å…¶ä»–æ•°æ®ã€‚ è¿™ä¸ªä¾‹å­çš„è¯·æ±‚æ•°æ®ä¸ºç©ºã€‚</p><h2 id="response" tabindex="-1"><a class="header-anchor" href="#response" aria-hidden="true">#</a> response</h2><p>HTTP å“åº”ä¸ HTTP è¯·æ±‚ç›¸ä¼¼ï¼ŒHTTPå“åº”ä¹Ÿç”±3ä¸ªéƒ¨åˆ†æ„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š</p><p>çŠ¶æ€è¡Œ å“åº”å¤´(Response Header) å“åº”æ­£æ–‡ çŠ¶æ€è¡Œç”±åè®®ç‰ˆæœ¬ã€æ•°å­—å½¢å¼çš„çŠ¶æ€ä»£ç ã€åŠç›¸åº”çš„çŠ¶æ€æè¿°ï¼Œå„å…ƒç´ ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚</p><h4 id="å¸¸è§çš„çŠ¶æ€ç å’ŒçŠ¶æ€æ–‡æœ¬" tabindex="-1"><a class="header-anchor" href="#å¸¸è§çš„çŠ¶æ€ç å’ŒçŠ¶æ€æ–‡æœ¬" aria-hidden="true">#</a> å¸¸è§çš„çŠ¶æ€ç å’ŒçŠ¶æ€æ–‡æœ¬</h4><ul><li>1 è¡¨ç¤ºä¸´æ—¶å“åº”ï¼ŒåªåŒ…å«çŠ¶æ€è¡Œå’Œéƒ¨åˆ†å“åº”å¤´ä¿¡æ¯ï¼Œå¹¶ä»¥ç©ºè¡Œç»“æŸ</li><li>2 è¡¨ç¤ºæˆåŠŸè¢«æœåŠ¡å™¨æ¥æ”¶ã€ç†è§£ã€å¹¶æ¥å—</li><li>3 è¡¨ç¤ºè¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚ é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ä»£ç ç”¨æ¥é‡å®šå‘</li><li>4 è¡¨ç¤ºè¯·æ±‚é”™è¯¯</li><li>5 è¡¨ç¤ºæœåŠ¡å™¨é”™è¯¯</li></ul><p>100 è¡¨ç¤ºå®¢æˆ·ç«¯çš„éƒ¨åˆ†è¯·æ±‚å·²è¢«æœåŠ¡å™¨æ¥æ”¶ ï¼Œå®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘é€è¯·æ±‚çš„å‰©ä½™éƒ¨åˆ†ï¼Œæˆ–è€…å¦‚æœè¯·æ±‚å·²ç»å®Œæˆï¼Œå¿½ç•¥è¿™ä¸ªå“åº”</p><p>101ï¼šæ›´æ¢åè®®ï¼Œæ¯”å¦‚<code>websocket</code>å’Œ<code>http2</code></p><p>200 OK å®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸ</p><p>201 (å·²åˆ›å»º) è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æº</p><p>202ï¼ˆå·²åˆ›å»ºï¼‰æœåŠ¡å™¨å·²ç»æ¥æ”¶è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†</p><p>204 ï¼ˆæ— å†…å®¹ï¼‰æœåŠ¡å™¨æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹</p><p>206ï¼ˆéƒ¨åˆ†å†…å®¹ï¼‰åº”ç”¨äº HTTP åˆ†å—ä¸‹è½½æˆ–æ–­ç‚¹ç»­ä¼ ï¼Œè¡¨ç¤ºå“åº”è¿”å›çš„ body æ•°æ®å¹¶ä¸æ˜¯èµ„æºçš„å…¨éƒ¨ï¼Œè€Œæ˜¯å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æœåŠ¡å™¨å¤„ç†æˆåŠŸçš„çŠ¶æ€ã€‚</p><p>301 Moved Permanently æ°¸ä¹…ç§»åŠ¨ è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚ æœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼ˆå¯¹ GET æˆ– HEAD è¯·æ±‚çš„å“åº”ï¼‰æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯·æ±‚è€…è½¬åˆ°æ–°ä½ç½® 302 Moved Temporarily ä¸´æ—¶ç§»åŠ¨ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚ 304 Not Modified æ–‡ä»¶æœªä¿®æ”¹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜çš„æ–‡ä»¶ã€‚</p><p>307 ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚</p><p>302 é‡å®šå‘åå¯èƒ½ä¼šå°†è¯·æ±‚ä»postå˜ä¸ºgetï¼Œè€Œ307ä¸ä¼š</p><p>301 302 303 307 æ˜¯åœ¨è¯·æ±‚å¤´çš„locationå­—æ®µä¸­è¡¨æ˜é‡å®šå‘çš„åœ°å€</p><p>301 æ˜¯æ°¸ä¹…é‡å®šå‘æœ‰åˆ©äºseoï¼Œ302åœ¨è§„èŒƒä¸­æ˜¯ä¸å…è®¸ä¿®æ”¹è¯·æ±‚æ–¹å¼çš„ï¼Œä½†ç”±äºæµè§ˆå™¨å‚å•†å¹¶æ²¡æœ‰éµå¾ªè¿™ä¸ªè§„èŒƒï¼Œå®ƒä¼šåœ¨302ä¹‹åç”¨getæ–¹å¼è®¿é—®é‡å®šå‘åœ°å€ã€‚åœ¨æµè§ˆå™¨å‚å•†çš„è¿™ç§æ“ä½œä¸‹HTTP1.1æ¨å‡ºäº†303å’Œ307ã€‚303æ˜¯é‡å®šå‘åä½¿ç”¨getè¯·æ±‚è®¿é—®èµ„æºï¼Œ307æ˜¯é‡å®šå‘åç”¨åŸè¯·æ±‚æ–¹å¼è®¿é—®èµ„æºã€‚</p><p>301æœ‰ä¸ªé‡è¦ç‰¹æ€§å°±æ˜¯ä¼šç¼“å­˜(å› ä¸ºæ˜¯æ°¸ä¹…é‡å®šå‘ï¼Œå¯ä»¥é€šè¿‡cache-control:no-cacheç¦ç”¨ç¼“å­˜)ï¼Œä½†æ˜¯307ä¸ä¼š</p><p>400 Bad Request ç”±äºå®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£ã€‚ 401 Unauthorized è¯·æ±‚æœªç»æˆæƒã€‚å¯¹äºéœ€è¦ç™»å½•çš„ç½‘é¡µï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›æ­¤å“åº”ã€‚ 403 Forbidden æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡ã€‚æœåŠ¡å™¨é€šå¸¸ä¼šåœ¨å“åº”æ­£æ–‡ä¸­ç»™å‡ºä¸æä¾›æœåŠ¡çš„åŸå›  404 Not Found è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ï¼Œä¾‹å¦‚ï¼Œè¾“å…¥äº†é”™è¯¯çš„URL 500 Internal Server Error æœåŠ¡å™¨å‘ç”Ÿä¸å¯é¢„æœŸçš„é”™è¯¯ï¼Œå¯¼è‡´æ— æ³•å®Œæˆå®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚ 503 Service Unavailable æœåŠ¡å™¨å½“å‰ä¸èƒ½å¤Ÿå¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œåœ¨ä¸€æ®µæ—¶é—´ä¹‹åï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šæ¢å¤æ­£å¸¸ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªHTTPå“åº”çš„ä¾‹å­ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>HTTP/1.1 200 OK

Server:Apache Tomcat/5.0.12
Date:Mon,6Oct2003 13:23:42 GMT
Content-Length:112

&lt;html&gt;...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="getå’Œpostæ–¹æ³•éƒ½æ˜¯å®‰å…¨å¹‚ç­‰çš„å—" tabindex="-1"><a class="header-anchor" href="#getå’Œpostæ–¹æ³•éƒ½æ˜¯å®‰å…¨å¹‚ç­‰çš„å—" aria-hidden="true">#</a> GETå’ŒPOSTæ–¹æ³•éƒ½æ˜¯å®‰å…¨å¹‚ç­‰çš„å—</h3><ul><li><p>åœ¨ HTTP åè®®é‡Œï¼Œæ‰€è°“çš„ã€Œå®‰å…¨ã€æ˜¯æŒ‡è¯·æ±‚æ–¹æ³•ä¸ä¼šã€Œç ´åã€æœåŠ¡å™¨ä¸Šçš„èµ„æºã€‚</p></li><li><p>æ‰€è°“çš„ã€Œå¹‚ç­‰ã€ï¼Œæ„æ€æ˜¯å¤šæ¬¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œç»“æœéƒ½æ˜¯ã€Œç›¸åŒã€çš„ã€‚</p></li></ul><p>getæ˜¯å®‰å…¨å¹‚ç­‰çš„ï¼Œpostä¼šä¿®æ”¹æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œå› æ­¤æ˜¯ä¸å®‰å…¨çš„ï¼Œç»“æœä¸€ä¸ä¸€å®šæ˜¯ç›¸åŒçš„</p><h2 id="http1-1" tabindex="-1"><a class="header-anchor" href="#http1-1" aria-hidden="true">#</a> http1.1</h2><h3 id="keep-alive" tabindex="-1"><a class="header-anchor" href="#keep-alive" aria-hidden="true">#</a> keep-alive</h3><p>æˆ‘ä»¬çŸ¥é“ HTTP åè®®é‡‡ç”¨â€œè¯·æ±‚-åº”ç­”â€æ¨¡å¼ï¼Œå½“ä½¿ç”¨æ™®é€šæ¨¡å¼ï¼Œå³é Keep-Alive æ¨¡å¼æ—¶ï¼Œæ¯ä¸ªè¯·æ±‚/åº”ç­”å®¢æˆ·å’ŒæœåŠ¡å™¨éƒ½è¦æ–°å»ºä¸€ä¸ªè¿æ¥ï¼Œå®Œæˆä¹‹åç«‹å³æ–­å¼€è¿æ¥ï¼ˆHTTP åè®®ä¸ºæ— è¿æ¥çš„åè®®ï¼‰ï¼›å½“ä½¿ç”¨ Keep-Alive æ¨¡å¼ï¼ˆåˆç§°æŒä¹…è¿æ¥ã€è¿æ¥é‡ç”¨ï¼‰æ—¶ï¼ŒKeep-Alive åŠŸèƒ½ä½¿å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ç«¯çš„è¿æ¥æŒç»­æœ‰æ•ˆï¼Œå½“å‡ºç°å¯¹æœåŠ¡å™¨çš„åç»§è¯·æ±‚æ—¶ï¼ŒKeep-Alive åŠŸèƒ½é¿å…äº†å»ºç«‹æˆ–è€…é‡æ–°å»ºç«‹è¿æ¥ã€‚</p><p>åœ¨ HTTP 1.0 ç‰ˆæœ¬ä¸­ï¼Œå¹¶æ²¡æœ‰å®˜æ–¹çš„æ ‡å‡†æ¥è§„å®š Keep-Alive å¦‚ä½•å·¥ä½œï¼Œå› æ­¤å®é™…ä¸Šå®ƒæ˜¯è¢«é™„åŠ åˆ° HTTP 1.0åè®®ä¸Šï¼Œå¦‚æœå®¢æˆ·ç«¯æµè§ˆå™¨æ”¯æŒ Keep-Alive ï¼Œé‚£ä¹ˆå°±åœ¨HTTPè¯·æ±‚å¤´ä¸­æ·»åŠ ä¸€ä¸ªå­—æ®µ Connection: Keep-Aliveï¼Œå½“æœåŠ¡å™¨æ”¶åˆ°é™„å¸¦æœ‰ Connection: Keep-Alive çš„è¯·æ±‚æ—¶ï¼Œå®ƒä¹Ÿä¼šåœ¨å“åº”å¤´ä¸­æ·»åŠ ä¸€ä¸ªåŒæ ·çš„å­—æ®µæ¥ä½¿ç”¨ Keep-Alive ã€‚è¿™æ ·ä¸€æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„HTTPè¿æ¥å°±ä¼šè¢«ä¿æŒï¼Œä¸ä¼šæ–­å¼€ï¼ˆè¶…è¿‡ Keep-Alive è§„å®šçš„æ—¶é—´ï¼Œæ„å¤–æ–­ç”µç­‰æƒ…å†µé™¤å¤–ï¼‰ï¼Œå½“å®¢æˆ·ç«¯å‘é€å¦å¤–ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå°±ä½¿ç”¨è¿™æ¡å·²ç»å»ºç«‹çš„è¿æ¥ã€‚</p><p>åœ¨ HTTP 1.1 ç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰è¿æ¥éƒ½è¢«ä¿æŒï¼Œå¦‚æœåŠ å…¥ &quot;Connection: close&quot; æ‰å…³é—­ã€‚ç›®å‰å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½ä½¿ç”¨ HTTP 1.1 åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´é»˜è®¤éƒ½ä¼šå‘èµ· Keep-Alive çš„è¿æ¥è¯·æ±‚äº†ï¼Œæ‰€ä»¥æ˜¯å¦èƒ½å®Œæˆä¸€ä¸ªå®Œæ•´çš„ Keep-Alive è¿æ¥å°±çœ‹æœåŠ¡å™¨è®¾ç½®æƒ…å†µã€‚</p><p>ç”±äº HTTP 1.0 æ²¡æœ‰å®˜æ–¹çš„ Keep-Alive è§„èŒƒï¼Œå¹¶ä¸”ä¹Ÿå·²ç»åŸºæœ¬è¢«æ·˜æ±°ï¼Œä»¥ä¸‹è®¨è®ºå‡æ˜¯é’ˆå¯¹ HTTP 1.1 æ ‡å‡†ä¸­çš„ Keep-Alive å±•å¼€çš„ã€‚</p><p>æ³¨æ„ï¼š</p><p>HTTP Keep-Alive ç®€å•è¯´å°±æ˜¯ä¿æŒå½“å‰çš„TCPè¿æ¥ï¼Œé¿å…äº†é‡æ–°å»ºç«‹è¿æ¥ã€‚</p><p>HTTP é•¿è¿æ¥ä¸å¯èƒ½ä¸€ç›´ä¿æŒï¼Œä¾‹å¦‚ Keep-Alive: timeout=5, max=100ï¼Œè¡¨ç¤ºè¿™ä¸ªTCPé€šé“å¯ä»¥ä¿æŒ5ç§’ï¼Œmax=100ï¼Œè¡¨ç¤ºè¿™ä¸ªé•¿è¿æ¥æœ€å¤šæ¥æ”¶100æ¬¡è¯·æ±‚å°±æ–­å¼€ã€‚</p><p>HTTP æ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒKeep-Alive æ²¡èƒ½æ”¹å˜è¿™ä¸ªç»“æœã€‚å¦å¤–ï¼ŒKeep-Aliveä¹Ÿä¸èƒ½ä¿è¯å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ä¸€å®šæ˜¯æ´»è·ƒçš„ï¼Œåœ¨ HTTP1.1 ç‰ˆæœ¬ä¸­ä¹Ÿå¦‚æ­¤ã€‚å”¯ä¸€èƒ½ä¿è¯çš„å°±æ˜¯å½“è¿æ¥è¢«å…³é—­æ—¶ä½ èƒ½å¾—åˆ°ä¸€ä¸ªé€šçŸ¥ï¼Œæ‰€ä»¥ä¸åº”è¯¥è®©ç¨‹åºä¾èµ–äº Keep-Alive çš„ä¿æŒè¿æ¥ç‰¹æ€§ï¼Œå¦åˆ™ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„åæœã€‚</p><p>ä½¿ç”¨é•¿è¿æ¥ä¹‹åï¼Œå®¢æˆ·ç«¯ã€æœåŠ¡ç«¯æ€ä¹ˆçŸ¥é“æœ¬æ¬¡ä¼ è¾“ç»“æŸå‘¢ï¼Ÿä¸¤éƒ¨åˆ†ï¼š1. åˆ¤æ–­ä¼ è¾“æ•°æ®æ˜¯å¦è¾¾åˆ°äº†Content-Length æŒ‡ç¤ºçš„å¤§å°ï¼›2. åŠ¨æ€ç”Ÿæˆçš„æ–‡ä»¶æ²¡æœ‰ Content-Length ï¼Œå®ƒæ˜¯åˆ†å—ä¼ è¾“ï¼ˆchunkedï¼‰ï¼Œè¿™æ—¶å€™å°±è¦æ ¹æ® chunked ç¼–ç æ¥åˆ¤æ–­ï¼Œchunked ç¼–ç çš„æ•°æ®åœ¨æœ€åæœ‰ä¸€ä¸ªç©º chunked å—ï¼Œè¡¨æ˜æœ¬æ¬¡ä¼ è¾“æ•°æ®ç»“æŸï¼Œè¯¦è§è¿™é‡Œã€‚ä»€ä¹ˆæ˜¯ chunked åˆ†å—ä¼ è¾“å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹ã€‚</p><h3 id="ç®¡é“ä¼ è¾“" tabindex="-1"><a class="header-anchor" href="#ç®¡é“ä¼ è¾“" aria-hidden="true">#</a> ç®¡é“ä¼ è¾“</h3><p>å³å¯åœ¨åŒä¸€ä¸ª TCP è¿æ¥é‡Œé¢ï¼Œå®¢æˆ·ç«¯å¯ä»¥å‘èµ·å¤šä¸ªè¯·æ±‚ï¼Œåªè¦ç¬¬ä¸€ä¸ªè¯·æ±‚å‘å‡ºå»äº†ï¼Œä¸å¿…ç­‰å…¶å›æ¥ï¼Œ</p><p>å°±å¯ä»¥å‘ç¬¬äºŒä¸ªè¯·æ±‚å‡ºå»ï¼Œå¯ä»¥<strong>å‡å°‘æ•´ä½“çš„å“åº”æ—¶é—´ã€‚</strong></p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå®¢æˆ·ç«¯éœ€è¦è¯·æ±‚ä¸¤ä¸ªèµ„æºã€‚ä»¥å‰çš„åšæ³•æ˜¯ï¼Œåœ¨åŒä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼Œå…ˆå‘é€ A è¯·æ±‚ï¼Œç„¶åç­‰</p><p>å¾…æœåŠ¡å™¨åšå‡ºå›åº”ï¼Œæ”¶åˆ°åå†å‘å‡º B è¯·æ±‚ã€‚ç®¡é“æœºåˆ¶åˆ™æ˜¯å…è®¸æµè§ˆå™¨åŒæ—¶å‘å‡º A è¯·æ±‚å’Œ B è¯·æ±‚ã€‚</p><p>ä½†æ˜¯æœåŠ¡å™¨è¿˜æ˜¯æŒ‰ç…§<strong>é¡ºåº</strong>ï¼Œå…ˆå›åº” A è¯·æ±‚ï¼Œå®Œæˆåå†å›åº” B è¯·æ±‚ã€‚è¦æ˜¯å‰é¢çš„å›åº”ç‰¹åˆ«æ…¢ï¼Œåé¢å°±ä¼š</p><p>æœ‰è®¸å¤šè¯·æ±‚æ’é˜Ÿç­‰ç€ã€‚è¿™ç§°ä¸ºã€Œé˜Ÿå¤´å µå¡ã€ã€‚</p><h3 id="é˜Ÿå¤´é˜»å¡" tabindex="-1"><a class="header-anchor" href="#é˜Ÿå¤´é˜»å¡" aria-hidden="true">#</a> é˜Ÿå¤´é˜»å¡</h3><p>å› ä¸ºå½“é¡ºåºå‘é€çš„è¯·æ±‚åºåˆ—ä¸­çš„ä¸€ä¸ªè¯·æ±‚å› ä¸ºæŸç§åŸå› è¢«é˜»å¡æ—¶ï¼Œåœ¨åé¢æ’é˜Ÿçš„æ‰€æœ‰è¯·æ±‚ä¹Ÿä¸€åŒè¢«é˜»å¡</p><p>äº†ï¼Œä¼šæ‹›è‡´å®¢æˆ·ç«¯ä¸€ç›´è¯·æ±‚ä¸åˆ°æ•°æ®ï¼Œè¿™ä¹Ÿå°±æ˜¯ã€Œ<strong>é˜Ÿå¤´é˜»å¡</strong>ã€ã€‚</p><h3 id="ç¼“å­˜å¤„ç†" tabindex="-1"><a class="header-anchor" href="#ç¼“å­˜å¤„ç†" aria-hidden="true">#</a> ç¼“å­˜å¤„ç†</h3><p>åœ¨HTTP1.0ä¸­ä¸»è¦ä½¿ç”¨headeré‡Œçš„If-Modified-Since,Expiresæ¥åšä¸ºç¼“å­˜åˆ¤æ–­çš„æ ‡å‡†ï¼ŒHTTP1.1åˆ™å¼•å…¥äº†æ›´å¤šçš„ç¼“å­˜æ§åˆ¶ç­–ç•¥ä¾‹å¦‚Entity tagï¼ŒIf-Unmodified-Since, If-Match, If-None-Matchç­‰æ›´å¤šå¯ä¾›é€‰æ‹©çš„ç¼“å­˜å¤´æ¥æ§åˆ¶ç¼“å­˜ç­–ç•¥ã€‚</p><h3 id="rangeå¤´åŸŸ" tabindex="-1"><a class="header-anchor" href="#rangeå¤´åŸŸ" aria-hidden="true">#</a> rangeå¤´åŸŸ</h3><p>HTTP1.0ä¸€äº›æµªè´¹å¸¦å®½çš„ç°è±¡ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯åªæ˜¯éœ€è¦æŸä¸ªå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œè€ŒæœåŠ¡å™¨å´å°†æ•´ä¸ªå¯¹è±¡é€è¿‡æ¥äº†ï¼Œå¹¶ä¸”ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼ŒHTTP1.1åˆ™åœ¨è¯·æ±‚å¤´å¼•å…¥äº†rangeå¤´åŸŸï¼Œå®ƒå…è®¸åªè¯·æ±‚èµ„æºçš„æŸä¸ªéƒ¨åˆ†ï¼Œå³è¿”å›ç æ˜¯206ï¼ˆPartial Contentï¼‰ï¼Œè¿™æ ·å°±æ–¹ä¾¿äº†å¼€å‘è€…è‡ªç”±çš„é€‰æ‹©ä»¥ä¾¿äºå……åˆ†åˆ©ç”¨å¸¦å®½å’Œè¿æ¥ã€‚</p><h3 id="æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç " tabindex="-1"><a class="header-anchor" href="#æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç " aria-hidden="true">#</a> æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç </h3><p>å¦‚409ï¼ˆConflictï¼‰è¡¨ç¤ºè¯·æ±‚çš„èµ„æºä¸èµ„æºçš„å½“å‰çŠ¶æ€å‘ç”Ÿå†²çªï¼›410ï¼ˆGoneï¼‰è¡¨ç¤ºæœåŠ¡å™¨ä¸Šçš„æŸä¸ªèµ„æºè¢«æ°¸ä¹…æ€§çš„åˆ é™¤ã€‚</p><h2 id="transfer-encoding" tabindex="-1"><a class="header-anchor" href="#transfer-encoding" aria-hidden="true">#</a> Transfer-Encoding</h2><p>Transfer-Encoding æ˜¯ä¸€ä¸ªç”¨æ¥æ ‡ç¤º HTTP æŠ¥æ–‡ä¼ è¾“æ ¼å¼çš„å¤´éƒ¨å€¼ã€‚å°½ç®¡è¿™ä¸ªå–å€¼ç†è®ºä¸Šå¯ä»¥æœ‰å¾ˆå¤šï¼Œä½†æ˜¯å½“å‰çš„ HTTP è§„èŒƒé‡Œå®é™…ä¸Šåªå®šä¹‰äº†ä¸€ç§ä¼ è¾“å–å€¼â€”â€”chunkedã€‚</p><p>å¦‚æœä¸€ä¸ªHTTPæ¶ˆæ¯ï¼ˆè¯·æ±‚æ¶ˆæ¯æˆ–åº”ç­”æ¶ˆæ¯ï¼‰çš„Transfer-Encodingæ¶ˆæ¯å¤´çš„å€¼ä¸ºchunkedï¼Œé‚£ä¹ˆï¼Œæ¶ˆæ¯ä½“ç”±æ•°é‡æœªå®šçš„å—ç»„æˆï¼Œå¹¶ä»¥æœ€åä¸€ä¸ªå¤§å°ä¸º0çš„å—ä¸ºç»“æŸã€‚</p><p>æ¯ä¸€ä¸ªéç©ºçš„å—éƒ½ä»¥è¯¥å—åŒ…å«æ•°æ®çš„å­—èŠ‚æ•°ï¼ˆå­—èŠ‚æ•°ä»¥åå…­è¿›åˆ¶è¡¨ç¤ºï¼‰å¼€å§‹ï¼Œè·Ÿéšä¸€ä¸ªCRLF ï¼ˆå›è½¦åŠæ¢è¡Œï¼‰ï¼Œç„¶åæ˜¯æ•°æ®æœ¬èº«ï¼Œæœ€åå—CRLFç»“æŸã€‚åœ¨ä¸€äº›å®ç°ä¸­ï¼Œå—å¤§å°å’ŒCRLFä¹‹é—´å¡«å……æœ‰ç™½ç©ºæ ¼ï¼ˆ0x20ï¼‰ã€‚</p><p>æœ€åä¸€å—æ˜¯å•è¡Œï¼Œç”±å—å¤§å°ï¼ˆ0ï¼‰ï¼Œä¸€äº›å¯é€‰çš„å¡«å……ç™½ç©ºæ ¼ï¼Œä»¥åŠCRLFã€‚æœ€åä¸€å—ä¸å†åŒ…å«ä»»ä½•æ•°æ®ï¼Œä½†æ˜¯å¯ä»¥å‘é€å¯é€‰çš„å°¾éƒ¨ï¼ŒåŒ…æ‹¬æ¶ˆæ¯å¤´å­—æ®µã€‚æ¶ˆæ¯æœ€åä»¥CRLFç»“å°¾ã€‚</p><p>ä¸€ä¸ªç¤ºä¾‹å“åº”å¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>HTTP/1.1 200 OK
Content-Type: text/plain
Transfer-Encoding: chunked

25
This is the data in the first chunk

1A
and this is the second one
0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼š</p><p>chunked å’Œ multipart ä¸¤ä¸ªåè¯åœ¨æ„ä¹‰ä¸Šæœ‰ç±»ä¼¼çš„åœ°æ–¹ï¼Œä¸è¿‡åœ¨ HTTP åè®®å½“ä¸­è¿™ä¸¤ä¸ªæ¦‚å¿µåˆ™ä¸æ˜¯ä¸€ä¸ªç±»åˆ«çš„ã€‚multipart æ˜¯ä¸€ç§ Content-Typeï¼Œæ ‡ç¤º HTTP æŠ¥æ–‡å†…å®¹çš„ç±»å‹ï¼Œè€Œ chunked æ˜¯ä¸€ç§ä¼ è¾“æ ¼å¼ï¼Œæ ‡ç¤ºæŠ¥å¤´å°†ä»¥ä½•ç§æ–¹å¼è¿›è¡Œä¼ è¾“ã€‚ chunked ä¼ è¾“ä¸èƒ½äº‹å…ˆçŸ¥é“å†…å®¹çš„é•¿åº¦ï¼Œåªèƒ½é æœ€åçš„ç©º chunk å—æ¥åˆ¤æ–­ï¼Œå› æ­¤å¯¹äºä¸‹è½½è¯·</p><p>Cookie æ˜¯Web æœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯çš„ä¸€å°æ®µä¿¡æ¯ï¼Œå®¢æˆ·ç«¯è¯·æ±‚æ—¶å¯ä»¥è¯»å–è¯¥ä¿¡æ¯å‘é€åˆ°æœåŠ¡å™¨ç«¯ï¼Œè¿›è€Œè¿›è¡Œç”¨æˆ·çš„è¯†åˆ«ã€‚å¯¹äºå®¢æˆ·ç«¯çš„æ¯æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨éƒ½ä¼šå°† Cookie å‘é€åˆ°å®¢æˆ·ç«¯,åœ¨å®¢æˆ·ç«¯å¯ä»¥è¿›è¡Œä¿å­˜,ä»¥ä¾¿ä¸‹æ¬¡ä½¿ç”¨ã€‚</p><p>å®¢æˆ·ç«¯å¯ä»¥é‡‡ç”¨ä¸¤ç§æ–¹å¼æ¥ä¿å­˜è¿™ä¸ª Cookie å¯¹è±¡ï¼Œä¸€ç§æ–¹å¼æ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯å†…å­˜ä¸­ï¼Œç§°ä¸ºä¸´æ—¶ Cookieï¼Œæµè§ˆå™¨å…³é—­åè¿™ä¸ª Cookie å¯¹è±¡å°†æ¶ˆå¤±ã€‚å¦å¤–ä¸€ç§æ–¹å¼æ˜¯ä¿å­˜åœ¨å®¢æˆ·æœºçš„ç£ç›˜ä¸Šï¼Œç§°ä¸ºæ°¸ä¹… Cookieã€‚ä»¥åå®¢æˆ·ç«¯åªè¦è®¿é—®è¯¥ç½‘ç«™ï¼Œå°±ä¼šå°†è¿™ä¸ª Cookie å†æ¬¡å‘é€åˆ°æœåŠ¡å™¨ä¸Šï¼Œå‰ææ˜¯è¿™ä¸ª Cookie åœ¨æœ‰æ•ˆæœŸå†…ï¼Œè¿™æ ·å°±å®ç°äº†å¯¹å®¢æˆ·çš„è·Ÿè¸ªã€‚</p><p>Cookie æ˜¯å¯ä»¥è¢«å®¢æˆ·ç«¯ç¦ç”¨çš„ã€‚</p><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>ä¸å®‰å…¨ï¼Œå¾ˆå¤šå®‰å…¨é—®é¢˜éƒ½æ˜¯ç”±cookieå¯¼è‡´çš„</li><li>æ•°æ®ç±»å‹åªèƒ½æ˜¯å­—ç¬¦ä¸²</li><li>æ•°æ®å¤§å°æœ‰é™åˆ¶</li></ul><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å‡å°‘æœåŠ¡å™¨å‹åŠ›</li></ul><p>domain:é»˜è®¤è®¾ç½®ä¸ºå‘é€è¯·æ±‚çš„é‚£ä¸ªä¸»åŸŸå pathè¡¨ç¤ºä¸»æœºä¸‹çš„å“ªäº›è·¯å¾„å¯ä»¥æ¥å—cookie domainå’Œpathå…±åŒæŒ‡å®šcookieåº”è¯¥å‘é€ç»™å“ªäº›URLã€‚</p><p>expire time è¿‡æœŸæ—¶é—´ secure cookieåªèƒ½ç”¨httpsä¼ è¾“ httponly jsä¸èƒ½è®¿é—®cookie</p><h2 id="session" tabindex="-1"><a class="header-anchor" href="#session" aria-hidden="true">#</a> session</h2><p>æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªä¸åŒçš„ sessionï¼Œå„ä¸ªç”¨æˆ·ä¹‹é—´æ˜¯ä¸èƒ½å…±äº«çš„ï¼Œæ˜¯æ¯ä¸ªç”¨æˆ·æ‰€ç‹¬äº«çš„ï¼Œåœ¨ session ä¸­å¯ä»¥å­˜æ”¾ä¿¡æ¯ã€‚</p><p>åœ¨æœåŠ¡å™¨ç«¯ä¼šåˆ›å»ºä¸€ä¸ª session å¯¹è±¡ï¼Œäº§ç”Ÿä¸€ä¸ª sessionID æ¥æ ‡è¯†è¿™ä¸ª session å¯¹è±¡ï¼Œç„¶åå°†è¿™ä¸ª sessionID æ”¾å…¥åˆ° Cookie ä¸­å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œä¸‹ä¸€æ¬¡è®¿é—®æ—¶ï¼ŒsessionID ä¼šå‘é€åˆ°æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œè¯†åˆ«ä¸åŒçš„ç”¨æˆ·ã€‚</p><p>Session çš„å®ç°ä¾èµ–äº Cookieï¼Œå¦‚æœ Cookie è¢«ç¦ç”¨ï¼Œé‚£ä¹ˆ session ä¹Ÿå°†å¤±æ•ˆã€‚</p><p>cookieå®é™…ä¸Šæ˜¯ä¸€å°æ®µçš„æ–‡æœ¬ä¿¡æ¯ã€‚å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨ï¼Œå¦‚æœæœåŠ¡å™¨éœ€è¦è®°å½•è¯¥ç”¨æˆ·çš„çŠ¶æ€ï¼Œå°±ä½¿ç”¨responseå‘å®¢æˆ·ç«¯æµè§ˆå™¨é¢å‘ä¸€ä¸ªcookieã€‚å®¢æˆ·ç«¯æµè§ˆå™¨ä¼šæŠŠcookieä¿å­˜èµ·æ¥ã€‚å½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚è¯¥ç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šæŠŠè¯·æ±‚åœ°å€å’Œcookieä¸€åŒç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ£€æŸ¥è¯¥cookieï¼Œä»è€Œåˆ¤æ–­ç”¨æˆ·çš„çŠ¶æ€ã€‚æœåŠ¡å™¨è¿˜å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹cookieçš„å†…å®¹ã€‚ sessionæ˜¯å¦ä¸€ç§è®°å½•å®¢æˆ·çŠ¶æ€çš„æœºåˆ¶ã€‚ä¸åŒçš„æ˜¯cookieä¿å­˜åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­ï¼Œè€Œsessionä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚å®¢æˆ·ç«¯æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨æŠŠå®¢æˆ·ç«¯ä¿¡æ¯ä»¥æŸç§å½¢å¼è®°å½•åœ¨æœåŠ¡å™¨ä¸Šï¼Œè¿™å°±æ˜¯sessionã€‚å®¢æˆ·ç«¯æµè§ˆå™¨å†æ¬¡è®¿é—®æ—¶åªéœ€è¦ä»è¯¥sessionä¸­æŸ¥æ‰¾è¯¥å®¢æˆ·çš„çŠ¶æ€å°±å¯ä»¥äº†ã€‚ å¦‚æœè¯´cookieæœºåˆ¶æ˜¯é€šè¿‡æ£€æŸ¥å®¢æˆ·èº«ä¸Šçš„â€œé€šä¿¡è¯â€ï¼Œé‚£ä¹ˆsessionæœºåˆ¶å°±æ˜¯é€šè¿‡æ£€æŸ¥æœåŠ¡å™¨ä¸Šçš„â€œå®¢æˆ·æ˜ç»†è¡¨â€æ¥ç¡®è®¤å®¢æˆ·èº«ä»½ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å®‰å…¨æ€§é«˜</li><li>å¤§å°æ¯”cookieå¤§</li><li>æ•°æ®ç±»å‹æ²¡æœ‰é™åˆ¶</li></ul><p>**ç¼ºç‚¹ï¼š**å¯¹æœåŠ¡å™¨æ€§èƒ½æœ‰ä¸€å®šå½±å“</p><h2 id="è·¨ç«™æ”»å‡»" tabindex="-1"><a class="header-anchor" href="#è·¨ç«™æ”»å‡»" aria-hidden="true">#</a> è·¨ç«™æ”»å‡»</h2><h3 id="csrf" tabindex="-1"><a class="header-anchor" href="#csrf" aria-hidden="true">#</a> CSRF</h3><p>CSRFï¼ˆCross-site request forgeryï¼Œè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰</p><p>CSRF(XSRF) é¡¾åæ€ä¹‰ï¼Œæ˜¯ä¼ªé€ è¯·æ±‚ï¼Œå†’å……ç”¨æˆ·åœ¨ç«™å†…çš„æ­£å¸¸æ“ä½œã€‚</p><p>ä¾‹å¦‚ï¼Œä¸€è®ºå›ç½‘ç«™çš„å‘è´´æ˜¯é€šè¿‡ GET è¯·æ±‚è®¿é—®ï¼Œç‚¹å‡»å‘è´´ä¹‹å JS æŠŠå‘è´´å†…å®¹æ‹¼æ¥æˆç›®æ ‡ URL å¹¶è®¿é—®ï¼š</p><p><code>http://example.com/bbs/create_post.php?title=æ ‡é¢˜&amp;content=å†…å®¹</code> é‚£ä¹ˆï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è®ºå›ä¸­å‘ä¸€å¸–ï¼ŒåŒ…å«ä¸€é“¾æ¥ï¼š</p><p><code>http://example.com/bbs/create_post.php?title=æˆ‘æ˜¯è„‘æ®‹&amp;content=å“ˆå“ˆ</code> åªè¦æœ‰ç”¨æˆ·ç‚¹å‡»äº†è¿™ä¸ªé“¾æ¥ï¼Œé‚£ä¹ˆä»–ä»¬çš„å¸æˆ·å°±ä¼šåœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹å‘å¸ƒäº†è¿™ä¸€å¸–å­ã€‚å¯èƒ½è¿™åªæ˜¯ä¸ªæ¶ä½œå‰§ï¼Œä½†æ˜¯æ—¢ç„¶å‘è´´çš„è¯·æ±‚å¯ä»¥ä¼ªé€ ï¼Œé‚£ä¹ˆåˆ å¸–ã€è½¬å¸ã€æ”¹å¯†ç ã€å‘é‚®ä»¶å…¨éƒ½å¯ä»¥ä¼ªé€ ã€‚</p><p><strong>æºå¸¦cookieçš„è§„åˆ™æ˜¯æ ¹æ®è¯·æ±‚çš„åœ°å€æ¥åˆ¤æ–­ï¼Œè·Ÿé¡µé¢çš„åœ°å€æ— å…³ã€‚</strong></p><p>å¦‚ä½•é˜²èŒƒ CSRF æ”»å‡»ï¼Ÿå¯ä»¥æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><p>å…³é”®æ“ä½œåªæ¥å— POST è¯·æ±‚</p><p>éªŒè¯ç </p><p>CSRF æ”»å‡»çš„è¿‡ç¨‹ï¼Œå¾€å¾€æ˜¯åœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ„é€ ç½‘ç»œè¯·æ±‚ã€‚æ‰€ä»¥å¦‚æœä½¿ç”¨éªŒè¯ç ï¼Œé‚£ä¹ˆæ¯æ¬¡æ“ä½œéƒ½éœ€è¦ç”¨æˆ·è¿›è¡Œäº’åŠ¨ï¼Œä»è€Œç®€å•æœ‰æ•ˆçš„é˜²å¾¡äº†CSRFæ”»å‡»ã€‚</p><p>ä½†æ˜¯å¦‚æœä½ åœ¨ä¸€ä¸ªç½‘ç«™ä½œå‡ºä»»ä½•ä¸¾åŠ¨éƒ½è¦è¾“å…¥éªŒè¯ç ä¼šä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒï¼Œæ‰€ä»¥éªŒè¯ç ä¸€èˆ¬åªå‡ºç°åœ¨ç‰¹æ®Šæ“ä½œé‡Œé¢ï¼Œæˆ–è€…åœ¨æ³¨å†Œæ—¶å€™ä½¿ç”¨ã€‚</p><p>æ£€æµ‹ Referer</p><p>å¸¸è§çš„äº’è”ç½‘é¡µé¢ä¸é¡µé¢ä¹‹é—´æ˜¯å­˜åœ¨è”ç³»çš„ï¼Œæ¯”å¦‚ä½ åœ¨ www.baidu.com åº”è¯¥æ˜¯æ‰¾ä¸åˆ°é€šå¾€www.google.com çš„é“¾æ¥çš„ï¼Œå†æ¯”å¦‚ä½ åœ¨è®ºå›ç•™è¨€ï¼Œé‚£ä¹ˆä¸ç®¡ä½ ç•™è¨€åé‡å®šå‘åˆ°å“ªé‡Œå»äº†ï¼Œä¹‹å‰çš„é‚£ä¸ªç½‘å€ä¸€å®šä¼šåŒ…å«ç•™è¨€çš„è¾“å…¥æ¡†ï¼Œè¿™ä¸ªä¹‹å‰çš„ç½‘å€å°±ä¼šä¿ç•™åœ¨æ–°é¡µé¢å¤´æ–‡ä»¶çš„ Referer ä¸­</p><p>é€šè¿‡æ£€æŸ¥ Referer çš„å€¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ¤æ–­è¿™ä¸ªè¯·æ±‚æ˜¯åˆæ³•çš„è¿˜æ˜¯éæ³•çš„ï¼Œä½†æ˜¯é—®é¢˜å‡ºåœ¨æœåŠ¡å™¨ä¸æ˜¯ä»»ä½•æ—¶å€™éƒ½èƒ½æ¥å—åˆ° Referer çš„å€¼ï¼Œæ‰€ä»¥ Referer Check ä¸€èˆ¬ç”¨äºç›‘æ§ CSRF æ”»å‡»çš„å‘ç”Ÿï¼Œè€Œä¸ç”¨æ¥æŠµå¾¡æ”»å‡»ã€‚</p><p><strong>Token</strong></p><p>ç›®å‰ä¸»æµçš„åšæ³•æ˜¯ä½¿ç”¨ Token æŠµå¾¡ CSRF æ”»å‡»ã€‚ä¸‹é¢é€šè¿‡åˆ†æ CSRF æ”»å‡»æ¥ç†è§£ä¸ºä»€ä¹ˆ Token èƒ½å¤Ÿæœ‰æ•ˆ</p><p>CSRF æ”»å‡»è¦æˆåŠŸçš„æ¡ä»¶åœ¨äºæ”»å‡»è€…èƒ½å¤Ÿé¢„æµ‹æ‰€æœ‰çš„å‚æ•°ä»è€Œæ„é€ å‡ºåˆæ³•çš„è¯·æ±‚ã€‚æ‰€ä»¥æ ¹æ®ä¸å¯é¢„æµ‹æ€§åŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å‚æ•°è¿›è¡ŒåŠ å¯†ä»è€Œé˜²æ­¢ CSRF æ”»å‡»ã€‚</p><p>å¦ä¸€ä¸ªæ›´é€šç”¨çš„åšæ³•æ˜¯ä¿æŒåŸæœ‰å‚æ•°ä¸å˜ï¼Œå¦å¤–æ·»åŠ ä¸€ä¸ªå‚æ•° Tokenï¼Œå…¶å€¼æ˜¯éšæœºçš„ã€‚è¿™æ ·æ”»å‡»è€…å› ä¸ºä¸çŸ¥é“ Token è€Œæ— æ³•æ„é€ å‡ºåˆæ³•çš„è¯·æ±‚è¿›è¡Œæ”»å‡»ã€‚</p><p>Token ä½¿ç”¨åŸåˆ™</p><p>Token è¦è¶³å¤Ÿéšæœºâ€”â€”â€”â€”åªæœ‰è¿™æ ·æ‰ç®—ä¸å¯é¢„æµ‹ Token æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œå³æ¯æ¬¡è¯·æ±‚æˆåŠŸåè¦æ›´æ–°Tokenâ€”â€”â€”â€”è¿™æ ·å¯ä»¥å¢åŠ æ”»å‡»éš¾åº¦ï¼Œå¢åŠ é¢„æµ‹éš¾åº¦ Token è¦æ³¨æ„ä¿å¯†æ€§â€”â€”â€”â€”æ•æ„Ÿæ“ä½œä½¿ç”¨ postï¼Œé˜²æ­¢ Token å‡ºç°åœ¨ URL ä¸­ æ³¨æ„ï¼šè¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„å†…å®¹ä¸èƒ½é˜»æŒ¡ csrfï¼Œæˆ‘ä»¬éœ€è¦åšçš„æ˜¯è¿‡æ»¤è¯·æ±‚çš„æ¥æºã€‚</p><p>CSRFé€šè¿‡å¤–åŸŸå‘é€è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¸¦ä¸Šcookieï¼Œä¼ªé€ æˆç”¨æˆ·è‡ªå·±å‘é€çš„è¯·æ±‚ã€‚</p><h4 id="ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ç­–ç•¥" aria-hidden="true">#</a> ç­–ç•¥</h4><p>é˜»æ­¢ä¸æ˜å¤–åŸŸçš„è®¿é—®ï¼š</p><ul><li>åŒæºæ£€æµ‹</li><li>samesite cookie</li></ul><p>åŠ ä¸Šåªæœ‰æœ¬åŸŸæ‰èƒ½è·å–åˆ°çš„ä¿¡æ¯</p><ul><li>CSRF Token</li><li>åŒé‡cookieéªŒè¯</li></ul><p>åŒæºæ£€æµ‹å°±æ˜¯åé¢é€ æˆè·¨åŸŸçš„åŸå› ï¼Œä»–è®©æœåŠ¡ç«¯åªèƒ½æ¥å—æ¥è‡ªåŒæº(åŒä¸€å°ä¸»æœºåŒä¸€ä¸ªè·¯å¾„åŒä¸€ä¸ªç«¯å£åŒä¸€ä¸ªåè®®)çš„è¯·æ±‚</p><p>samesite cookie set-cookieæ–°å¢äº†Samesiteå±æ€§ï¼Œåªå…è®¸ç¬¬ä¸€æ–¹æºå¸¦cookie</p><p>CSRF Token è¿™ä¸ªtokenä¸åº”è¯¥æ”¾åœ¨cookieä¸­ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦åœ¨headerä¸­åŠ ä¸Štoken</p><p>åŒé‡cookieéªŒè¯ åˆ©ç”¨csrfä¸èƒ½è·å–cookieçš„ç‰¹ç‚¹ï¼Œåœ¨è¯·æ±‚ä¸­åŠ ä¸Šcookieè¿™ä¸ªå‚æ•°æ¥å†æ¬¡éªŒè¯coASD789?!ie</p><h3 id="xss" tabindex="-1"><a class="header-anchor" href="#xss" aria-hidden="true">#</a> XSS</h3><p>XSSï¼ˆCross Site Scriptingï¼Œè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰</p><p>XSS å…¨ç§°â€œè·¨ç«™è„šæœ¬â€ï¼Œæ˜¯æ³¨å…¥æ”»å‡»çš„ä¸€ç§ã€‚å…¶ç‰¹ç‚¹æ˜¯ä¸å¯¹æœåŠ¡å™¨ç«¯é€ æˆä»»ä½•ä¼¤å®³ï¼Œè€Œæ˜¯é€šè¿‡ä¸€äº›æ­£å¸¸çš„ç«™å†…äº¤äº’é€”å¾„ï¼Œä¾‹å¦‚å‘å¸ƒè¯„è®ºï¼Œæäº¤å«æœ‰ JavaScript çš„å†…å®¹æ–‡æœ¬ã€‚è¿™æ—¶æœåŠ¡å™¨ç«¯å¦‚æœæ²¡æœ‰è¿‡æ»¤æˆ–è½¬ä¹‰æ‰è¿™äº›è„šæœ¬ï¼Œä½œä¸ºå†…å®¹å‘å¸ƒåˆ°äº†é¡µé¢ä¸Šï¼Œå…¶ä»–ç”¨æˆ·è®¿é—®è¿™ä¸ªé¡µé¢çš„æ—¶å€™å°±ä¼šè¿è¡Œè¿™äº›è„šæœ¬ã€‚</p><p>è¿è¡Œé¢„æœŸä¹‹å¤–çš„è„šæœ¬å¸¦æ¥çš„åæœæœ‰å¾ˆå¤šä¸­ï¼Œå¯èƒ½åªæ˜¯ç®€å•çš„æ¶ä½œå‰§â€”â€”ä¸€ä¸ªå…³ä¸æ‰çš„çª—å£ï¼š</p><p>while (true) { alert(&quot;ä½ å…³ä¸æ‰æˆ‘~&quot;); } ä¹Ÿå¯ä»¥æ˜¯ç›—å·æˆ–è€…å…¶ä»–æœªæˆæƒçš„æ“ä½œã€‚</p><p>XSS æ˜¯å®ç° CSRF çš„è¯¸å¤šé€”å¾„ä¸­çš„ä¸€æ¡ï¼Œä½†ç»å¯¹ä¸æ˜¯å”¯ä¸€çš„ä¸€æ¡ã€‚ä¸€èˆ¬ä¹ æƒ¯ä¸ŠæŠŠé€šè¿‡ XSS æ¥å®ç°çš„ CSRF ç§°ä¸º XSRFã€‚</p><p>å¦‚ä½•é˜²å¾¡ XSS æ”»å‡»ï¼Ÿ</p><p>ç†è®ºä¸Šï¼Œæ‰€æœ‰å¯è¾“å…¥çš„åœ°æ–¹æ²¡æœ‰å¯¹è¾“å…¥æ•°æ®è¿›è¡Œå¤„ç†çš„è¯ï¼Œéƒ½ä¼šå­˜åœ¨ XSS æ¼æ´ï¼Œæ¼æ´çš„å±å®³å–å†³äºæ”»å‡»ä»£ç çš„å¨åŠ›ï¼Œæ”»å‡»ä»£ç ä¹Ÿä¸å±€é™äº scriptã€‚é˜²å¾¡ XSS æ”»å‡»æœ€ç®€å•ç›´æ¥çš„æ–¹æ³•ï¼Œå°±æ˜¯è¿‡æ»¤ç”¨æˆ·çš„è¾“å…¥ã€‚</p><p>å¦‚æœä¸éœ€è¦ç”¨æˆ·è¾“å…¥ HTMLï¼Œå¯ä»¥ç›´æ¥å¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œ HTML escape ã€‚ä¸‹é¢ä¸€å°æ®µè„šæœ¬ï¼š</p><p><code>&lt;script&gt;window.location.href=â€http://www.baidu.comâ€;&lt;/script&gt;</code> ç»è¿‡ escape ä¹‹åå°±æˆäº†ï¼š</p><p><code>&amp;lt;script&amp;gt;window.location.href=&amp;quot;http://www.baidu.com&amp;quot;&amp;lt;/script&amp;gt;</code> å®ƒç°åœ¨ä¼šåƒæ™®é€šæ–‡æœ¬ä¸€æ ·æ˜¾ç¤ºå‡ºæ¥ï¼Œå˜å¾—æ— æ¯’æ— å®³ï¼Œä¸èƒ½æ‰§è¡Œäº†ã€‚</p><p>å½“æˆ‘ä»¬éœ€è¦ç”¨æˆ·è¾“å…¥ HTML çš„æ—¶å€™ï¼Œéœ€è¦å¯¹ç”¨æˆ·è¾“å…¥çš„å†…å®¹åšæ›´åŠ å°å¿ƒç»†è‡´çš„å¤„ç†ã€‚ä»…ä»…ç²—æš´åœ°å»æ‰ script æ ‡ç­¾æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œä»»ä½•ä¸€ä¸ªåˆæ³• HTML æ ‡ç­¾éƒ½å¯ä»¥æ·»åŠ  onclick ä¸€ç±»çš„äº‹ä»¶å±æ€§æ¥æ‰§è¡Œ JavaScriptã€‚æ›´å¥½çš„æ–¹æ³•å¯èƒ½æ˜¯ï¼Œå°†ç”¨æˆ·çš„è¾“å…¥ä½¿ç”¨ HTML è§£æåº“è¿›è¡Œè§£æï¼Œè·å–å…¶ä¸­çš„æ•°æ®ã€‚ç„¶åæ ¹æ®ç”¨æˆ·åŸæœ‰çš„æ ‡ç­¾å±æ€§ï¼Œé‡æ–°æ„å»º HTML å…ƒç´ æ ‘ã€‚æ„å»ºçš„è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„æ ‡ç­¾ã€å±æ€§éƒ½åªä»ç™½åå•ä¸­æ‹¿å–ã€‚</p><h4 id="å­˜å‚¨å‹" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨å‹" aria-hidden="true">#</a> å­˜å‚¨å‹</h4><p>å­˜å‚¨å‹xssæ˜¯é€šè¿‡è¯·æ±‚å°†æ•°æ®åŠ å…¥æ•°æ®åº“ï¼Œè¿™äº›æ•°æ®ä¼šå±•ç¤ºåœ¨é¡µé¢ä¸Šï¼Œå¦‚ç•™è¨€ï¼Œè¯„è®º</p><h4 id="åå°„å‹" tabindex="-1"><a class="header-anchor" href="#åå°„å‹" aria-hidden="true">#</a> åå°„å‹</h4><p>åå°„å‹xssæ˜¯æ”»å‡»è€…æ„é€ æ¶æ„urlï¼Œå½“ç”¨æˆ·è®¿é—®è¿™ä¸ªurlæ—¶ï¼Œä¼šå°†urlä¸­çš„æ•°æ®æ‹¼æ¥åœ¨htmlä¸­ï¼Œå½“ç”¨æˆ·ç‚¹å¼€urlå°±ä¼šæ‰§è¡Œæ¶æ„è„šæœ¬ã€‚</p><h4 id="domå‹" tabindex="-1"><a class="header-anchor" href="#domå‹" aria-hidden="true">#</a> domå‹</h4><p>domä¸»è¦æ˜¯å› ä¸ºå‰ç«¯JavaScriptè‡ªèº«çš„æ¼æ´ï¼Œæ”»å‡»è€…æ„é€ æ¶æ„urlï¼Œå‰ç«¯javascriptå–å‡ºurlä¸­çš„æ•°æ®ï¼Œå¹¶æ‰§è¡Œæ¶æ„è„šæœ¬</p><h4 id="xssé¢„é˜²" tabindex="-1"><a class="header-anchor" href="#xssé¢„é˜²" aria-hidden="true">#</a> xssé¢„é˜²</h4><h5 id="é¢„é˜²å­˜å‚¨å‹å’Œåå°„å‹" tabindex="-1"><a class="header-anchor" href="#é¢„é˜²å­˜å‚¨å‹å’Œåå°„å‹" aria-hidden="true">#</a> é¢„é˜²å­˜å‚¨å‹å’Œåå°„å‹</h5><p>è¿™ä¸¤ç§éƒ½æ˜¯æœåŠ¡ç«¯å–å‡ºæ¶æ„ä»£ç æ‹¼æ¥åˆ°htmlä¸Šï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><p>1.çº¯å‰ç«¯æ¸²æŸ“</p><p>2.å¯¹htmlåšå……åˆ†è½¬ä¹‰</p><p>çº¯å‰ç«¯æ¸²æŸ“å°±æ˜¯æˆ‘ä»¬ç°åœ¨å¸¸ç”¨çš„ï¼Œé€šè¿‡ajaxå‘é€æ•°æ®ï¼Œå†æŠŠæ•°æ®æ¸²æŸ“åœ¨é¡µé¢ä¸Šã€‚</p><p>å¦‚æœhtmlæ‹¼æ¥æ˜¯æœ‰å¿…è¦çš„ï¼Œé‚£ä¹ˆéœ€è¦å¯¹htmlåšå……åˆ†çš„è½¬ä¹‰ï¼Œåšå¥½å……åˆ†çš„htmlè½¬ä¹‰æ˜¯éå¸¸å¤æ‚çš„ã€‚</p><h5 id="é¢„é˜²domå‹" tabindex="-1"><a class="header-anchor" href="#é¢„é˜²domå‹" aria-hidden="true">#</a> é¢„é˜²domå‹</h5><p>å°½é‡ä¸è¦ä½¿ç”¨innterHTML,outerHTML,domcument.writeï¼Œå¦‚æœæ˜¯vueæˆ–è€…reactï¼Œå°½é‡ä¸è¦ä½¿ç”¨v-htmlï¼ŒdangerouslySetInnerHTMLï¼Œonclickï¼Œlocationï¼Œaçš„hrefå±æ€§éƒ½æ˜¯å¯ä»¥æ‰§è¡ŒJavaScriptä»£ç çš„ï¼Œä¸è¦å°†ä¸ä¿¡ä»»çš„æ•°æ®ä¼ é€’ç»™è¿™äº›api</p><h5 id="å…¶ä»–é˜²èŒƒæªæ–½" tabindex="-1"><a class="header-anchor" href="#å…¶ä»–é˜²èŒƒæªæ–½" aria-hidden="true">#</a> å…¶ä»–é˜²èŒƒæªæ–½</h5><p>cspï¼Œå¯ä»¥é˜²æ­¢åŠ è½½å¤–åŸŸè„šæœ¬ï¼›</p><p>é™åˆ¶è¾“å…¥é•¿åº¦</p><p>http-onlyï¼Œæ— æ³•é€šè¿‡jsè„šæœ¬è·å–åˆ°cookie</p><p>éªŒè¯ç </p><h2 id="http2-0" tabindex="-1"><a class="header-anchor" href="#http2-0" aria-hidden="true">#</a> http2.0</h2><p>http2.0æ˜¯ä¸€ç§å®‰å…¨é«˜æ•ˆçš„ä¸‹ä¸€ä»£httpä¼ è¾“åè®®ã€‚å®‰å…¨æ˜¯å› ä¸ºhttp2.0å»ºç«‹åœ¨httpsåè®®çš„åŸºç¡€ä¸Šï¼Œé«˜æ•ˆæ˜¯å› ä¸ºå®ƒæ˜¯é€šè¿‡äºŒè¿›åˆ¶åˆ†å¸§æ¥è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚</p><h3 id="äºŒè¿›åˆ¶åˆ†å¸§" tabindex="-1"><a class="header-anchor" href="#äºŒè¿›åˆ¶åˆ†å¸§" aria-hidden="true">#</a> äºŒè¿›åˆ¶åˆ†å¸§</h3><p>http2.0ä¹‹æ‰€ä»¥èƒ½å¤Ÿçªç ´http1.Xæ ‡å‡†çš„æ€§èƒ½é™åˆ¶ï¼Œæ”¹è¿›ä¼ è¾“æ€§èƒ½ï¼Œå®ç°ä½å»¶è¿Ÿå’Œé«˜ååé‡ï¼Œå°±æ˜¯å› ä¸ºå…¶æ–°å¢äº†äºŒè¿›åˆ¶åˆ†å¸§å±‚ã€‚</p><p>å¸§(frame)åŒ…å«éƒ¨åˆ†ï¼šç±»å‹Type, é•¿åº¦Length, æ ‡è®°Flags, æµæ ‡è¯†Streamå’Œframe payloadæœ‰æ•ˆè½½è·ã€‚</p><p>æ¶ˆæ¯(message)ï¼šä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚æˆ–è€…å“åº”ï¼Œæ¯”å¦‚è¯·æ±‚ã€å“åº”ç­‰ï¼Œç”±ä¸€ä¸ªæˆ–å¤šä¸ª Frame ç»„æˆã€‚</p><p>æµæ˜¯è¿æ¥ä¸­çš„ä¸€ä¸ªè™šæ‹Ÿä¿¡é“ï¼Œå¯ä»¥æ‰¿è½½åŒå‘æ¶ˆæ¯ä¼ è¾“ï¼Œå¯ä»¥æ‰¿è½½ä¸€æ¡æˆ–å¤šæ¡æ¶ˆæ¯ã€‚æ¯ä¸ªæµæœ‰å”¯ä¸€æ•´æ•°æ ‡è¯†ç¬¦ã€‚ä¸ºäº†é˜²æ­¢ä¸¤ç«¯æµIDå†²çªï¼Œå®¢æˆ·ç«¯å‘èµ·çš„æµå…·æœ‰å¥‡æ•°IDï¼ŒæœåŠ¡å™¨ç«¯å‘èµ·çš„æµå…·æœ‰å¶æ•°IDã€‚</p><p>æµæ ‡è¯†æ˜¯æè¿°äºŒè¿›åˆ¶frameçš„æ ¼å¼ï¼Œä½¿å¾—æ¯ä¸ªframeèƒ½å¤ŸåŸºäºhttp2å‘é€ï¼Œä¸æµæ ‡è¯†è”ç³»çš„æ˜¯ä¸€ä¸ªæµï¼Œæ¯ä¸ªæµæ˜¯ä¸€ä¸ªé€»è¾‘è”ç³»ï¼Œä¸€ä¸ªç‹¬ç«‹çš„åŒå‘çš„frameå­˜åœ¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´çš„http2è¿æ¥ä¸­ã€‚ä¸€ä¸ªhttp2è¿æ¥ä¸Šå¯åŒ…å«å¤šä¸ªå¹¶å‘æ‰“å¼€çš„æµï¼Œè¿™ä¸ªå¹¶å‘æµçš„æ•°é‡èƒ½å¤Ÿç”±å®¢æˆ·ç«¯è®¾ç½®ã€‚</p><p>åœ¨äºŒè¿›åˆ¶åˆ†å¸§å±‚ä¸Šï¼Œhttp2.0ä¼šå°†æ‰€æœ‰ä¼ è¾“ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§ï¼Œå¹¶å¯¹å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼çš„ç¼–ç å°†å…¶å°è£…ï¼Œæ–°å¢çš„äºŒè¿›åˆ¶åˆ†å¸§å±‚åŒæ—¶ä¹Ÿèƒ½å¤Ÿä¿è¯httpçš„å„ç§åŠ¨è¯ï¼Œæ–¹æ³•ï¼Œé¦–éƒ¨éƒ½ä¸å—å½±å“ï¼Œå…¼å®¹ä¸Šä¸€ä»£httpæ ‡å‡†ã€‚å…¶ä¸­ï¼Œhttp1.Xä¸­çš„é¦–éƒ¨ä¿¡æ¯headerå°è£…åˆ°Headerså¸§ä¸­ï¼Œè€Œrequest bodyå°†è¢«å°è£…åˆ°Dataå¸§ä¸­ã€‚</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/31/16e208ee1d0caab8~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><h3 id="å¤šè·¯å¤ç”¨-è¿æ¥å…±äº«" tabindex="-1"><a class="header-anchor" href="#å¤šè·¯å¤ç”¨-è¿æ¥å…±äº«" aria-hidden="true">#</a> å¤šè·¯å¤ç”¨/è¿æ¥å…±äº«</h3><p>åœ¨http1.1ä¸­ï¼Œæµè§ˆå™¨å®¢æˆ·ç«¯åœ¨åŒä¸€æ—¶é—´ï¼Œé’ˆå¯¹åŒä¸€åŸŸåä¸‹çš„è¯·æ±‚æœ‰ä¸€å®šæ•°é‡çš„é™åˆ¶ï¼Œè¶…è¿‡é™åˆ¶æ•°ç›®çš„è¯·æ±‚ä¼šè¢«é˜»å¡ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä½•ä¸€äº›ç«™ç‚¹ä¼šæœ‰å¤šä¸ªé™æ€èµ„æº CDN åŸŸåçš„åŸå› ä¹‹ä¸€ã€‚</p><p>è€Œhttp2.0ä¸­çš„å¤šè·¯å¤ç”¨ä¼˜åŒ–äº†è¿™ä¸€æ€§èƒ½ã€‚å¤šè·¯å¤ç”¨å…è®¸åŒæ—¶é€šè¿‡å•ä¸€çš„http/2 è¿æ¥å‘èµ·å¤šé‡çš„è¯·æ±‚-å“åº”æ¶ˆæ¯ã€‚æœ‰äº†æ–°çš„åˆ†å¸§æœºåˆ¶åï¼Œhttp/2 ä¸å†ä¾èµ–å¤šä¸ªTCPè¿æ¥å»å®ç°å¤šæµå¹¶è¡Œäº†ã€‚æ¯ä¸ªæ•°æ®æµéƒ½æ‹†åˆ†æˆå¾ˆå¤šäº’ä¸ä¾èµ–çš„å¸§ï¼Œè€Œè¿™äº›å¸§å¯ä»¥äº¤é”™ï¼ˆä¹±åºå‘é€ï¼‰ï¼Œè¿˜å¯ä»¥åˆ†ä¼˜å…ˆçº§ï¼Œæœ€åå†åœ¨å¦ä¸€ç«¯æŠŠå®ƒä»¬é‡æ–°ç»„åˆèµ·æ¥ã€‚</p><p>http 2.0 è¿æ¥éƒ½æ˜¯æŒä¹…åŒ–çš„ï¼Œè€Œä¸”å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ä¹Ÿåªéœ€è¦ä¸€ä¸ªè¿æ¥ï¼ˆæ¯ä¸ªåŸŸåä¸€ä¸ªè¿æ¥ï¼‰å³å¯ã€‚http2è¿æ¥å¯ä»¥æ‰¿è½½æ•°åæˆ–æ•°ç™¾ä¸ªæµçš„å¤ç”¨ï¼Œ<strong>å¤šè·¯å¤ç”¨æ„å‘³ç€æ¥è‡ªå¾ˆå¤šæµçš„æ•°æ®åŒ…èƒ½å¤Ÿæ··åˆåœ¨ä¸€èµ·é€šè¿‡åŒæ ·è¿æ¥ä¼ è¾“</strong>ã€‚<strong>å½“åˆ°è¾¾ç»ˆç‚¹æ—¶ï¼Œå†æ ¹æ®ä¸åŒå¸§é¦–éƒ¨çš„æµæ ‡è¯†ç¬¦é‡æ–°è¿æ¥å°†ä¸åŒçš„æ•°æ®æµè¿›è¡Œç»„è£…ã€‚</strong></p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/31/16e208ee1cebfa44~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/31/16e208ee1e5c87aa~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><h3 id="å¤´éƒ¨å‹ç¼©" tabindex="-1"><a class="header-anchor" href="#å¤´éƒ¨å‹ç¼©" aria-hidden="true">#</a> å¤´éƒ¨å‹ç¼©</h3><p>http1.xçš„å¤´å¸¦æœ‰å¤§é‡ä¿¡æ¯ï¼Œè€Œä¸”æ¯æ¬¡éƒ½è¦é‡å¤å‘é€ã€‚http/2ä½¿ç”¨encoderæ¥å‡å°‘éœ€è¦ä¼ è¾“çš„headerå¤§å°ï¼Œé€šè®¯åŒæ–¹å„è‡ªç¼“å­˜ä¸€ä»½å¤´éƒ¨å­—æ®µè¡¨ï¼Œæ—¢é¿å…äº†é‡å¤headerçš„ä¼ è¾“ï¼Œåˆå‡å°äº†éœ€è¦ä¼ è¾“çš„å¤§å°ã€‚</p><p>å¯¹äºç›¸åŒçš„æ•°æ®ï¼Œä¸å†é€šè¿‡æ¯æ¬¡è¯·æ±‚å’Œå“åº”å‘é€ï¼Œé€šä¿¡æœŸé—´å‡ ä¹ä¸ä¼šæ”¹å˜é€šç”¨é”®-å€¼å¯¹(ç”¨æˆ·ä»£ç†ã€å¯æ¥å—çš„åª’ä½“ç±»å‹ï¼Œç­‰ç­‰)åªéœ€å‘é€ä¸€æ¬¡ã€‚</p><p>äº‹å®ä¸Š,å¦‚æœè¯·æ±‚ä¸­ä¸åŒ…å«é¦–éƒ¨(ä¾‹å¦‚å¯¹åŒä¸€èµ„æºçš„è½®è¯¢è¯·æ±‚)ï¼Œé‚£ä¹ˆï¼Œé¦–éƒ¨å¼€é”€å°±æ˜¯é›¶å­—èŠ‚ï¼Œæ­¤æ—¶æ‰€æœ‰é¦–éƒ¨éƒ½è‡ªåŠ¨ä½¿ç”¨ä¹‹å‰è¯·æ±‚å‘é€çš„é¦–éƒ¨ã€‚</p><p>å¦‚æœé¦–éƒ¨å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™åªéœ€å°†å˜åŒ–çš„éƒ¨åˆ†åŠ å…¥åˆ°headerå¸§ä¸­ï¼Œæ”¹å˜çš„éƒ¨åˆ†ä¼šåŠ å…¥åˆ°å¤´éƒ¨å­—æ®µè¡¨ä¸­ï¼Œé¦–éƒ¨è¡¨åœ¨ http 2.0 çš„è¿æ¥å­˜ç»­æœŸå†…å§‹ç»ˆå­˜åœ¨ï¼Œç”±å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å…±åŒæ¸è¿›åœ°æ›´æ–°ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œhttp 2.0å…³æ³¨çš„æ˜¯é¦–éƒ¨å‹ç¼©ï¼Œè€Œæˆ‘ä»¬å¸¸ç”¨çš„gzipç­‰æ˜¯æŠ¥æ–‡å†…å®¹ï¼ˆbodyï¼‰çš„å‹ç¼©ï¼ŒäºŒè€…ä¸ä»…ä¸å†²çªï¼Œä¸”èƒ½å¤Ÿä¸€èµ·è¾¾åˆ°æ›´å¥½çš„å‹ç¼©æ•ˆæœã€‚</p><h4 id="å‹ç¼©åŸç†" tabindex="-1"><a class="header-anchor" href="#å‹ç¼©åŸç†" aria-hidden="true">#</a> å‹ç¼©åŸç†</h4><p>ç”¨headerå­—æ®µè¡¨é‡Œçš„ç´¢å¼•ä»£æ›¿å®é™…çš„headerã€‚</p><p>http/2çš„HPACKç®—æ³•ä½¿ç”¨ä¸€ä»½ç´¢å¼•è¡¨æ¥å®šä¹‰å¸¸ç”¨çš„http Headerï¼ŒæŠŠå¸¸ç”¨çš„ http Header å­˜æ”¾åœ¨è¡¨é‡Œï¼Œè¯·æ±‚çš„æ—¶å€™ä¾¿åªéœ€è¦å‘é€åœ¨è¡¨é‡Œçš„ç´¢å¼•ä½ç½®å³å¯ã€‚</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/31/16e208ee3d18e3b3~tplv-t2oaga2asx-watermark.awebp" alt="img"></p><p>å› ä¸ºç´¢å¼•è¡¨çš„å¤§å°çš„æ˜¯æœ‰é™çš„ï¼Œå®ƒä»…ä¿å­˜äº†ä¸€äº›å¸¸ç”¨çš„ http Headerï¼ŒåŒæ—¶æ¯æ¬¡è¯·æ±‚è¿˜å¯ä»¥åœ¨è¡¨çš„æœ«å°¾åŠ¨æ€è¿½åŠ æ–°çš„ http Header ç¼“å­˜ï¼ŒåŠ¨æ€éƒ¨åˆ†ç§°ä¹‹ä¸º Dynamic Tableã€‚Static Table å’Œ Dynamic Table åœ¨ä¸€èµ·ç»„åˆæˆäº†ç´¢å¼•è¡¨</p><h3 id="è¯·æ±‚ä¼˜å…ˆçº§" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚ä¼˜å…ˆçº§" aria-hidden="true">#</a> è¯·æ±‚ä¼˜å…ˆçº§</h3><p>æŠŠhttpæ¶ˆæ¯åˆ†ä¸ºå¾ˆå¤šç‹¬ç«‹å¸§ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡ä¼˜åŒ–è¿™äº›å¸§çš„äº¤é”™å’Œä¼ è¾“é¡ºåºè¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½ã€‚æ¯ä¸ªæµéƒ½å¯ä»¥å¸¦æœ‰ä¸€ä¸ª31æ¯”ç‰¹çš„ä¼˜å…ˆå€¼ï¼š0 è¡¨ç¤ºæœ€é«˜ä¼˜å…ˆçº§ï¼›2çš„31æ¬¡æ–¹-1 è¡¨ç¤ºæœ€ä½ä¼˜å…ˆçº§ã€‚</p><p>æœåŠ¡å™¨å¯ä»¥æ ¹æ®æµçš„ä¼˜å…ˆçº§ï¼Œæ§åˆ¶èµ„æºåˆ†é…ï¼ˆCPUã€å†…å­˜ã€å¸¦å®½ï¼‰ï¼Œè€Œåœ¨å“åº”æ•°æ®å‡†å¤‡å¥½ä¹‹åï¼Œä¼˜å…ˆå°†æœ€é«˜ä¼˜å…ˆçº§çš„å¸§å‘é€ç»™å®¢æˆ·ç«¯ã€‚é«˜ä¼˜å…ˆçº§çš„æµéƒ½åº”è¯¥ä¼˜å…ˆå‘é€ï¼Œä½†åˆä¸ä¼šç»å¯¹çš„ã€‚ç»å¯¹åœ°å‡†å®ˆï¼Œå¯èƒ½åˆä¼šå¼•å…¥é¦–é˜Ÿé˜»å¡çš„é—®é¢˜ï¼šé«˜ä¼˜å…ˆçº§çš„è¯·æ±‚æ…¢å¯¼è‡´é˜»å¡å…¶ä»–èµ„æºäº¤ä»˜ã€‚</p><p>åˆ†é…å¤„ç†èµ„æºå’Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é—´çš„å¸¦å®½ï¼Œä¸åŒä¼˜å…ˆçº§çš„æ··åˆä¹Ÿæ˜¯å¿…é¡»çš„ã€‚å®¢æˆ·ç«¯ä¼šæŒ‡å®šå“ªä¸ªæµæ˜¯æœ€é‡è¦çš„ï¼Œæœ‰ä¸€äº›ä¾èµ–å‚æ•°ï¼Œè¿™æ ·ä¸€ä¸ªæµå¯ä»¥ä¾èµ–å¦å¤–ä¸€ä¸ªæµã€‚ä¼˜å…ˆçº§åˆ«å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€æ”¹å˜ï¼Œå½“ç”¨æˆ·æ»šåŠ¨é¡µé¢æ—¶ï¼Œå¯ä»¥å‘Šè¯‰æµè§ˆå™¨å“ªä¸ªå›¾åƒæ˜¯æœ€é‡è¦çš„ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ä¸€ç»„æµä¸­è¿›è¡Œä¼˜å…ˆç­›é€‰ï¼Œèƒ½å¤Ÿçªç„¶æŠ“ä½é‡ç‚¹æµã€‚</p><p>â—ä¼˜å…ˆçº§æœ€é«˜ï¼šä¸»è¦çš„html</p><p>â—ä¼˜å…ˆçº§é«˜ï¼šCSSæ–‡ä»¶</p><p>â—ä¼˜å…ˆçº§ä¸­ï¼šjsæ–‡ä»¶</p><p>â—ä¼˜å…ˆçº§ä½ï¼šå›¾ç‰‡</p><h3 id="æœåŠ¡ç«¯æ¨é€" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡ç«¯æ¨é€" aria-hidden="true">#</a> æœåŠ¡ç«¯æ¨é€</h3><p>æœåŠ¡å™¨å¯ä»¥å¯¹ä¸€ä¸ªå®¢æˆ·ç«¯è¯·æ±‚å‘é€å¤šä¸ªå“åº”ï¼ŒæœåŠ¡å™¨å‘å®¢æˆ·ç«¯æ¨é€èµ„æºæ— éœ€å®¢æˆ·ç«¯æ˜ç¡®åœ°è¯·æ±‚ã€‚å¹¶ä¸”ï¼ŒæœåŠ¡ç«¯æ¨é€èƒ½æŠŠå®¢æˆ·ç«¯æ‰€éœ€è¦çš„èµ„æºä¼´éšç€index.htmlä¸€èµ·å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œçœå»äº†å®¢æˆ·ç«¯é‡å¤è¯·æ±‚çš„æ­¥éª¤ã€‚</p><p>æ­£å› ä¸ºæ²¡æœ‰å‘èµ·è¯·æ±‚ï¼Œå»ºç«‹è¿æ¥ç­‰æ“ä½œï¼Œæ‰€ä»¥é™æ€èµ„æºé€šè¿‡æœåŠ¡ç«¯æ¨é€çš„æ–¹å¼å¯ä»¥æå¤§åœ°æå‡é€Ÿåº¦ã€‚Server Push è®© http1.x æ—¶ä»£ä½¿ç”¨å†…åµŒèµ„æºçš„ä¼˜åŒ–æ‰‹æ®µå˜å¾—æ²¡æœ‰æ„ä¹‰ï¼›å¦‚æœä¸€ä¸ªè¯·æ±‚æ˜¯ç”±ä½ çš„ä¸»é¡µå‘èµ·çš„ï¼ŒæœåŠ¡å™¨å¾ˆå¯èƒ½ä¼šå“åº”ä¸»é¡µå†…å®¹ã€logo ä»¥åŠæ ·å¼è¡¨ï¼Œå› ä¸ºå®ƒçŸ¥é“å®¢æˆ·ç«¯ä¼šç”¨åˆ°è¿™äº›ä¸œè¥¿ï¼Œè¿™ç›¸å½“äºåœ¨ä¸€ä¸ª HTML æ–‡æ¡£å†…é›†åˆäº†æ‰€æœ‰çš„èµ„æºã€‚</p><p>ä¸è¿‡ä¸ä¹‹ç›¸æ¯”ï¼ŒæœåŠ¡å™¨æ¨é€è¿˜æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿ï¼šå¯ä»¥ç¼“å­˜ï¼ä¹Ÿè®©åœ¨éµå¾ªåŒæºçš„æƒ…å†µä¸‹ï¼Œä¸åŒé¡µé¢ä¹‹é—´å¯ä»¥å…±äº«ç¼“å­˜èµ„æºæˆä¸ºå¯èƒ½ã€‚</p><p>æ³¨æ„ä¸¤ç‚¹ï¼š</p><p>1ã€æ¨é€éµå¾ªåŒæºç­–ç•¥ï¼›</p><p>2ã€è¿™ç§æœåŠ¡ç«¯çš„æ¨é€æ˜¯åŸºäºå®¢æˆ·ç«¯çš„è¯·æ±‚å“åº”æ¥ç¡®å®šçš„ã€‚</p><p>å½“æœåŠ¡ç«¯éœ€è¦ä¸»åŠ¨æ¨é€æŸä¸ªèµ„æºæ—¶ï¼Œä¾¿ä¼šå‘é€ä¸€ä¸ª Frame Type ä¸º PUSH_PROMISE çš„ Frameï¼Œé‡Œé¢å¸¦äº† PUSH éœ€è¦æ–°å»ºçš„ Stream IDã€‚æ„æ€æ˜¯å‘Šè¯‰å®¢æˆ·ç«¯ï¼šæ¥ä¸‹æ¥æˆ‘è¦ç”¨è¿™ä¸ª ID å‘ä½ å‘é€ä¸œè¥¿ï¼Œå®¢æˆ·ç«¯å‡†å¤‡å¥½æ¥ç€ã€‚å®¢æˆ·ç«¯è§£æ Frame æ—¶ï¼Œå‘ç°å®ƒæ˜¯ä¸€ä¸ª PUSH_PROMISE ç±»å‹ï¼Œä¾¿ä¼šå‡†å¤‡æ¥æ”¶æœåŠ¡ç«¯è¦æ¨é€çš„æµã€‚</p><h3 id="ä¸ªäººç†è§£" tabindex="-1"><a class="header-anchor" href="#ä¸ªäººç†è§£" aria-hidden="true">#</a> ä¸ªäººç†è§£</h3><p>http2.0å®‰å…¨ä¸”é«˜æ•ˆï¼Œå®‰å…¨æ˜¯å› ä¸ºhttp2.0æ˜¯å»ºç«‹åœ¨httpsåè®®åŸºç¡€ä¸Šçš„ï¼Œé«˜æ•ˆæ˜¯å› ä¸ºå®ƒé‡‡ç”¨äº†äºŒè¿›åˆ¶åˆ†å¸§æ¥è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚http2.0æ–°å¢äº†äºŒè¿›åˆ¶åˆ†å¸§å±‚ï¼Œæµæ˜¯è¿æ¥ä¸­çš„é€šé“ï¼Œæ¯ä¸ªæµéƒ½æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæµæ ‡è¯†æ˜¯æè¿°äºŒè¿›åˆ¶å¸§çš„ï¼Œä¸æµæ ‡è¯†è”ç³»çš„æ˜¯åŒä¸€ä¸ªæµï¼Œhttp1.xä¸­çš„å¤´éƒ¨æ”¾åœ¨Headerså¸§ä¸­ï¼Œè¯·æ±‚ä½“æ”¾åœ¨Dataå¸§ä¸­ã€‚http2.0çš„å¤šè·¯å¤ç”¨ä½¿å¾—æ¯æ¬¡ä¼ è¾“ä¸éœ€è¦å‘èµ·å¤šä¸ªè¯·æ±‚ï¼ŒæŠŠæ•°æ®æµåˆ†æˆäº’ä¸ä¾èµ–çš„å¸§ï¼Œæœ€åå†åœ¨å¦ä¸€ç«¯é‡ç»„ã€‚å¤´éƒ¨å‹ç¼©ä¸»è¦ä¾é å¤´éƒ¨å­—æ®µè¡¨ï¼Œä¸€å¼€å§‹çš„å¤´éƒ¨å­—æ®µè¡¨ä¼šæ”¾ä¸€äº›å¸¸è§çš„ï¼Œå¦‚æœæœ‰ä¸å­˜åœ¨çš„å­—æ®µå°±ä¼šåœ¨è¡¨æœ«å°¾è¿½åŠ æ–°çš„http headerç¼“å­˜ã€‚å°†httpæ¶ˆæ¯åˆ†æˆå¾ˆå¤šç‹¬ç«‹å¸§ä¹‹åä¼šå­˜åœ¨ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼šä¸»è¦çš„htmlï¼Œcssï¼Œjsï¼Œå›¾ç‰‡ã€‚æœåŠ¡ç«¯å¯ä»¥å®ç°åœ¨æ²¡æœ‰è¯·æ±‚çš„æ—¶å€™å‘é€å“åº”ï¼Œå½“æœåŠ¡å™¨éœ€è¦å‘å®¢æˆ·ç«¯ä¸»åŠ¨å‘é€å“åº”æ—¶ï¼Œä¼šå…ˆå‘é€Frame Typeä¸ºPUSH_PROMISEçš„Frameï¼Œé‡Œé¢å«æœ‰PUSHçš„æµIDï¼Œå®¢æˆ·ç«¯è§£æFrameå‘ç°æ—¶PUSH_PROMISEæ—¶ï¼Œä¾¿ä¼šå‡†å¤‡æ¥å—æœåŠ¡ç«¯æ¨é€çš„æµ</p><h2 id="https" tabindex="-1"><a class="header-anchor" href="#https" aria-hidden="true">#</a> https</h2><p><strong>ä¸€èˆ¬httpä¸­å­˜åœ¨å¦‚ä¸‹é—®é¢˜ï¼š</strong></p><p>è¯·æ±‚ä¿¡æ¯æ˜æ–‡ä¼ è¾“ï¼Œå®¹æ˜“è¢«çªƒå¬æˆªå–ã€‚</p><p>æ•°æ®çš„å®Œæ•´æ€§æœªæ ¡éªŒï¼Œå®¹æ˜“è¢«ç¯¡æ”¹</p><p>æ²¡æœ‰éªŒè¯å¯¹æ–¹èº«ä»½ï¼Œå­˜åœ¨å†’å……å±é™©</p><p>httpså¯ä»¥ç†è§£ä¸ºhttp+ssl/tlsï¼Œé€šè¿‡SSLè¯ä¹¦éªŒè¯æœåŠ¡å™¨èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åŠ å¯†</p><h3 id="httpsåšäº†ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#httpsåšäº†ä»€ä¹ˆ" aria-hidden="true">#</a> httpsåšäº†ä»€ä¹ˆ</h3><p>HTTPS åè®®æä¾›äº†ä¸‰ä¸ªå…³é”®çš„æŒ‡æ ‡</p><ul><li><code>åŠ å¯†(Encryption)</code>ï¼Œ HTTPS é€šè¿‡å¯¹æ•°æ®åŠ å¯†æ¥ä½¿å…¶å…å—çªƒå¬è€…å¯¹æ•°æ®çš„ç›‘å¬ï¼Œè¿™å°±æ„å‘³ç€å½“ç”¨æˆ·åœ¨æµè§ˆç½‘ç«™æ—¶ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿç›‘å¬ä»–å’Œç½‘ç«™ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢ï¼Œæˆ–è€…è·Ÿè¸ªç”¨æˆ·çš„æ´»åŠ¨ï¼Œè®¿é—®è®°å½•ç­‰ï¼Œä»è€Œçªƒå–ç”¨æˆ·ä¿¡æ¯ã€‚</li><li><code>æ•°æ®ä¸€è‡´æ€§(Data integrity)</code>ï¼Œæ•°æ®åœ¨ä¼ è¾“çš„è¿‡ç¨‹ä¸­ä¸ä¼šè¢«çªƒå¬è€…æ‰€ä¿®æ”¹ï¼Œç”¨æˆ·å‘é€çš„æ•°æ®ä¼š<code>å®Œæ•´</code>çš„ä¼ è¾“åˆ°æœåŠ¡ç«¯ï¼Œä¿è¯ç”¨æˆ·å‘çš„æ˜¯ä»€ä¹ˆï¼ŒæœåŠ¡å™¨æ¥æ”¶çš„å°±æ˜¯ä»€ä¹ˆã€‚</li><li><code>èº«ä»½è®¤è¯(Authentication)</code>ï¼Œæ˜¯æŒ‡ç¡®è®¤å¯¹æ–¹çš„çœŸå®èº«ä»½ï¼Œä¹Ÿå°±æ˜¯<code>è¯æ˜ä½ æ˜¯ä½ </code>ï¼ˆå¯ä»¥æ¯”ä½œäººè„¸è¯†åˆ«ï¼‰ï¼Œå®ƒå¯ä»¥é˜²æ­¢ä¸­é—´äººæ”»å‡»å¹¶å»ºç«‹ç”¨æˆ·ä¿¡ä»»ã€‚</li></ul><h2 id="æ¡æ‰‹é˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#æ¡æ‰‹é˜¶æ®µ" aria-hidden="true">#</a> æ¡æ‰‹é˜¶æ®µ</h2><p>æ¡æ‰‹é˜¶æ®µ</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/2771952479-5e1ad3408e724_fix732.webp" alt=""></p><p>éå¯¹ç§°åŠ å¯†ç”¨åœ¨ç”Ÿæˆè¿™ä¸ªéšæœºå­—ç¬¦ä¸²ä¸Šï¼Œå±äºæ¡æ‰‹é˜¶æ®µã€‚</p><p>å¯¹ç§°åŠ å¯†æ˜¯åœ¨çœŸæ­£çš„åŠ å¯†ç¯èŠ‚ä¸­ä½¿ç”¨çš„ï¼Œkeyæ˜¯åœ¨æ¡æ‰‹é˜¶æ®µåå•†çš„key</p><h3 id="æµè§ˆå™¨åœ¨ä½¿ç”¨httpsä¼ è¾“æ•°æ®çš„æµç¨‹æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨åœ¨ä½¿ç”¨httpsä¼ è¾“æ•°æ®çš„æµç¨‹æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> æµè§ˆå™¨åœ¨ä½¿ç”¨HTTPSä¼ è¾“æ•°æ®çš„æµç¨‹æ˜¯ä»€ä¹ˆ</h3><ol><li>é¦–å…ˆå®¢æˆ·ç«¯é€šè¿‡URLè®¿é—®æœåŠ¡å™¨å»ºç«‹SSLè¿æ¥ã€‚</li><li>æœåŠ¡ç«¯æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œä¼šå°†ç½‘ç«™æ”¯æŒçš„è¯ä¹¦ä¿¡æ¯ï¼ˆè¯ä¹¦ä¸­åŒ…å«å…¬é’¥ï¼‰ä¼ é€ä¸€ä»½ç»™å®¢æˆ·ç«¯ã€‚</li><li>å®¢æˆ·ç«¯çš„æœåŠ¡å™¨å¼€å§‹åå•†SSLè¿æ¥çš„å®‰å…¨ç­‰çº§ï¼Œä¹Ÿå°±æ˜¯ä¿¡æ¯åŠ å¯†çš„ç­‰çº§ã€‚</li><li>å®¢æˆ·ç«¯çš„æµè§ˆå™¨æ ¹æ®åŒæ–¹åŒæ„çš„å®‰å…¨ç­‰çº§ï¼Œå»ºç«‹ä¼šè¯å¯†é’¥(session key,æ˜¯å¯¹ç§°åŠ å¯†çš„)ï¼Œç„¶ååˆ©ç”¨ç½‘ç«™çš„å…¬é’¥å°†ä¼šè¯å¯†é’¥åŠ å¯†ï¼Œå¹¶ä¼ é€ç»™æœåŠ¡å™¨ã€‚</li><li>æœåŠ¡å™¨åˆ©ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†å‡ºä¼šè¯å¯†é’¥ã€‚</li><li>æœåŠ¡å™¨åˆ©ç”¨ä¼šè¯å¯†é’¥åŠ å¯†ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡ã€‚</li></ol><h3 id="ssl-tlsæ˜¯å¦‚ä½•åŠ å¯†çš„" tabindex="-1"><a class="header-anchor" href="#ssl-tlsæ˜¯å¦‚ä½•åŠ å¯†çš„" aria-hidden="true">#</a> SSL/TLSæ˜¯å¦‚ä½•åŠ å¯†çš„</h3><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/20220203215335.png" alt=""></p><p>RSA (ä¸€ç§éå¯¹ç§°åŠ å¯†ç®—æ³•)çš„è¿ç®—é€Ÿåº¦éå¸¸æ…¢ï¼Œè€Œ AES(ä¸€ç§å¯¹ç§°åŠ å¯†ç®—æ³•) çš„åŠ å¯†é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œè€Œ TLS æ­£æ˜¯ä½¿ç”¨äº†è¿™ç§<code>æ··åˆåŠ å¯†</code>æ–¹å¼ã€‚åœ¨é€šä¿¡åˆšå¼€å§‹çš„æ—¶å€™ä½¿ç”¨éå¯¹ç§°ç®—æ³•ï¼Œæ¯”å¦‚ RSAã€ECDHE ï¼Œé¦–å…ˆè§£å†³<code>å¯†é’¥äº¤æ¢</code>çš„é—®é¢˜ã€‚ç„¶åç”¨éšæœºæ•°äº§ç”Ÿå¯¹ç§°ç®—æ³•ä½¿ç”¨çš„<code>ä¼šè¯å¯†é’¥ï¼ˆsession keyï¼‰</code>ï¼Œå†ç”¨<code>å…¬é’¥åŠ å¯†</code>ã€‚å¯¹æ–¹æ‹¿åˆ°å¯†æ–‡åç”¨<code>ç§é’¥è§£å¯†</code>ï¼Œå–å‡ºä¼šè¯å¯†é’¥ã€‚è¿™æ ·ï¼ŒåŒæ–¹å°±å®ç°äº†å¯¹ç§°å¯†é’¥çš„å®‰å…¨äº¤æ¢ã€‚</p><p>åŠ å¯†å’Œè§£å¯†éƒ½æ˜¯ä¾é ä¼šè¯å¯†é’¥çš„ï¼Œä¼šè¯å¯†é’¥æ˜¯ç”±å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†çš„</p><h3 id="httpsæ˜¯å¦‚ä½•ä¿è¯æ•°æ®çš„å®Œæ•´æ€§çš„" tabindex="-1"><a class="header-anchor" href="#httpsæ˜¯å¦‚ä½•ä¿è¯æ•°æ®çš„å®Œæ•´æ€§çš„" aria-hidden="true">#</a> httpsæ˜¯å¦‚ä½•ä¿è¯æ•°æ®çš„å®Œæ•´æ€§çš„</h3><p>åœ¨ TLS ä¸­ï¼Œå®ç°å®Œæ•´æ€§çš„æ‰‹æ®µä¸»è¦æ˜¯ <code>æ‘˜è¦ç®—æ³•(Digest Algorithm)</code>ï¼ŒMD5 å¯ç”¨äºä»ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²åˆ›å»º 128 ä½å­—ç¬¦ä¸²å€¼ã€‚MD5 æœ€å¸¸ç”¨äº<code>éªŒè¯æ–‡ä»¶</code>çš„å®Œæ•´æ€§ã€‚</p><p>é™¤äº†å¸¸ç”¨çš„ MD5 æ˜¯åŠ å¯†ç®—æ³•å¤–ï¼Œ<code>SHA-1(Secure Hash Algorithm 1)</code> ä¹Ÿæ˜¯ä¸€ç§å¸¸ç”¨çš„åŠ å¯†ç®—æ³•ã€‚ç›®å‰ TLS æ¨èä½¿ç”¨çš„æ˜¯ SHA-1 çš„åç»§è€…ï¼š<code>SHA-2</code>ã€‚ä¸è¿‡ SHA-2 æ˜¯åŸºäºæ˜æ–‡çš„åŠ å¯†æ–¹å¼ï¼Œè¿˜æ˜¯ä¸å¤Ÿå®‰å…¨ï¼Œé‚£åº”è¯¥ç”¨ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å®‰å…¨æ€§æ›´é«˜çš„åŠ å¯†æ–¹å¼æ˜¯ä½¿ç”¨ <code>HMAC</code></p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20220203224326950.png" alt="image-20220203224326950"></p><p>æˆ‘ä»¬åªè¦åœ¨åŸæ–‡åé™„ä¸Šå®ƒçš„æ‘˜è¦ï¼Œå°±èƒ½å¤Ÿä¿è¯æ•°æ®çš„å®Œæ•´æ€§</p><h3 id="httpså¦‚ä½•è¿›è¡Œèº«ä»½è®¤è¯" tabindex="-1"><a class="header-anchor" href="#httpså¦‚ä½•è¿›è¡Œèº«ä»½è®¤è¯" aria-hidden="true">#</a> httpså¦‚ä½•è¿›è¡Œèº«ä»½è®¤è¯</h3><p>é¦–å…ˆæœåŠ¡å™¨ä¼šå‘æ¥è‡ªå·±çš„æ•°å­—è¯ä¹¦ï¼Œè¿™ä¸ªæ•°å­—è¯ä¹¦æ˜¯ç”±CAé¢å‘çš„ï¼Œè¿™ä¸ªæ•°å­—è¯ä¹¦å†…çš„ä¿¡æ¯åŒ…æ‹¬ï¼š</p><p>ç­¾å‘è€…ï¼Œè¯ä¹¦ç”¨é€”ï¼Œå…¬é’¥ï¼ŒåŠ å¯†ç®—æ³•ï¼Œhashç®—æ³•ï¼Œè¯ä¹¦åˆ°æœŸæ—¶é—´ç­‰ã€‚</p><p>ä½†æ˜¯å¦‚æœå°±è¿™æ ·æŠŠè¯ä¹¦äº¤ç»™äº†æµè§ˆå™¨ï¼Œåˆ™æ— æ³•ä¿è¯è¯ä¹¦æ˜¯å¦ä¼šè¢«äººç¯¡æ”¹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹ä»¥ä¸Šå†…å®¹è¿›è¡Œä¸€æ¬¡hashï¼Œå¾—åˆ°å›ºå®šé•¿åº¦ï¼Œå†ç”¨CAç§é’¥åŠ å¯†è¯¥hashï¼Œå°±å¾—åˆ°äº†æ•°å­—ç­¾åï¼Œæ”¾åœ¨è¯ä¹¦æœ«å°¾ï¼Œä»»ä½•å¯¹è¯ä¹¦çš„ç¯¡æ”¹æ“ä½œéƒ½ä¼šè¢«ç­¾åå‘ç°ã€‚</p><p>æµè§ˆå™¨æ‹¿åˆ°è¯ä¹¦åï¼ŒæŸ¥æ‰¾æ“ä½œç³»ç»Ÿå†…ç½®çš„caå…¬é’¥ï¼Œç”¨è¿™ä¸ªå…¬é’¥è§£å¯†æ•°å­—ç­¾åï¼Œæ‹¿åˆ°åŸå§‹HASHsï¼Œå†æ ¹æ®è¯ä¹¦ä¸­hashç®—æ³•ç®—å‡ºä¸€ä¸ªHASHcï¼Œå¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œé‚£ä¹ˆè®¤è¯æˆåŠŸ</p><p>httpså¯ä»¥åœ¨æ§åˆ¶å°æˆ–è€…æŠ“åŒ…åˆ°æ˜æ–‡å—ï¼Ÿå¯ä»¥ï¼Œæ§åˆ¶å°å±äºåº”ç”¨å±‚ï¼ŒåŠ å¯†è§£å¯†éƒ½æ˜¯åœ¨å®‰å…¨å±‚ï¼Œå› æ­¤çœ‹åˆ°çš„æ˜¯æ˜æ–‡ï¼ŒæŠ“åŒ…çœ‹åˆ°æ˜æ–‡å®é™…ä¸Šæ˜¯ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œå¹¶ä¸”ä»–æœ‰ä¸€ä¸ªè¯ä¹¦ï¼Œå®¢æˆ·ç«¯ä¿¡ä»»ä»–çš„è¯ä¹¦ã€‚</p><h2 id="ä¸­é—´äººæ”»å‡»" tabindex="-1"><a class="header-anchor" href="#ä¸­é—´äººæ”»å‡»" aria-hidden="true">#</a> ä¸­é—´äººæ”»å‡»</h2><p>åœ¨æ¡æ‰‹é˜¶æ®µå®Œæˆä¹‹åï¼Œç”±äºæœ‰å¯¹ç§°åŠ å¯†ï¼Œä¼ è¾“è¿‡ç¨‹å°±ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œä½†æ˜¯åœ¨æ¡æ‰‹é˜¶æ®µï¼Œå®¢æˆ·ç«¯æ²¡åŠæ³•çŸ¥é“å…¬é’¥ä¸€å®šæ˜¯æœåŠ¡å™¨çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯è¢«åˆ«äººæ›¿æ¢äº†çš„ã€‚</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/v2-c181b1f7cf755605bf950dff0182674a_720w.jpg" alt=""></p><p>ä¸­é—´äººå¯ä»¥åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ›¿æ¢æ‰å…¬é’¥ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ä¸­é—´äººè‡ªå·±è¿™è¾¹çš„ç§é’¥è§£å¯†å‡ºpremasterï¼ˆå› ä¸ºå®¢æˆ·ç«¯çš„å…¬é’¥ä¹Ÿæ˜¯ä¸­é—´äººç»™çš„ï¼‰å¹¶ä¸”è®¡ç®—å‡ºä¼šè¯å¯†é’¥</p><h2 id="udp" tabindex="-1"><a class="header-anchor" href="#udp" aria-hidden="true">#</a> UDP</h2><p>UDPä¸æä¾›å¤æ‚çš„æ§åˆ¶æœºåˆ¶ï¼Œåˆ©ç”¨IPæä¾›é¢å‘æ— è¿æ¥çš„é€šä¿¡æœåŠ¡ã€‚å¹¶ä¸”å®ƒæ˜¯å°†åº”ç”¨ç¨‹åºå‘æ¥çš„æ•°æ®åœ¨æ”¶åˆ°çš„é‚£ä¸€åˆ»ï¼Œç«‹åˆ»æŒ‰ç…§åŸæ ·å‘é€åˆ°ç½‘ç»œä¸Šçš„ä¸€ç§æœºåˆ¶ã€‚å³ä½¿å‡ºç°äº†ç½‘ç»œæ‹¥å µï¼ŒUDPä¹Ÿæ— æ³•è¿›è¡Œæµé‡æ§åˆ¶ç­‰é¿å…ç½‘ç»œæ‹¥å¡çš„è¡Œä¸ºã€‚æ­¤å¤–ï¼Œä¼ è¾“é€”ä¸­å³ä½¿å‡ºç°äº†ä¸¢åŒ…ï¼ŒUDPä¹Ÿä¸è´Ÿè´£é‡å‘ã€‚ç”šè‡³åŒ…çš„é¡ºåºä¹±æ‰æ—¶ä¹Ÿæ²¡æœ‰çº æ­£çš„åŠŸèƒ½ã€‚å¦‚æœéœ€è¦è¿™äº›ç»†èŠ‚æ§åˆ¶ï¼Œå°±éœ€è¦UDPçš„åº”ç”¨ç¨‹åºæ¥å¤„ç†ã€‚</p><h4 id="udpå¦‚ä½•å®ç°å¯é ä¼ è¾“" tabindex="-1"><a class="header-anchor" href="#udpå¦‚ä½•å®ç°å¯é ä¼ è¾“" aria-hidden="true">#</a> UDPå¦‚ä½•å®ç°å¯é ä¼ è¾“</h4><p>æœ€ç®€å•çš„æ–¹å¼æ˜¯åœ¨åº”ç”¨å±‚æ¨¡ä»¿ä¼ è¾“å±‚TCPçš„å¯é æ€§ä¼ è¾“ã€‚ä¸‹é¢ä¸è€ƒè™‘æ‹¥å¡å¤„ç†ï¼Œå¯é UDPçš„ç®€å•è®¾è®¡ã€‚</p><ul><li>1ã€æ·»åŠ seq/ackæœºåˆ¶ï¼Œç¡®ä¿æ•°æ®å‘é€åˆ°å¯¹ç«¯</li><li>2ã€æ·»åŠ å‘é€å’Œæ¥æ”¶ç¼“å†²åŒºï¼Œä¸»è¦æ˜¯ç”¨æˆ·è¶…æ—¶é‡ä¼ ã€‚</li><li>3ã€æ·»åŠ è¶…æ—¶é‡ä¼ æœºåˆ¶ã€‚</li></ul><p>è¯¦ç»†è¯´æ˜ï¼šå‘é€ç«¯å‘é€æ•°æ®æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºseq=xï¼Œç„¶åæ¯ä¸€ç‰‡æŒ‰ç…§æ•°æ®å¤§å°åˆ†é…seqã€‚æ•°æ®åˆ°è¾¾æ¥æ”¶ç«¯åæ¥æ”¶ç«¯æ”¾å…¥ç¼“å­˜ï¼Œå¹¶å‘é€ä¸€ä¸ªack=xçš„åŒ…ï¼Œè¡¨ç¤ºå¯¹æ–¹å·²ç»æ”¶åˆ°äº†æ•°æ®ã€‚å‘é€ç«¯æ”¶åˆ°äº†ackåŒ…åï¼Œåˆ é™¤ç¼“å†²åŒºå¯¹åº”çš„æ•°æ®ã€‚æ—¶é—´åˆ°åï¼Œå®šæ—¶ä»»åŠ¡æ£€æŸ¥æ˜¯å¦éœ€è¦é‡ä¼ æ•°æ®ã€‚</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/v2-c01a6511abf81f867fd0e531bd51af2c_720w.jpg" alt="img"></p><h2 id="tcp" tabindex="-1"><a class="header-anchor" href="#tcp" aria-hidden="true">#</a> TCP</h2><p>UDPæ˜¯ä¸€ç§æ²¡æœ‰å¤æ‚æ§åˆ¶ï¼Œæä¾›é¢å‘æ— è¿æ¥é€šä¿¡æœåŠ¡çš„ä¸€ç§åè®®ã€‚æ¢å¥è¯è¯´ï¼Œä»–å°†éƒ¨åˆ†æ§åˆ¶è½¬ç§»ç»™åº”ç”¨ç¨‹åºå»å¤„ç†ï¼Œè‡ªå·±å´åªèƒ½æä¾›ä½œä¸ºä¼ è¾“å±‚åè®®çš„æœ€åŸºæœ¬åŠŸèƒ½ã€‚TCPä¸UDPç›¸å·®ç›¸å½“å¤§ã€‚å®ƒå……åˆ†çš„å®ç°äº†æ•°æ®ä¼ è¾“æ—¶å„ç§æ§åˆ¶åŠŸèƒ½ã€‚å®ƒä¼šåœ¨ä¸¢åŒ…æ—¶é‡å‘ï¼Œå¯¹æ¬¡åºä¹±æ‰çš„åŒ…çº æ­£ã€‚</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/v2-3bd45a13afe868cae6225d75b85e9c36_720w.jpg" alt="img"></p><p>æ•°æ®åç§»ï¼šå…¶å®å°±æ˜¯é¦–éƒ¨é•¿åº¦</p><p>æ§åˆ¶ä½åŒ…æ‹¬ï¼šCWRï¼ŒECEï¼ŒURGï¼ŒACKï¼ŒPSHï¼ŒRSTï¼ŒSYNï¼ŒFINã€‚</p><p>**ACKï¼š**è¯¥ä½è®¾ä¸º 1ï¼Œç¡®è®¤åº”ç­”çš„å­—æ®µæœ‰æ•ˆï¼ŒTCPè§„å®šé™¤äº†æœ€åˆå»ºç«‹è¿æ¥æ—¶çš„ SYN åŒ…ä¹‹å¤–è¯¥ä½å¿…é¡»è®¾ä¸º 1ï¼›</p><p>**SYNï¼š**ç”¨äºå»ºç«‹è¿æ¥ï¼Œè¯¥ä½è®¾ä¸º 1ï¼Œè¡¨ç¤ºå¸Œæœ›å»ºç«‹è¿æ¥ï¼Œå¹¶åœ¨å…¶åºåˆ—å·çš„å­—æ®µè¿›è¡Œåºåˆ—å·åˆå€¼è®¾å®šï¼›</p><p>**FINï¼š**è¯¥ä½è®¾ä¸º 1ï¼Œè¡¨ç¤ºä»Šåä¸å†æœ‰æ•°æ®å‘é€ï¼Œå¸Œæœ›æ–­å¼€è¿æ¥ã€‚å½“é€šä¿¡ç»“æŸå¸Œæœ›æ–­å¼€è¿æ¥æ—¶ï¼Œé€šä¿¡åŒæ–¹çš„ä¸»æœºä¹‹é—´å°±å¯ä»¥ç›¸äº’äº¤æ¢ FIN ä½ç½®ä¸º 1 çš„ TCP æ®µã€‚</p><p>æ¯ä¸ªä¸»æœºåˆå¯¹å¯¹æ–¹çš„ FIN åŒ…è¿›è¡Œç¡®è®¤åº”ç­”ä¹‹åå¯ä»¥æ–­å¼€è¿æ¥ã€‚ä¸è¿‡ï¼Œä¸»æœºæ”¶åˆ° FIN è®¾ç½®ä¸º 1 çš„ TCP æ®µä¹‹åä¸å¿…é©¬ä¸Šå›å¤ä¸€ä¸ª FIN åŒ…ï¼Œè€Œæ˜¯å¯ä»¥ç­‰åˆ°ç¼“å†²åŒºä¸­çš„æ‰€æœ‰æ•°æ®éƒ½å› ä¸ºå·²æˆåŠŸå‘é€è€Œè¢«è‡ªåŠ¨åˆ é™¤ä¹‹åå†å‘ FIN åŒ…ï¼›</p><h3 id="ä¸‰æ¬¡æ¡æ‰‹" tabindex="-1"><a class="header-anchor" href="#ä¸‰æ¬¡æ¡æ‰‹" aria-hidden="true">#</a> ä¸‰æ¬¡æ¡æ‰‹</h3><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/v2-0673bbc84fe4440aed9d1dadc67ae79b_720w.jpg" alt="img"></p><p>å‡è®¾ A ä¸ºå®¢æˆ·ç«¯ï¼ŒB ä¸ºæœåŠ¡å™¨ç«¯ã€‚</p><p>é¦–å…ˆ B å¤„äº LISTENï¼ˆç›‘å¬ï¼‰çŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·çš„è¿æ¥è¯·æ±‚ã€‚</p><ul><li>A å‘ B å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼ŒSYN=1ï¼ŒACK=0ï¼Œé€‰æ‹©ä¸€ä¸ªåˆå§‹çš„åºå· xã€‚</li><li>B æ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼Œå¦‚æœåŒæ„å»ºç«‹è¿æ¥ï¼Œåˆ™å‘ A å‘é€è¿æ¥ç¡®è®¤æŠ¥æ–‡ï¼ŒSYN=1ï¼ŒACK=1ï¼Œç¡®è®¤å·ä¸º x+1ï¼ŒåŒæ—¶ä¹Ÿé€‰æ‹©ä¸€ä¸ªåˆå§‹çš„åºå· yã€‚</li><li>A æ”¶åˆ° B çš„è¿æ¥ç¡®è®¤æŠ¥æ–‡åï¼Œè¿˜è¦å‘ B å‘å‡ºç¡®è®¤ï¼Œç¡®è®¤å·ä¸º y+1ã€‚</li></ul><p>B æ”¶åˆ° A çš„ç¡®è®¤åï¼Œè¿æ¥å»ºç«‹ã€‚</p><h4 id="ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡</h4><p>1ã€ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ˜¯ä¸ºäº†é˜²æ­¢å¤±æ•ˆçš„è¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼Œè®©æœåŠ¡å™¨é”™è¯¯æ‰“å¼€è¿æ¥ã€‚</p><p>å¦‚æœæ˜¯ä¸¤æ¬¡ï¼Œå‡è®¾æœ‰ä¸€æ¬¡å‘é€ç«¯æ²¡æœ‰æ”¶åˆ°æ¥æ”¶ç«¯çš„ç¡®è®¤æŠ¥æ–‡ï¼Œé‚£å‘é€ç«¯å°†å†ä¸€æ¬¡å‘é€SYN=1çš„è¯·æ±‚æŠ¥æ–‡ï¼Œè¿™æ¬¡ä»–æ”¶åˆ°äº†å¹¶ä¸”å»ºç«‹äº†è¿æ¥ï¼Œä¸ä¹…åæœ‰æ–­å¼€äº†äº†è¿æ¥ï¼Œä½†æ˜¯å¦‚æœæ˜¯åªæ˜¯å½“åˆç¬¬ä¸€æ¬¡å‘é€çš„è¯·æ±‚æŠ¥æ–‡åªæ˜¯å¤ªæ…¢äº†å‘¢ï¼Œå®ƒåœ¨æ–­å¼€è¿æ¥ä¹‹åï¼Œæœ‰ä¸€æ¬¡å‘é€åˆ°äº†æ¥æ”¶ç«¯ï¼Œè¿™æ—¶å¦‚æœæ˜¯ä¸¤æ¬¡è¿æ¥æœåŠ¡ç«¯å°±ä¼šæ‰“å¼€è¿æ¥ï¼Œè€Œå®¢æˆ·ç«¯åˆ™ä¸€è„¸æ‡µé€¼ï¼Œå› ä¸ºè¿™æ—¶ä»–è¿˜æ˜¯ä¸ªlistençŠ¶æ€ï¼Œè€ŒæœåŠ¡ç«¯åªéœ€è¦åœ¨listençŠ¶æ€ä¸‹æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡å°±ä¼šæ‰“å¼€ã€‚</p><p>2ã€åŒæ–¹éƒ½èƒ½æ˜ç¡®è‡ªå·±å’Œå¯¹æ–¹çš„æ”¶ã€å‘èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚</p><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹æœåŠ¡ç«¯çŸ¥é“äº†å®¢æˆ·ç«¯å‘é€èƒ½åŠ›å’ŒæœåŠ¡ç«¯æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„</p><p>ç¬¬äºŒæ¬¡æ¡æ‰‹å®¢æˆ·ç«¯çŸ¥é“è‡ªå·±å‘é€æ¥å—èƒ½åŠ›å’ŒæœåŠ¡ç«¯å‘é€æ¥å—èƒ½åŠ›æ˜¯æ­£å¸¸çš„</p><p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹æœåŠ¡ç«¯çŸ¥é“è‡ªå·±å‘é€æ¥æ”¶èƒ½åŠ›å’Œå®¢æˆ·ç«¯å‘é€æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„</p><h3 id="å››æ¬¡æŒ¥æ‰‹" tabindex="-1"><a class="header-anchor" href="#å››æ¬¡æŒ¥æ‰‹" aria-hidden="true">#</a> å››æ¬¡æŒ¥æ‰‹</h3><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/v2-8bf6f231cdd87b2613554f54424e8201_720w.jpg" alt="img"></p><p>åœ¨tcpè¿æ¥å»ºç«‹ä¹‹åï¼ŒåŒæ–¹çš„åœ°ä½æ˜¯å¹³ç­‰çš„ï¼ŒåŒæ–¹éƒ½å¯ä»¥å‘é€æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶æ•°æ®ï¼Œå› æ­¤ï¼Œå½“å®¢æˆ·ç«¯æ”¶åˆ°ç¡®è®¤æŠ¥æ–‡ä¹‹åï¼ŒæœåŠ¡ç«¯è¿˜æ˜¯å¯ä»¥æ¥ç€å‘é€æ•°æ®ï¼Œå› ä¸ºæœåŠ¡ç«¯å¹¶æ²¡æœ‰æƒ³æ–­å¼€è¿æ¥ï¼Œç­‰åˆ°æœåŠ¡ç«¯æƒ³æ–­å¼€è¿æ¥æ—¶ï¼ŒæœåŠ¡ç«¯æ‰ä¼šå‘é€ä¸€ä¸ªFINæ®µï¼Œå®¢æˆ·ç«¯æ”¶åˆ°FINååœ¨ç­‰å¾…2msl(æŠ¥æ–‡æœ€å¤§ç”Ÿå­˜ç©ºé—´)åæ‰ä¼šæ–­å¼€è¿æ¥ã€‚</p><h4 id="ä¸ºä»€ä¹ˆä¼šæœ‰2msl" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆä¼šæœ‰2msl" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆä¼šæœ‰2msl</h4><p>1.å¦‚æœå®¢æˆ·ç«¯é©¬ä¸Šæ–­å¼€äº†è¿æ¥ï¼Œæ­¤æ—¶éƒ½è¿˜ä¸çŸ¥é“æœåŠ¡ç«¯æ”¶æ²¡æ”¶åˆ°ackï¼Œå¦‚æœæœåŠ¡ç«¯æ²¡æœ‰æ”¶åˆ°ackï¼Œè¶…æ—¶é‡ä¼ æœºåˆ¶æœåŠ¡ç«¯å°±ä¼šä¸æ–­åœ°å‘é€FINï¼Œä½†å®¢æˆ·ç«¯ä¹Ÿä¸æ˜¯ä¸èƒ½æ¥å—ï¼Œä½†æ˜¯ä¼šå‡ºç°å¼‚å¸¸ï¼Œæ¥ç€æœåŠ¡ç«¯å°±ä¸€ç›´ä¸èƒ½æ­£å¸¸å…³é—­ã€‚</p><p>2.å¦‚æœæœ‰ä¸€äº›æŠ¥æ–‡æ®µå› ä¸ºç½‘ç»œå»¶æ—¶æ²¡æœ‰é€è¾¾ï¼Œå¦‚æœé©¬ä¸Šæ–­å¼€è¿æ¥çš„è¯ï¼Œé‚£ä¹ˆåœ¨ä¸‹æ¬¡å»ºç«‹è¿æ¥ï¼Œæˆ–è€…å»ºç«‹è¿æ¥åå°±ä¼šå°±ä¼šå‡ºç°ä¸€ç³»åˆ—æœªçŸ¥çš„å¼‚å¸¸ï¼Œæ¯”å¦‚è¯´æœ‰ä¸ªsynåŒ…ï¼Œé‚£ä¹ˆä¸‹æ¬¡è¿æ¥å°±å¼€å§‹äº†ï¼Œåœ¨2mslçš„æ—¶é—´å†…è¶³ä»¥è®©è¿™äº›æŠ¥æ–‡æ®µåˆ°è¾¾ã€‚</p><h3 id="tcpå¦‚ä½•å®ç°å¯é ä¼ è¾“" tabindex="-1"><a class="header-anchor" href="#tcpå¦‚ä½•å®ç°å¯é ä¼ è¾“" aria-hidden="true">#</a> TCPå¦‚ä½•å®ç°å¯é ä¼ è¾“</h3><p>TCPé€šè¿‡æ ¡éªŒå’Œï¼Œåºåˆ—å·ï¼Œç¡®è®¤åº”ç­”ï¼Œé‡å‘æ§åˆ¶ï¼Œè¿æ¥ç®¡ç†ä»¥åŠçª—å£æ§åˆ¶ç­‰æœºåˆ¶å®ç°å¯é ä¼ è¾“ã€‚</p><ol><li>åº”ç”¨æ•°æ®è¢«åˆ†å‰²æˆ TCP è®¤ä¸ºæœ€é€‚åˆå‘é€çš„æ•°æ®å—ã€‚</li><li>TCP ç»™å‘é€çš„æ¯ä¸€ä¸ªåŒ…è¿›è¡Œç¼–å·ï¼Œæ¥æ”¶æ–¹å¯¹æ•°æ®åŒ…è¿›è¡Œæ’åºï¼ŒæŠŠæœ‰åºæ•°æ®ä¼ é€ç»™åº”ç”¨å±‚ã€‚</li><li>**æ ¡éªŒå’Œï¼š**TCP å°†ä¿æŒå®ƒé¦–éƒ¨å’Œæ•°æ®çš„æ£€éªŒå’Œã€‚è¿™æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ£€éªŒå’Œï¼Œç›®çš„æ˜¯æ£€æµ‹æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„ä»»ä½•å˜åŒ–ã€‚å¦‚æœæ”¶åˆ°æ®µçš„æ£€éªŒå’Œæœ‰å·®é”™ï¼ŒTCP å°†ä¸¢å¼ƒè¿™ä¸ªæŠ¥æ–‡æ®µå’Œä¸ç¡®è®¤æ”¶åˆ°æ­¤æŠ¥æ–‡æ®µã€‚</li><li>TCP çš„æ¥æ”¶ç«¯ä¼šä¸¢å¼ƒé‡å¤çš„æ•°æ®ã€‚</li><li>**æµé‡æ§åˆ¶ï¼š**TCP è¿æ¥çš„æ¯ä¸€æ–¹éƒ½æœ‰å›ºå®šå¤§å°çš„ç¼“å†²ç©ºé—´ï¼ŒTCPçš„æ¥æ”¶ç«¯åªå…è®¸å‘é€ç«¯å‘é€æ¥æ”¶ç«¯ç¼“å†²åŒºèƒ½æ¥çº³çš„æ•°æ®ã€‚å½“æ¥æ”¶æ–¹æ¥ä¸åŠå¤„ç†å‘é€æ–¹çš„æ•°æ®ï¼Œèƒ½æç¤ºå‘é€æ–¹é™ä½å‘é€çš„é€Ÿç‡ï¼Œé˜²æ­¢åŒ…ä¸¢å¤±ã€‚TCP ä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯å¯å˜å¤§å°çš„æ»‘åŠ¨çª—å£åè®®ã€‚ ï¼ˆTCP åˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ï¼‰</li><li>**æ‹¥å¡æ§åˆ¶ï¼š**å½“ç½‘ç»œæ‹¥å¡æ—¶ï¼Œå‡å°‘æ•°æ®çš„å‘é€ã€‚</li><li>**ARQåè®®ï¼š**ä¹Ÿæ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚åœ¨æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ã€‚</li><li>**è¶…æ—¶é‡ä¼ ï¼š**å½“ TCP å‘å‡ºä¸€ä¸ªæ®µåï¼Œå®ƒå¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç­‰å¾…ç›®çš„ç«¯ç¡®è®¤æ”¶åˆ°è¿™ä¸ªæŠ¥æ–‡æ®µã€‚å¦‚æœä¸èƒ½åŠæ—¶æ”¶åˆ°ä¸€ä¸ªç¡®è®¤ï¼Œå°†é‡å‘è¿™ä¸ªæŠ¥æ–‡æ®µã€‚</li></ol><h4 id="é€šè¿‡åºåˆ—å·ä¸ç¡®è®¤åº”ç­”æé«˜å¯é æ€§" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡åºåˆ—å·ä¸ç¡®è®¤åº”ç­”æé«˜å¯é æ€§" aria-hidden="true">#</a> é€šè¿‡åºåˆ—å·ä¸ç¡®è®¤åº”ç­”æé«˜å¯é æ€§</h4><p>åœ¨TCPä¸­ï¼Œå‘é€ç«¯æ•°æ®åˆ°è¾¾æ¥æ”¶ç«¯ä¸»æœºå€¼ï¼Œæ¥æ”¶ç«¯ä¸»æœºä¼šè¿”å›ä¸€ä¸ªå·²æ”¶åˆ°æ¶ˆæ¯çš„é€šçŸ¥ï¼Œè¿™ä¸ªæ¶ˆæ¯å«åšç¡®è®¤åº”ç­”ï¼ˆACK).ç”±äºæœ‰æ—¶å€™ç¡®è®¤åº”ç­”ä¼šä¸¢åŒ…ï¼Œå› æ­¤æˆ‘ä»¬å¼•å…¥äº†åºåˆ—å·ï¼Œå°±æ˜¯æŒ‰é¡ºåºç»™å‘é€æ•°æ®çš„æ¯ä¸€ä¸ªå­—èŠ‚éƒ½æ ‡ä¸Šå·ç ï¼Œåœ¨ç¡®è®¤åº”ç­”çš„æ—¶å€™å°±å‘é€ç¡®è®¤åº”ç­”å·æ¥å‘Šè¯‰å‘é€ç«¯ä¸‹ä¸€æ¬¡è¦å‘ä»€ä¹ˆï¼ˆè™½ç„¶æˆ‘è‡³ä»Šè¿˜æ˜¯æ²¡æœ‰ææ˜ç™½è¿™ä¸ªåºåˆ—å·æ€ä¹ˆè§£å†³çš„ä¸¢åŒ…çš„é—®é¢˜çš„ï¼‰(å›æ¥è§£å†³ï¼šå¦‚æœæ¥æ”¶ç«¯è¿”å›äº†å¸¦æœ‰è¿™ä¸ªåºåˆ—å·çš„ackåŒ…ï¼Œé‚£ä¹ˆè¿™ä¸ªå°±ä»£è¡¨è¿™ä¸ªåŒ…å·²ç»æ”¶åˆ°äº†ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªåºåˆ—å·çš„è¯æ˜¯ä¸çŸ¥é“å“ªä¸ªåŒ…æœ‰æ²¡æœ‰ä¸¢äº†ï¼Œæ¯•ç«Ÿå‘é€æ•°æ®å¹¶ä¸ä¼šç­‰å¾…ä¸Šä¸€ä¸ªæŠ¥ç¡®è®¤åå†å‘ï¼Œè€Œæ˜¯å‘å¥½å‡ ä¸ªï¼Œå‘å¤šå°‘çš„è¯æ˜¯æ ¹æ®åŒæ–¹çš„æ¥å—èƒ½åŠ›å®šçš„)</p><h4 id="æ»‘åŠ¨çª—å£" tabindex="-1"><a class="header-anchor" href="#æ»‘åŠ¨çª—å£" aria-hidden="true">#</a> æ»‘åŠ¨çª—å£</h4><p>æ˜¯æµé‡æ§åˆ¶çš„æ‰‹æ®µï¼Œæˆ‘ä»¬ä¸å†æ˜¯å‘é€ç«¯ç­‰åˆ°æ¥æ”¶ç«¯å‘å›ç¡®è®¤åº”ç­”å†æ¥ç€å‘ï¼Œè€Œæ˜¯ä¾é ä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œæ¯æ¬¡å‘é€ç«¯å‘é€å®Œæ•°æ®åå°†è¿™éƒ¨åˆ†æ•°æ®åŠ å…¥åˆ°ç¼“å†²åŒºä¸­ï¼Œå¹¶ä¸”æ¥ç€å‘é€ä¸‹é¢çš„æ•°æ®ï¼Œå½“æ”¶åˆ°ç¡®è®¤è¯·æ±‚åæ¸…ç©ºç¼“å†²åŒºä¸­è¿™å—æ•°æ®ã€‚</p><h4 id="çª—å£æ§åˆ¶ä¸é‡å‘æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#çª—å£æ§åˆ¶ä¸é‡å‘æ§åˆ¶" aria-hidden="true">#</a> çª—å£æ§åˆ¶ä¸é‡å‘æ§åˆ¶</h4><p>æœ‰äº†çª—å£æ§åˆ¶åï¼Œå‘é€ç«¯ä¸ä¼šå› ä¸ºæ²¡æœ‰æ”¶åˆ°ç¡®è®¤åº”ç­”è€Œé‡å‘ï¼Œå› ä¸ºæœ‰å¯èƒ½ä¼šæ˜¯æ¥æ”¶ç«¯æ”¶åˆ°äº†ä½†æ˜¯ç¡®è®¤åº”ç­”ä¸¢å¤±äº†ï¼Œå› æ­¤å¦‚æœæ˜¯æŸä¸€ä¸ªåºåˆ—å·çš„åŒ…ä¸¢å¤±äº†ï¼Œæ¥æ”¶ç«¯ä¼šåœ¨æ¯æ¬¡æ”¶åˆ°æ•°æ®æ—¶å‘é€åŒä¸€ä¸ªåºåˆ—å·çš„ç¡®è®¤åº”ç­”ï¼Œå‘é€ç«¯æ”¶åˆ°ä¸‰æ¬¡ç›¸åŒçš„ç¡®è®¤åº”ç­”å°±ä¼šé‡å‘<img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20220410102502702.png" alt="image-20220410102502702"></p><p>åœ¨æŸä¸€æŠ¥æ–‡æ®µä¸¢å¤±åï¼Œå‘é€ç«¯ä¼šä¸€ç›´æ”¶åˆ°åºå·ä¸ºï¼ˆ1001ï¼‰çš„ç¡®è®¤åº”ç­”ï¼Œå‘Šè¯‰å‘é€ç«¯1001è¿™å—æŠ¥æ–‡æ®µä¸¢å¤±äº†ï¼Œå¦‚æœå‘é€ç«¯æ”¶åˆ°äº†ä¸‰æ¬¡åŒä¸€ä¸ªç¡®è®¤åº”ç­”å°±ä¼šé‡å‘ã€‚</p><h4 id="æ‹¥å¡æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#æ‹¥å¡æ§åˆ¶" aria-hidden="true">#</a> æ‹¥å¡æ§åˆ¶</h4><p>åœ¨é€šä¿¡åˆšå¼€å§‹çš„æ—¶å€™å°±å‘é€å¤§é‡æ•°æ®ä¼šå¼•å‘å…¶ä»–é—®é¢˜ï¼ŒTCPä¸ºäº†é˜²æ­¢è¯¥é—®é¢˜ï¼Œåœ¨é€šä¿¡ä¸€å¼€å§‹å°±ä¼šé€šè¿‡ä¸€ä¸ªå«æ…¢å¯åŠ¨çš„ç®—æ³•å¾—å‡ºçš„æ•°å€¼ï¼Œå¯¹å‘é€æ•°æ®é‡è¿›è¡Œæ§åˆ¶ï¼Œä¸ºäº†åœ¨å‘é€ç«¯è°ƒèŠ‚æ‰€è¦å‘çš„æ•°æ®é‡ï¼Œå®šä¹‰äº†ä¸€ä¸ªå«â€˜æ‹¥å¡çª—å£â€™çš„æ¦‚å¿µã€‚**æ…¢å¯åŠ¨ï¼š**ä¸€å¼€å§‹æ‹¥å¡çª—å£ä¼šè®¾ç½®æˆ1MSSï¼Œæ¯æ¬¡æ”¶åˆ°ç¡®è®¤åº”ç­”éƒ½ä¼šåŠ 1ï¼Œæ‹¥å¡çª—å£å°±ä¼šä»¥1ï¼Œ2ï¼Œ4æŒ‡æ•°å¼å¢é•¿ï¼Œä¸ºäº†é˜²æ­¢è¿™äº›å¼•å…¥äº†æ…¢å¯åŠ¨é˜ˆå€¼ã€‚<strong>æ‹¥å¡é¿å…</strong>ï¼šåªè¦æ‹¥å¡çª—å£çš„å€¼è¶…è¿‡äº†æ…¢å¯åŠ¨é˜ˆå€¼ï¼Œåªå…è®¸ä»¥1ä¸ªæ•°æ®æ®µçš„å­—èŠ‚æ•°*1ä¸ªæ•°æ®æ®µçš„å­—èŠ‚æ•°/æ‹¥å¡çª—å£å­—èŠ‚æ•°çš„æ¯”ä¾‹å¢å¤§ã€‚**å¿«æ¢å¤ï¼š**TCPçš„é€šä¿¡ä¸€å¼€å§‹å¹¶æ²¡æœ‰è®¾ç½®é˜ˆå€¼ï¼Œè€Œæ˜¯åœ¨è¶…æ—¶é‡å‘æ—¶ï¼Œæ‰ä¼šè®¾ç½®ä¸ºå½“å‰æ‹¥å¡çª—å£çš„ä¸€åŠï¼Œé‡å¤ç¡®è®¤åº”ç­”è¿›è¡Œé«˜é€Ÿé‡å‘æ§åˆ¶ï¼Œä¹Ÿä¼šå°†é˜ˆå€¼è®¾ä¸ºæ‹¥å¡çª—å£çš„ä¸€åŠï¼Œæ¥ç€ä¼šæŠŠæ‹¥å¡çª—å£è®¾ç½®æˆæ…¢å¯åŠ¨é˜ˆå€¼+3ä¸ªæ•°æ®æ®µå¤§å°ï¼Œè¿™æ ·TCPçš„ååé‡å°±å¯ä»¥éšç€ç½‘ç»œçš„æ‹¥å¡æƒ…å†µå‘ç”Ÿæ”¹å˜ã€‚</p><h4 id="å¿«é‡ä¼ ã€å¿«æ¢å¤" tabindex="-1"><a class="header-anchor" href="#å¿«é‡ä¼ ã€å¿«æ¢å¤" aria-hidden="true">#</a> å¿«é‡ä¼ ã€å¿«æ¢å¤</h4><p>å¿«é‡ä¼ ç®—æ³•è§„å®šï¼Œå‘é€æ–¹åªè¦ä¸€è¿æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤å°±åº”å½“ç«‹å³é‡ä¼ å¯¹æ–¹å°šæœªæ”¶åˆ°çš„æŠ¥æ–‡æ®µï¼Œè€Œä¸å¿…ç»§ç»­ç­‰å¾…è®¾ç½®çš„é‡ä¼ è®¡æ—¶å™¨æ—¶é—´åˆ°æœŸã€‚</p><p><strong>å¿«æ¢å¤ï¼š<strong>å½“å‘é€æ–¹è¿ç»­æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤æ—¶ï¼Œå°±æ‰§è¡Œ</strong>ä¹˜æ³•å‡å°</strong>ç®—æ³•ï¼ŒæŠŠæ‹¥å¡çª—å£é˜ˆå€¼å‡åŠï¼ˆä¸ºäº†é¢„é˜²ç½‘ç»œå‘ç”Ÿæ‹¥å¡ï¼‰ã€‚ä½†æ˜¯æ¥ä¸‹å»å¹¶ä¸æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ï¼Œè€Œæ˜¯å°†å½“å‰å‘é€çš„çª—å£è®¾ç½®ä¸ºæ‹¥å¡çª—å£é˜ˆå€¼å‡åŠåçš„å€¼ï¼Œç„¶åæ‰§è¡Œæ‹¥å¡é¿å…ç®—æ³•ã€‚</p><h1 id="ipåè®®" tabindex="-1"><a class="header-anchor" href="#ipåè®®" aria-hidden="true">#</a> IPåè®®</h1><p>IPç›¸å½“äºæ˜¯OSIå‚è€ƒæ¨¡å‹çš„ç¬¬ä¸‰å±‚-----ç½‘ç»œå±‚</p><p>åœ¨ä¹‹å‰çš„æ•°æ®é“¾è·¯å±‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡äº¤æ¢æœºï¼Œå¯ä»¥å°†ä¸¤ä¸ªæ•°æ®é“¾è·¯è¿æ¥èµ·æ¥ï¼Œä½†æ˜¯è¿™åªå±€é™äºåŒä¸€ç§æ•°æ®é“¾è·¯ï¼Œå¦‚æœè¦å°†ä¸åŒç§æ•°æ®é“¾è·¯(ä»¥å¤ªç½‘ã€æ— çº¿LANäº¦æˆ–æ˜¯PPP)è¿æ¥èµ·æ¥çš„è¯ï¼Œå°±éœ€è¦å€ŸåŠ©ç½‘ç»œå±‚(ä¸­çš„è·¯ç”±å™¨)ï¼Œè·¯ç”±å™¨æ˜¯ç½‘ç»œå±‚çš„æ ¸å¿ƒäººç‰©ï¼Œé…ç½®æœ‰ipåœ°å€ä½†æ²¡æœ‰è·¯ç”±æ§åˆ¶çš„è®¾å¤‡ç§°ä¸ºä¸»æœºï¼Œé…ç½®æœ‰ipåœ°å€å¹¶ä¸”åŒæ—¶åˆè·¯ç”±æ§åˆ¶çš„è®¾å¤‡ç§°ä¸ºè·¯ç”±å™¨ï¼ŒèŠ‚ç‚¹æ˜¯è·¯ç”±å™¨å’Œä¸»æœºçš„æ€»ç§°ã€‚MACåœ°å€æ˜¯ç”¨æ¥æ ‡è¯†åŒä¸€é“¾è·¯ä¸åŒè®¡ç®—æœºçš„ï¼ŒIPåœ°å€ç”¨äºåœ¨è¿æ¥åˆ°ç½‘ç»œä¸­çš„æ‰€æœ‰ä¸»æœºä¸­è¯†åˆ«å‡ºè¿›è¡Œé€šä¿¡çš„ç›®æ ‡åœ°å€ã€‚å› æ­¤æƒ³è¦å‘é€æ•°æ®åˆ°ä»»æ„IPåœ°å€ï¼Œéœ€è¦å¦‚ä¸‹æµç¨‹ï¼ˆipå±‚é¢ï¼‰ï¼šé¦–å…ˆå‘é€æ–¹ä¼šé€šè¿‡å­ç½‘æ©ç æ¥åˆ¤æ–­ç›®æ ‡ipåœ°å€ä¸è‡ªå·±æ˜¯å¦åœ¨åŒä¸€å±€åŸŸç½‘å†…ï¼Œå¦‚æœä¸åœ¨å°±ä¼šå‘ç»™é»˜è®¤ç½‘å…³(å³è·¯ç”±å™¨çš„ipåœ°å€)ï¼Œè·¯ç”±å™¨æœ‰ä¸€å¼ è·¯ç”±æ§åˆ¶è¡¨ï¼Œè·¯ç”±æ§åˆ¶è¡¨ä¼šå°†ç«¯å£ä¸ä¸‹ä¸€è·³çš„å­ç½‘å¯¹åº”èµ·æ¥ï¼Œæ¥ç€åªéœ€è¦ä¼ ç»™å¯¹åº”ç«¯å£å°±å¥½äº†ã€‚å½“ç„¶æ•°æ®é“¾è·¯å±‚æ˜¯ä¸çŸ¥é“IPåœ°å€çš„ï¼Œä»–ä»¬åªçŸ¥é“macåœ°å€ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸€å¼ macä¸ipåœ°å€å¯¹åº”çš„è¡¨ï¼Œè¿™å°±å«arpç¼“å­˜è¡¨ã€‚æ¯”å¦‚è¯´æˆ‘æƒ³è¦å°†è·³åˆ°é»˜è®¤ç½‘å…³ï¼Œé»˜è®¤ç½‘å…³æ˜¯ä¸€ä¸ªipåœ°å€ï¼Œè¿™æ—¶å€™å°±éœ€è¦arpè¡¨ï¼Œé€šè¿‡arpè¡¨å¾—åˆ°macåœ°å€ï¼Œé€šè¿‡äº¤æ¢æœºæˆ–è€…å…¶ä»–äº¤æ¢è®¾å¤‡ï¼Œå°±å¯ä»¥æŠŠæ•°æ®åŒ…å‘é€ç»™é»˜è®¤ç½‘å…³ã€‚</p><h2 id="ipv6" tabindex="-1"><a class="header-anchor" href="#ipv6" aria-hidden="true">#</a> IPv6</h2><h3 id="ipv6çš„å¿…è¦æ€§" tabindex="-1"><a class="header-anchor" href="#ipv6çš„å¿…è¦æ€§" aria-hidden="true">#</a> IPv6çš„å¿…è¦æ€§</h3><p>IPv6æ˜¯ä¸ºäº†æ ¹æœ¬è§£å†³IPv4åœ°å€è€—å°½çš„é—®é¢˜è€Œè¢«æ ‡å‡†åŒ–çš„ç½‘é™…åè®®ï¼ŒIPv4çš„åœ°å€é•¿åº¦ä¸º32æ¯”ç‰¹ï¼Œè€ŒIPv6åœ°å€é•¿åº¦æ˜¯128æ¯”ç‰¹ï¼ŒIPv6ä¸ä»…ä»…èƒ½è§£å†³IPv4åœ°å€è€—å°½çš„é—®é¢˜å®ƒç”šè‡³è¯•å›¾å¼¥è¡¥IPv4ç»å¤§å¤šæ•°ç¼ºé™·ã€‚</p><ul><li>IPåœ°å€çš„æ‰©å¤§å’Œè·¯ç”±æ§åˆ¶è¡¨çš„èšåˆ</li><li>æ€§èƒ½æå‡</li><li>é‡‡ç”¨è®¤è¯å’ŒåŠ å¯†åŠŸèƒ½ï¼Œåº”å¯¹ä¼ªé€ IPåœ°å€çš„ç½‘ç»œå®‰å…¨åŠŸèƒ½ä»¥åŠé˜²æ­¢çº¿è·¯çªƒå¬çš„åŠŸèƒ½</li></ul><h1 id="dns" tabindex="-1"><a class="header-anchor" href="#dns" aria-hidden="true">#</a> dns</h1><p>1.åœ¨æµè§ˆå™¨ä¸­è¾“å…¥www . qq .com åŸŸåï¼Œæ“ä½œç³»ç»Ÿä¼šå…ˆæ£€æŸ¥è‡ªå·±æœ¬åœ°çš„hostsæ–‡ä»¶æ˜¯å¦æœ‰è¿™ä¸ªç½‘å€æ˜ å°„å…³ç³»ï¼Œå¦‚æœæœ‰ï¼Œå°±å…ˆè°ƒç”¨è¿™ä¸ªIPåœ°å€æ˜ å°„ï¼Œå®ŒæˆåŸŸåè§£æã€‚</p><p>2.å¦‚æœhostsé‡Œæ²¡æœ‰è¿™ä¸ªåŸŸåçš„æ˜ å°„ï¼Œåˆ™æŸ¥æ‰¾æœ¬åœ°DNSè§£æå™¨ç¼“å­˜ï¼Œæ˜¯å¦æœ‰è¿™ä¸ªç½‘å€æ˜ å°„å…³ç³»ï¼Œå¦‚æœæœ‰ï¼Œç›´æ¥è¿”å›ï¼Œå®ŒæˆåŸŸåè§£æã€‚</p><p>3.å¦‚æœhostsä¸æœ¬åœ°DNSè§£æå™¨ç¼“å­˜éƒ½æ²¡æœ‰ç›¸åº”çš„ç½‘å€æ˜ å°„å…³ç³»ï¼Œé¦–å…ˆä¼šæ‰¾TCP/ipå‚æ•°ä¸­è®¾ç½®çš„é¦–é€‰DNSæœåŠ¡å™¨ï¼Œåœ¨æ­¤æˆ‘ä»¬å«å®ƒæœ¬åœ°DNSæœåŠ¡å™¨ï¼Œæ­¤æœåŠ¡å™¨æ”¶åˆ°æŸ¥è¯¢æ—¶ï¼Œå¦‚æœè¦æŸ¥è¯¢çš„åŸŸåï¼ŒåŒ…å«åœ¨æœ¬åœ°é…ç½®åŒºåŸŸèµ„æºä¸­ï¼Œåˆ™è¿”å›è§£æç»“æœç»™å®¢æˆ·æœºï¼Œå®ŒæˆåŸŸåè§£æï¼Œæ­¤è§£æå…·æœ‰æƒå¨æ€§ã€‚</p><p>4.å¦‚æœè¦æŸ¥è¯¢çš„åŸŸåï¼Œä¸ç”±æœ¬åœ°DNSæœåŠ¡å™¨åŒºåŸŸè§£æï¼Œä½†è¯¥æœåŠ¡å™¨å·²ç¼“å­˜äº†æ­¤ç½‘å€æ˜ å°„å…³ç³»ï¼Œåˆ™è°ƒç”¨è¿™ä¸ªIPåœ°å€æ˜ å°„ï¼Œå®ŒæˆåŸŸåè§£æï¼Œæ­¤è§£æä¸å…·æœ‰æƒå¨æ€§ã€‚</p><p>5.å¦‚æœæœ¬åœ°DNSæœåŠ¡å™¨æœ¬åœ°åŒºåŸŸæ–‡ä»¶ä¸ç¼“å­˜è§£æéƒ½å¤±æ•ˆï¼Œåˆ™æ ¹æ®æœ¬åœ°DNSæœåŠ¡å™¨çš„è®¾ç½®ï¼ˆæ˜¯å¦è®¾ç½®è½¬å‘å™¨ï¼‰è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœæœªç”¨è½¬å‘æ¨¡å¼ï¼Œæœ¬åœ°DNSå°±æŠŠè¯·æ±‚å‘è‡³13å°æ ¹DNSï¼Œæ ¹DNSæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åä¼šåˆ¤æ–­è¿™ä¸ªåŸŸå(.com)æ˜¯è°æ¥æˆæƒç®¡ç†ï¼Œå¹¶ä¼šè¿”å›ä¸€ä¸ªè´Ÿè´£è¯¥é¡¶çº§åŸŸåæœåŠ¡å™¨çš„ä¸€ä¸ªIPã€‚æœ¬åœ°DNSæœåŠ¡å™¨æ”¶åˆ°IPä¿¡æ¯åï¼Œå°†ä¼šè”ç³»è´Ÿè´£.comåŸŸçš„è¿™å°æœåŠ¡å™¨ã€‚è¿™å°è´Ÿè´£.comåŸŸçš„æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œå¦‚æœè‡ªå·±æ— æ³•è§£æï¼Œå®ƒå°±ä¼šæ‰¾ä¸€ä¸ªç®¡ç†.comåŸŸçš„ä¸‹ä¸€çº§DNSæœåŠ¡å™¨åœ°å€http://qq.comç»™æœ¬åœ°DNSæœåŠ¡å™¨ã€‚å½“æœ¬åœ°DNSæœåŠ¡å™¨æ”¶åˆ°è¿™ä¸ªåœ°å€åï¼Œå°±ä¼šæ‰¾http://qq.comåŸŸæœåŠ¡å™¨ï¼Œé‡å¤ä¸Šé¢çš„åŠ¨ä½œï¼Œè¿›è¡ŒæŸ¥è¯¢ï¼Œç›´è‡³æ‰¾åˆ°www . qq .comä¸»æœºã€‚</p><p>6.å¦‚æœç”¨çš„æ˜¯è½¬å‘æ¨¡å¼ï¼Œæ­¤DNSæœåŠ¡å™¨å°±ä¼šæŠŠè¯·æ±‚è½¬å‘è‡³ä¸Šä¸€çº§DNSæœåŠ¡å™¨ï¼Œç”±ä¸Šä¸€çº§æœåŠ¡å™¨è¿›è¡Œè§£æï¼Œä¸Šä¸€çº§æœåŠ¡å™¨å¦‚æœä¸èƒ½è§£æï¼Œæˆ–æ‰¾æ ¹DNSæˆ–æŠŠè½¬è¯·æ±‚è½¬è‡³ä¸Šä¸Šçº§ï¼Œä»¥æ­¤å¾ªç¯ã€‚ä¸ç®¡æ˜¯æœ¬åœ°DNSæœåŠ¡å™¨ç”¨æ˜¯æ˜¯è½¬å‘ï¼Œè¿˜æ˜¯æ ¹æç¤ºï¼Œæœ€åéƒ½æ˜¯æŠŠç»“æœè¿”å›ç»™æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œç”±æ­¤DNSæœåŠ¡å™¨å†è¿”å›ç»™å®¢æˆ·æœºã€‚ ä»å®¢æˆ·ç«¯åˆ°æœ¬åœ°DNSæœåŠ¡å™¨æ˜¯å±äºé€’å½’æŸ¥è¯¢ï¼Œè€ŒDNSæœåŠ¡å™¨ä¹‹é—´å°±æ˜¯çš„äº¤äº’æŸ¥è¯¢å°±æ˜¯è¿­ä»£æŸ¥è¯¢ã€‚</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/464291-20170703113844956-354755333.jpg" alt="img"></p><p>åœ¨é€šè¿‡<strong>æµè§ˆå™¨ç¼“å­˜</strong>ï¼ˆä¸ºåŠ å¿«è®¿é—®é€Ÿåº¦ï¼Œæœ‰äº›æµè§ˆå™¨ä¼šç¼“å­˜dnsè®°å½•ï¼‰åŠ<strong>hostæ–‡ä»¶</strong>éƒ½æ— æ³•è§£æåŸŸåçš„æƒ…å†µä¸‹ï¼ŒOSä¼šå°†è¿™ä¸ªåŸŸåå‘é€ç»™è®¡ç®—æœºç½‘ç»œé…ç½®ä¸­DNSå¯¹åº”çš„åœ°å€ï¼ˆLDNSï¼‰ï¼Œå³æœ¬åœ°åŒºçš„åŸŸåæœåŠ¡å™¨ã€‚è¿™ä¸ªDNSé€šå¸¸éƒ½æä¾›ç»™ä½ æœ¬åœ°äº’è”ç½‘æ¥å…¥çš„ä¸€ä¸ªDNSè§£ææœåŠ¡ï¼Œå‡å¦‚æ˜¯åœ¨å­¦æ ¡æ¥å…¥çš„äº’è”ç½‘ï¼Œé‚£ä¹ˆè¿™ä¸ªæœ¬åœ°åŒºçš„åŸŸåæœåŠ¡å™¨åŸºæœ¬ä¸Šæ˜¯åœ¨å­¦æ ¡ä¸­ï¼›å¦‚æœæ˜¯åœ¨å°åŒºæ¥å…¥çš„äº’è”ç½‘ï¼Œé‚£ä¹ˆè¿™ä¸ªæœ¬åœ°åŒºçš„åŸŸåæœåŠ¡å™¨å°±æ˜¯æä¾›ç»™ä½ æ¥å…¥äº’è”ç½‘çš„åº”ç”¨æœåŠ¡ä¸Šï¼Œä¹Ÿå°±æ˜¯ç”µä¿¡æˆ–è”é€šã€‚</p><h1 id="cdn" tabindex="-1"><a class="header-anchor" href="#cdn" aria-hidden="true">#</a> cdn</h1><p>CDN çš„å·¥ä½œåŸç†å°±æ˜¯å°†æ‚¨æºç«™çš„èµ„æºç¼“å­˜åˆ°ä½äºå…¨çƒå„åœ°çš„ CDN èŠ‚ç‚¹ä¸Šï¼Œç”¨æˆ·è¯·æ±‚èµ„æºæ—¶ï¼Œå°±è¿‘è¿”å›èŠ‚ç‚¹ä¸Šç¼“å­˜çš„èµ„æºï¼Œè€Œä¸éœ€è¦æ¯ä¸ªç”¨æˆ·çš„è¯·æ±‚éƒ½å›æ‚¨çš„æºç«™è·å–ï¼Œé¿å…ç½‘ç»œæ‹¥å¡ã€ç¼“è§£æºç«™å‹åŠ›ï¼Œä¿è¯ç”¨æˆ·è®¿é—®èµ„æºçš„é€Ÿåº¦å’Œä½“éªŒã€‚</p><ol><li>å½“ç”¨æˆ·ç‚¹å‡»ç½‘ç«™é¡µé¢ä¸Šçš„å†…å®¹URLï¼Œç»è¿‡æœ¬åœ°DNSç³»ç»Ÿè§£æï¼ŒDNSç³»ç»Ÿä¼šæœ€ç»ˆå°†åŸŸåçš„è§£ææƒäº¤ç»™CNAMEæŒ‡å‘çš„CDNä¸“ç”¨DNSæœåŠ¡å™¨ã€‚</li><li>CDNçš„DNSæœåŠ¡å™¨å°†CDNçš„å…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡IPåœ°å€è¿”å›ç”¨æˆ·ã€‚</li><li>ç”¨æˆ·å‘CDNçš„å…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡å‘èµ·å†…å®¹URLè®¿é—®è¯·æ±‚ã€‚</li><li>CDNå…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡æ ¹æ®ç”¨æˆ·IPåœ°å€ï¼Œä»¥åŠç”¨æˆ·è¯·æ±‚çš„å†…å®¹URLï¼Œé€‰æ‹©ä¸€å°ç”¨æˆ·æ‰€å±åŒºåŸŸçš„åŒºåŸŸè´Ÿè½½å‡è¡¡è®¾å¤‡ï¼Œå‘Šè¯‰ç”¨æˆ·å‘è¿™å°è®¾å¤‡å‘èµ·è¯·æ±‚ã€‚</li><li>åŒºåŸŸè´Ÿè½½å‡è¡¡è®¾å¤‡ä¼šä¸ºç”¨æˆ·é€‰æ‹©ä¸€å°åˆé€‚çš„ç¼“å­˜æœåŠ¡å™¨æä¾›æœåŠ¡ï¼Œé€‰æ‹©çš„ä¾æ®åŒ…æ‹¬ï¼šæ ¹æ®ç”¨æˆ·IPåœ°å€ï¼Œåˆ¤æ–­å“ªä¸€å°æœåŠ¡å™¨è·ç”¨æˆ·æœ€è¿‘ï¼›æ ¹æ®ç”¨æˆ·æ‰€è¯·æ±‚çš„URLä¸­æºå¸¦çš„å†…å®¹åç§°ï¼Œåˆ¤æ–­å“ªä¸€å°æœåŠ¡å™¨ä¸Šæœ‰ç”¨æˆ·æ‰€éœ€å†…å®¹ï¼›æŸ¥è¯¢å„ä¸ªæœåŠ¡å™¨å½“å‰çš„è´Ÿè½½æƒ…å†µï¼Œåˆ¤æ–­å“ªä¸€å°æœåŠ¡å™¨å°šæœ‰æœåŠ¡èƒ½åŠ›ã€‚åŸºäºä»¥ä¸Šè¿™äº›æ¡ä»¶çš„ç»¼åˆåˆ†æä¹‹åï¼ŒåŒºåŸŸè´Ÿè½½å‡è¡¡è®¾å¤‡ä¼šå‘å…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡è¿”å›ä¸€å°ç¼“å­˜æœåŠ¡å™¨çš„IPåœ°å€ã€‚</li><li>å…¨å±€è´Ÿè½½å‡è¡¡è®¾å¤‡æŠŠæœåŠ¡å™¨çš„IPåœ°å€è¿”å›ç»™ç”¨æˆ·ã€‚</li><li>ç”¨æˆ·å‘ç¼“å­˜æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç¼“å­˜æœåŠ¡å™¨å“åº”ç”¨æˆ·è¯·æ±‚ï¼Œå°†ç”¨æˆ·æ‰€éœ€å†…å®¹ä¼ é€åˆ°ç”¨æˆ·ç»ˆç«¯ã€‚å¦‚æœè¿™å°ç¼“å­˜æœåŠ¡å™¨ä¸Šå¹¶æ²¡æœ‰ç”¨æˆ·æƒ³è¦çš„å†…å®¹ï¼Œè€ŒåŒºåŸŸå‡è¡¡è®¾å¤‡ä¾ç„¶å°†å®ƒåˆ†é…ç»™äº†ç”¨æˆ·ï¼Œé‚£ä¹ˆè¿™å°æœåŠ¡å™¨å°±è¦å‘å®ƒçš„ä¸Šä¸€çº§ç¼“å­˜æœåŠ¡å™¨è¯·æ±‚å†…å®¹ï¼Œç›´è‡³è¿½æº¯åˆ°ç½‘ç«™çš„æºæœåŠ¡å™¨å°†å†…å®¹æ‹‰åˆ°æœ¬åœ°ã€‚</li></ol><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/v2-5793aec83fc645e002a1cd70ab7209a3_720w.jpg" alt="img"></p><p>ä½¿ç”¨Aè®°å½•å’ŒCNAMEè¿›è¡ŒåŸŸåè§£æçš„åŒºåˆ«</p><p>Aè®°å½•å°±æ˜¯æŠŠä¸€ä¸ªåŸŸåè§£æåˆ°ä¸€ä¸ªIPåœ°å€ï¼ˆAddressï¼Œç‰¹åˆ¶æ•°å­—IPåœ°å€ï¼‰ï¼Œè€Œ CNAMEè®°å½•å°±æ˜¯æŠŠåŸŸåè§£æåˆ°å¦å¤–ä¸€ä¸ªåŸŸåã€‚å…¶åŠŸèƒ½æ˜¯å·®ä¸å¤šï¼ŒCNAMEå°†å‡ ä¸ªä¸»æœºåæŒ‡å‘ä¸€ä¸ªåˆ«åï¼Œå…¶å®è·ŸæŒ‡å‘IPåœ°å€æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºè¿™ä¸ªåˆ«åä¹Ÿè¦åšä¸€ä¸ªAè®°å½•çš„ã€‚</p><h1 id="åŸå‹é“¾" tabindex="-1"><a class="header-anchor" href="#åŸå‹é“¾" aria-hidden="true">#</a> åŸå‹é“¾</h1><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/åŸå‹é“¾.jpg" alt="image"> Fooå’ŒObjectéƒ½æ˜¯å‡½æ•°ï¼Œå‡½æ•°éƒ½æ˜¯ç”±Functionæ„é€ å‡ºæ¥çš„ï¼ŒFunctionæ˜¯å‡½æ•°çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ä¸å¸¸ç”¨ï¼Œå‡½æ•°ç‹¬æœ‰prototype,æŒ‡å‘å…¶åŸå‹å¯¹è±¡ï¼Œä»»ä½•å¯¹è±¡éƒ½æœ‰_proto_å±æ€§ï¼ŒæŒ‡å‘æ„é€ è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹ã€‚å›¾ä¸­Foo.prototypeå’ŒFunction.prototypeéƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»–ä»¬çš„_proto_(éšå¼åŸå‹)æŒ‡å‘Object.prototype</p><h1 id="flex" tabindex="-1"><a class="header-anchor" href="#flex" aria-hidden="true">#</a> flex</h1><p>flex:1 æ˜¯æŒ‡ flex:1 1 auto 1 1 autoåˆ†åˆ«æŒ‡flex-grow:1 flex-shrink:1 flex-basis:1 flex-grow:åˆ†é…ç»™è¯¥é¡¹ç›®å‰©ä½™ç©ºé—´çš„æ¯”ä¾‹ é»˜è®¤å€¼ä¸º0ï¼Œå¦‚æœåªæœ‰è¯¥é¡¹ç›®æ˜¯1ï¼Œåˆ™å…¨åˆ†ç»™è¯¥é¡¹ç›® flex-shrink:è¯¥é¡¹ç›®ç¼©å°çš„æ¯”ä¾‹ï¼Œé»˜è®¤å€¼ä¸º1ï¼Œé¡¹ç›®å®½åº¦(é«˜åº¦)ä¹‹å’Œå¤§äºå®¹å™¨å®½åº¦ï¼Œåˆ™ç¼©å° flex-basis:ç»™ä¸Šé¢ä¸¤ä¸ªå±æ€§åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰, è®¡ç®—é¡¹ç›®æ˜¯å¦æœ‰å¤šä½™ç©ºé—´, é»˜è®¤å€¼ä¸º auto, å³é¡¹ç›®æœ¬èº«çš„å¤§å°</p><p>å­å…ƒç´ çš„åŸå§‹å®½åº¦æ˜¯ç”±<code>flex-basis</code>æ¥å†³å®šçš„ï¼Œ<code>flex-basis:auto</code>è¡¨ç¤ºå­å…ƒç´ åŸå§‹å®½åº¦ä¸ºå­å…ƒç´ è‡ªèº«çš„å®½åº¦ã€‚</p><p><code>flex-grow</code> è¡¨ç¤ºå¦‚æœå®¹å™¨è¿˜å‰©æœ‰å®½åº¦ï¼Œé‚£ä¹ˆå‰©ä½™ç©ºé—´å°†ä¼šæŒ‰ç…§flex-growçš„æ¯”ä¾‹æ¥åˆ†é…</p><p>åŒç†<code>flex-shrink</code> è¡¨ç¤ºå¦‚æœæ‰€æœ‰é¡¹çš„åŸå§‹å®½åº¦å¤§äºå®¹å™¨å®½åº¦ï¼Œé‚£ä¹ˆå…ƒç´ ç¼©å°æ¯”ä¾‹ä¹Ÿä¼šæŒ‰ç…§<code>flex-shrink</code>æ¥åˆ†é…</p><p>flex:xxxå¦‚æœå»ç™¾åˆ†æ¯”æˆ–è€…é•¿åº¦(px)åˆ™è¡¨ç¤ºflex-grow:1 flex-shrink:1</p><p>æ‰€æœ‰ flex å…ƒç´ éƒ½ä¼šæœ‰ä¸‹åˆ—è¡Œä¸ºï¼š</p><ul><li>å…ƒç´ æ’åˆ—ä¸ºä¸€è¡Œ (<code>flex-direction</code> å±æ€§çš„åˆå§‹å€¼æ˜¯ <code>row</code>)ã€‚</li><li>å…ƒç´ ä»ä¸»è½´çš„èµ·å§‹çº¿å¼€å§‹ã€‚</li><li>å…ƒç´ ä¸ä¼šåœ¨ä¸»ç»´åº¦æ–¹å‘æ‹‰ä¼¸ï¼Œä½†æ˜¯å¯ä»¥ç¼©å°ã€‚</li><li>å…ƒç´ è¢«æ‹‰ä¼¸æ¥å¡«å……äº¤å‰è½´å¤§å°ã€‚</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis" target="_blank" rel="noopener noreferrer"><code>flex-basis</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å±æ€§ä¸º <code>auto</code>ã€‚</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-wrap" target="_blank" rel="noopener noreferrer"><code>flex-wrap</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å±æ€§ä¸º <code>nowrap</code>ã€‚</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;div class=&quot;container&quot;&gt;
        &lt;div style=&quot;height: 100px&quot;&gt;&lt;/div&gt;
        &lt;div style=&quot;min-height: 10px;&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;style&gt;
        .container{
            display: flex;
        }
        .container &gt; div{
            width: 100px;
        }
    &lt;/style&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬äºŒä¸ªå…ƒç´ é«˜åº¦ï¼Ÿ100px</p><p>å› ä¸ºäº¤å‰è½´ä¼šè¢«æ‹‰ä¼¸æ¥å¡«å……äº¤å‰è½´å¤§å°ï¼Œå‰ææ˜¯å…ƒç´ é«˜åº¦æˆ–è€…å®½åº¦æ²¡ç¡®å®š</p><p>orderå±æ€§ç”¨æ¥å¯¹å…ƒç´ æ’åº</p><p>ä¸è®¾ç½®é»˜è®¤æ˜¯0</p><p>æ•°å­—è¶Šå°æ’åœ¨æœˆå‰é¢</p><h1 id="bfc-å—çº§æ ¼å¼ä¸Šä¸‹æ–‡" tabindex="-1"><a class="header-anchor" href="#bfc-å—çº§æ ¼å¼ä¸Šä¸‹æ–‡" aria-hidden="true">#</a> BFC(å—çº§æ ¼å¼ä¸Šä¸‹æ–‡)</h1><p>åªè¦å…ƒç´ æ»¡è¶³ä¸‹é¢ä»»ä¸€æ¡ä»¶å³å¯è§¦å‘ BFC ç‰¹æ€§ï¼š</p><ul><li>body æ ¹å…ƒç´ </li><li>æµ®åŠ¨å…ƒç´ ï¼šfloat é™¤ none ä»¥å¤–çš„å€¼</li><li>ç»å¯¹å®šä½å…ƒç´ ï¼šposition (absoluteã€fixed)</li><li>display ä¸º inline-blockã€table-cellsã€flex</li><li>overflow é™¤äº† visible ä»¥å¤–çš„å€¼ (hiddenã€autoã€scroll)</li></ul><h2 id="bfcç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#bfcç‰¹æ€§" aria-hidden="true">#</a> BFCç‰¹æ€§</h2><p>1.å†…éƒ¨çš„Boxä¼šåœ¨å‚ç›´æ–¹å‘ä¸Šä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ”¾ç½®ã€‚ 2.å‚ç›´æ–¹å‘ä¸Šçš„è·ç¦»ç”±marginå†³å®š 3.bfcçš„åŒºåŸŸä¸ä¼šä¸floatçš„å…ƒç´ åŒºåŸŸé‡å ã€‚ 4.è®¡ç®—bfcçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®— 5.bfcå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“å¤–é¢å…ƒç´ ã€‚</p><p><strong>è§£å†³å¤–è¾¹è·æŠ˜å </strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠŠä¸¤ä¸ªç›’å­æ”¾åœ¨bfcå®¹å™¨ä¸­å°±å¯ä»¥è§£å†³å¤–è¾¹è·æŠ˜å çš„é—®é¢˜ã€‚</p><p><strong>æ¸…é™¤æµ®åŠ¨</strong></p><p><strong>ä¸è¢«æµ®åŠ¨å…ƒç´ è¦†ç›–</strong></p><p>äºŒæ å¸ƒå±€ï¼Œå·¦è¾¹å®½åº¦å›ºå®šï¼Œå³è¾¹å®½åº¦è‡ªé€‚åº”ï¼ŒæŠŠå³è¾¹è®¾ç½®ä¸ºbfcå°±å¯ä»¥å®ç°</p><p>è¿˜å¯ä»¥é˜²æ­¢å­—ä½“ç¯ç»•</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/948888-20171119222632796-1452266331.png" alt="img"></p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/948888-20171119222701452-741699368.png" alt=""></p><h1 id="æ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹æ³•" aria-hidden="true">#</a> æ¸…é™¤æµ®åŠ¨çš„å‡ ç§æ–¹æ³•</h1><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;div class=&quot;topDiv&quot;&gt;
    &lt;div class=&quot;floatDiv&quot;&gt;float left&lt;/div&gt;
    &lt;div class=&quot;textDiv&quot;&gt;...&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;bottomDiv&quot;&gt;...&lt;/div&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ·»åŠ clearæ ·å¼</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>.textDiv {
    color: blue;
    border: 2px solid blue;

    clear: left;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘Šè¯‰æµè§ˆå™¨ï¼Œå…¶å·¦è¾¹ä¸å…è®¸æœ‰æµ®åŠ¨å…ƒç´ å­˜åœ¨</p><p><strong>æ·»åŠ ä¸€ä¸ªæ¸…é™¤æµ®åŠ¨çš„å—çº§å…ƒç´ </strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;div class=&quot;topDiv&quot;&gt;
    &lt;div class=&quot;textDiv&quot;&gt;...&lt;/div&gt;
    &lt;div class=&quot;floatDiv&quot;&gt;float left&lt;/div&gt;
    &lt;div class=&quot;blankDiv&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;bottomDiv&quot;&gt;...&lt;/div&gt;


.blankDiv {
    clear: both; // or left
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>:after</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;div class=&quot;topDiv clearfix&quot;&gt;
    &lt;div class=&quot;textDiv&quot;&gt;...&lt;/div&gt;
    &lt;div class=&quot;floatDiv&quot;&gt;float left&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;bottomDiv&quot;&gt;...&lt;/div&gt;

.clearfix:after {
    content: &#39;.&#39;;
    height: 0;
    display: block;
    clear: both;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å’Œä¸Šé¢çš„æ–¹æ³•å·®ä¸å¤š</p><p><strong>åˆ©ç”¨overflow</strong></p><p>å…¶æœ¬è´¨ä½¿ç”¨bfcæ¥å®ç°</p><h1 id="react" tabindex="-1"><a class="header-anchor" href="#react" aria-hidden="true">#</a> React</h1><h2 id="reactä¸­æ–¹æ³•thisæŒ‡å‘é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#reactä¸­æ–¹æ³•thisæŒ‡å‘é—®é¢˜" aria-hidden="true">#</a> reactä¸­æ–¹æ³•thisæŒ‡å‘é—®é¢˜</h2><p>åœ¨reactä¸­ç±»å¼ç»„ä»¶ä¸­çš„æ–¹æ³•ä¼šæ”¾åœ¨è¯¥ç±»çš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹ä½¿ç”¨ ç±»ä¸­çš„æ–¹æ³•é»˜è®¤å¼€å¯å±€éƒ¨ä¸¥æ ¼æ¨¡å¼ï¼ŒthisæŒ‡å‘undefined</p><h2 id="å—æ§ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å—æ§ç»„ä»¶" aria-hidden="true">#</a> å—æ§ç»„ä»¶</h2><p>åœ¨HTMLè¡¨å•å…ƒç´ ä¸­ï¼Œå®ƒä»¬é€šå¸¸è‡ªå·±ç»´æŠ¤ä¸€å¥—<code>state</code>,å¹¶éšç€ç”¨æˆ·çš„è¾“å…¥æ”¹å˜UIï¼Œå¦‚æœæˆ‘ä»¬æŠŠreactçš„stateå’Œè¡¨å•å…ƒç´ å»ºç«‹ä¾èµ–å…³ç³»ï¼Œå†é€šè¿‡<code>onChange</code>å’Œ<code>setState</code>ç»“åˆæ›´æ–°stateå±æ€§ï¼Œå°±èƒ½è¾¾åˆ°æ§åˆ¶ç”¨æˆ·è¾“å…¥è¿‡ç¨‹ä¸­è¡¨å•å‘ç”Ÿçš„æ“ä½œã€‚</p><h1 id="äº‹ä»¶å¾ªç¯æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶å¾ªç¯æœºåˆ¶" aria-hidden="true">#</a> äº‹ä»¶å¾ªç¯æœºåˆ¶</h1><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/äº‹ä»¶å¾ªç¯1.webp" alt="image"> åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œ&quot;åœºæ‰€&quot;ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥Event Tableå¹¶æ³¨å†Œå‡½æ•°ã€‚</p><p>å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼ŒEvent Tableä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥Event Queueã€‚</p><p>ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»Event Queueè¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</p><p>ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Event Loop(äº‹ä»¶å¾ªç¯)ã€‚ <img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/äº‹ä»¶å¾ªç¯2.webp" alt="image"> macro-task(å®ä»»åŠ¡)ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç scriptï¼ŒsetTimeoutï¼ŒsetIntervalï¼Œdomæ—¶é—´ï¼ŒrequestAnimationFrame</p><p>micro-task(å¾®ä»»åŠ¡)ï¼šPromiseï¼Œprocess.nextTickï¼ˆåœ¨ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯å¼€å§‹ä¹‹å‰ï¼‰</p><p>è¿›å…¥æ•´ä½“ä»£ç (å®ä»»åŠ¡)åï¼Œå¼€å§‹ç¬¬ä¸€æ¬¡å¾ªç¯ã€‚æ¥ç€æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ã€‚ç„¶åå†æ¬¡ä»å®ä»»åŠ¡(ä¸€ä¸ª)å¼€å§‹ï¼Œæ‰¾åˆ°å…¶ä¸­ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œå®Œæ¯•ï¼Œå†æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>console.log(&#39;1&#39;);

setTimeout(function() {
    console.log(&#39;2&#39;);
    process.nextTick(function() {
        console.log(&#39;3&#39;);
    })
    new Promise(function(resolve) {
        console.log(&#39;4&#39;);
        resolve();
    }).then(function() {
        console.log(&#39;5&#39;)
    })
})
process.nextTick(function() {
    console.log(&#39;6&#39;);
})
new Promise(function(resolve) {
    console.log(&#39;7&#39;);
    resolve();
}).then(function() {
    console.log(&#39;8&#39;)
})

setTimeout(function() {
    console.log(&#39;9&#39;);
    process.nextTick(function() {
        console.log(&#39;10&#39;);
    })
    new Promise(function(resolve) {
        console.log(&#39;11&#39;);
        resolve();
    }).then(function() {
        console.log(&#39;12&#39;)
    })
})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€ç»ˆç»“æœ:1ï¼Œ7ï¼Œ6ï¼Œ8ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œ5ï¼Œ9ï¼Œ11ï¼Œ10ï¼Œ12</p><h1 id="è·¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#è·¨åŸŸ" aria-hidden="true">#</a> è·¨åŸŸ</h1><p>æœ‰ä¸€ä¸ªå°å°çš„ä¸œè¥¿å«cookieå¤§å®¶åº”è¯¥çŸ¥é“ï¼Œä¸€èˆ¬ç”¨æ¥å¤„ç†ç™»å½•ç­‰åœºæ™¯ï¼Œç›®çš„æ˜¯è®©æœåŠ¡ç«¯çŸ¥é“è°å‘å‡ºçš„è¿™æ¬¡è¯·æ±‚ã€‚å¦‚æœä½ è¯·æ±‚äº†æ¥å£è¿›è¡Œç™»å½•ï¼ŒæœåŠ¡ç«¯éªŒè¯é€šè¿‡åä¼šåœ¨å“åº”å¤´åŠ å…¥Set-Cookieå­—æ®µï¼Œç„¶åä¸‹æ¬¡å†å‘è¯·æ±‚çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†cookieé™„åŠ åœ¨HTTPè¯·æ±‚çš„å¤´å­—æ®µCookieä¸­ï¼ŒæœåŠ¡ç«¯å°±èƒ½çŸ¥é“è¿™ä¸ªç”¨æˆ·å·²ç»ç™»å½•è¿‡äº†ã€‚çŸ¥é“è¿™ä¸ªä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹åœºæ™¯ï¼š 1.ä½ å‡†å¤‡å»æ¸…ç©ºä½ çš„è´­ç‰©è½¦ï¼Œäºæ˜¯æ‰“å¼€äº†ä¹°ä¹°ä¹°ç½‘ç«™www.maimaimai.comï¼Œç„¶åç™»å½•æˆåŠŸï¼Œä¸€çœ‹ï¼Œè´­ç‰©è½¦ä¸œè¥¿è¿™ä¹ˆå°‘ï¼Œä¸è¡Œï¼Œè¿˜å¾—ä¹°å¤šç‚¹ã€‚ 2.ä½ åœ¨çœ‹æœ‰ä»€ä¹ˆä¸œè¥¿ä¹°çš„è¿‡ç¨‹ä¸­ï¼Œä½ çš„å¥½åŸºå‹å‘ç»™ä½ ä¸€ä¸ªé“¾æ¥www.nidongde.comï¼Œä¸€è„¸yinç¬‘åœ°è·Ÿä½ è¯´ï¼šâ€œä½ æ‡‚çš„â€ï¼Œä½ æ¯«ä¸çŠ¹è±«æ‰“å¼€äº†ã€‚ 3.ä½ é¥¶æœ‰å…´è‡´åœ°æµè§ˆç€www.nidongde.comï¼Œè°çŸ¥è¿™ä¸ªç½‘ç«™æš—åœ°é‡Œåšäº†äº›ä¸å¯æè¿°çš„äº‹æƒ…ï¼ç”±äºæ²¡æœ‰åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œå®ƒå‘www.maimaimai.comå‘èµ·äº†è¯·æ±‚ï¼èªæ˜çš„ä½ ä¸€å®šæƒ³åˆ°ä¸Šé¢çš„è¯â€œæœåŠ¡ç«¯éªŒè¯é€šè¿‡åä¼šåœ¨å“åº”å¤´åŠ å…¥Set-Cookieå­—æ®µï¼Œç„¶åä¸‹æ¬¡å†å‘è¯·æ±‚çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†cookieé™„åŠ åœ¨HTTPè¯·æ±‚çš„å¤´å­—æ®µCookieä¸­â€ï¼Œè¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸ªä¸æ³•ç½‘ç«™å°±ç›¸å½“äºç™»å½•äº†ä½ çš„è´¦å·ï¼Œå¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†ï¼å¦‚æœè¿™ä¸æ˜¯ä¸€ä¸ªä¹°ä¹°ä¹°è´¦å·ï¼Œè€Œæ˜¯ä½ çš„é“¶è¡Œè´¦å·ï¼Œé‚£â€¦â€¦ 1.jsonp åœ¨HTMLæ ‡ç­¾é‡Œï¼Œä¸€äº›æ ‡ç­¾æ¯”å¦‚scriptã€imgè¿™æ ·çš„è·å–èµ„æºçš„æ ‡ç­¾æ˜¯æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å¹²ï¼š åœ¨å‘é€è¯·æ±‚çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾ï¼Œæ¥ç€æŠŠåœ¨è¯·æ±‚çš„å›è°ƒå‡½æ•°ä¸­ç§»é™¤è¿™ä¸ªæ ‡ç­¾</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> const script = document.createElement(&#39;script&#39;)
    // æ¥å£è¿”å›çš„æ•°æ®è·å–
    window.jsonpCb = (res) =&gt; {
      document.body.removeChild(script)
      delete window.jsonpCb
      resolve(res)
    }
    script.src = `${url}?${handleData(data)}&amp;cb=jsonpCb`
    document.body.appendChild(script)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="https://www.cnblogs.com/leegent/p/7499532.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/leegent/p/7499532.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 2.ç©ºiframeåŠ form ç»†å¿ƒçš„æœ‹å‹å¯èƒ½å‘ç°ï¼ŒJSONPåªèƒ½å‘GETè¯·æ±‚ï¼Œå› ä¸ºæœ¬è´¨ä¸ŠscriptåŠ è½½èµ„æºå°±æ˜¯GETï¼Œé‚£ä¹ˆå¦‚æœè¦å‘POSTè¯·æ±‚æ€ä¹ˆåŠå‘¢ï¼Ÿ é€šè¿‡formæ¥å‘é€postè¯·æ±‚ 3.cors ä¸€ï¼šç®€å•çš„è·¨åŸŸè¯·æ±‚ï¼Œæµç¨‹å¦‚ä¸‹</p><p>ç½‘é¡µï¼šå½“HTTPè¯·æ±‚åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤ç§æƒ…å†µæ—¶ï¼Œæµè§ˆå™¨è®¤ä¸ºæ˜¯ç®€å•è·¨è¯·æ±‚</p><p>1)ï¼Œè¯·æ±‚çš„æ–¹æ³•æ˜¯getï¼Œheadæˆ–è€…postï¼ŒåŒæ—¶Content-Typeæ˜¯application/x-www-form-urlencoded, multipart/form-data æˆ– text/plainä¸­çš„ä¸€ä¸ªå€¼ï¼Œæˆ–è€…ä¸è®¾ç½®ä¹Ÿå¯ä»¥ï¼Œä¸€èˆ¬é»˜è®¤å°±æ˜¯application/x-www-form-urlencodedã€‚</p><p>2)ï¼Œè¯·æ±‚ä¸­æ²¡æœ‰è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨ï¼Œå¦‚x-tokenã€‚(åº”è¯¥æ˜¯è¿™å‡ ç§å¤´éƒ¨ Acceptï¼ŒAccept-Languageï¼ŒContent-Languageï¼ŒLast-Event-IDï¼ŒContent-Typeï¼‰</p><p>æµè§ˆå™¨ï¼šæŠŠå®¢æˆ·ç«¯è„šæœ¬æ‰€åœ¨çš„åŸŸå¡«å……åˆ°Origin headeré‡Œï¼Œå‘å…¶ä»–åŸŸçš„æœåŠ¡å™¨è¯·æ±‚èµ„æºã€‚</p><p>æœåŠ¡å™¨ï¼šæ ¹æ®èµ„æºæƒé™é…ç½®ï¼Œåœ¨å“åº”å¤´ä¸­æ·»åŠ Access-Control-Allow-Origin Headerï¼Œè¿”å›ç»“æœ</p><p>æµè§ˆå™¨ï¼šè§‚å¯ŸæœåŠ¡å™¨æ˜¯å¦æœ‰è¿”å›Access-Control-Allow-Origin Headerä»¥åŠAccess-Control-Allow-Origin Headeræ˜¯å¦ä¸originç›¸åŒ,å¦‚æœæ˜¯ï¼Œåˆ™æ¥å—è¿™ä¸ªå†…å®¹ã€‚å¦åˆ™æµè§ˆå™¨å¿½ç•¥æ­¤æ¬¡å“åº”ã€‚ äºŒï¼šå¸¦é¢„æ£€(Preflighted)çš„è·¨åŸŸè¯·æ±‚ï¼Œæµç¨‹å¦‚ä¸‹</p><p>ç½‘é¡µï¼šå½“HTTPè¯·æ±‚å‡ºç°ä»¥ä¸‹ä¸¤ç§æƒ…å†µæ—¶ä¹‹ä¸€ï¼Œæµè§ˆå™¨è®¤ä¸ºæ˜¯å¸¦é¢„æ£€(Preflighted)çš„è·¨åŸŸè¯·æ±‚ï¼š</p><p>1ï¼‰ï¼Œè¯·æ±‚çš„æ–¹æ³•ä¸æ˜¯ GET, HEADæˆ–è€…POSTä¸‰ç§ï¼Œæˆ–è€…æ˜¯è¿™ä¸‰ç§ï¼Œä½†æ˜¯Content-Typeä¸æ˜¯application/x-www-form-urlencoded, multipart/form-dataæˆ–text/plainä¸­çš„ä¸€ç§ã€‚</p><p>2ï¼‰ï¼Œè¯·æ±‚ä¸­æœ‰è‡ªå®šä¹‰HTTPå¤´éƒ¨ã€‚</p><p>æµè§ˆå™¨ï¼šå‘ç°è¯·æ±‚å±äºä»¥ä¸Šä¸¤ç§æƒ…å†µï¼Œå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªOPTIONSé¢„æ£€è¯·æ±‚ï¼Œæ£€æµ‹æœåŠ¡å™¨ç«¯æ˜¯å¦æ”¯æŒçœŸå®è¯·æ±‚è¿›è¡Œè·¨åŸŸèµ„æºè®¿é—®ï¼Œæµè§ˆå™¨ä¼šåœ¨å‘é€OPTIONSè¯·æ±‚æ—¶ä¼šè‡ªåŠ¨æ·»åŠ Origin Header ã€Access-Control-Request-Method Header(å°†å®é™…è¯·æ±‚çš„æ–¹æ³•å‘Šè¯‰æœåŠ¡å™¨)å’ŒAccess-Control-Request-Headers Headerã€‚</p><p>æœåŠ¡å™¨ï¼šå“åº”OPTIONSè¯·æ±‚ï¼Œä¼šåœ¨responseHeaderé‡Œæ·»åŠ Access-Control-Allow-Methods headã€‚è¿™å…¶ä¸­çš„methodçš„å€¼æ˜¯æœåŠ¡å™¨ç»™çš„é»˜è®¤å€¼ï¼Œå¯èƒ½ä¸åŒçš„æœåŠ¡å™¨æ·»åŠ çš„å€¼ä¸ä¸€æ ·ã€‚æœåŠ¡å™¨è¿˜ä¼šæ·»åŠ Access-Control-Allow-Origin Headerå’ŒAccess-Control-Allow-Headers Headerã€‚è¿™äº›å–å†³äºæœåŠ¡å™¨å¯¹OPTIONSè¯·æ±‚å…·ä½“å¦‚ä½•åšå‡ºå“åº”ã€‚å¦‚æœæœåŠ¡å™¨å¯¹OPTIONSå“åº”ä¸åˆä½ çš„è¦æ±‚ï¼Œä½ å¯ä»¥æ‰‹åŠ¨åœ¨æœåŠ¡å™¨é…ç½®OPTIONSå“åº”ï¼Œä»¥åº”å¯¹å¸¦é¢„æ£€çš„è·¨åŸŸè¯·æ±‚ã€‚åœ¨é…ç½®æœåŠ¡å™¨OPTIONSçš„å“åº”æ—¶ï¼Œå¯ä»¥æ·»åŠ Access-Control-Max-Age headå‘Šè¯‰æµè§ˆå™¨åœ¨ä¸€å®šæ—¶é—´å†…æ— éœ€å†æ¬¡å‘é€é¢„æ£€è¯·æ±‚ï¼Œä½†æ˜¯å¦‚æœæµè§ˆå™¨ç¦ç”¨ç¼“å­˜åˆ™æ— æ•ˆã€‚</p><p>æµè§ˆå™¨ï¼šæ¥åˆ°OPTIONSçš„å“åº”ï¼Œå…ˆåˆ¤æ–­çŠ¶æ€ç æ˜¯ä¸æ˜¯200ï¼Œæ¯”è¾ƒçœŸå®è¯·æ±‚çš„methodæ˜¯å¦å±äºè¿”å›çš„Access-Control-Allow-Methods headçš„å€¼ä¹‹ä¸€ï¼Œè¿˜æœ‰origin, headä¹Ÿä¼šè¿›è¡Œæ¯”è¾ƒæ˜¯å¦åŒ¹é…ã€‚å¦‚æœé€šè¿‡ï¼Œæµè§ˆå™¨å°±ç»§ç»­å‘æœåŠ¡å™¨å‘é€çœŸå®è¯·æ±‚ã€‚ å¦åˆ™å°±ä¼šæŠ¥é¢„æ£€é”™è¯¯ï¼Œå¦‚ä¸‹å‡ ç§ï¼š</p><p>è¯·æ±‚æ¥æºä¸è¢«optionså“åº”å…è®¸ï¼šFailed to load...Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin http://127.0.0.1:8080 is therefore not allowed access.</p><p>è¯·æ±‚æ–¹æ³•ä¸è¢«optionså“åº”å…è®¸ï¼šMethod PUT is not allowed by Access-Control-Allow-Methods in preflight response.</p><p>è¯·æ±‚ä¸­æœ‰è‡ªå®šä¹‰headerä¸è¢«optionså“åº”å…è®¸ï¼šFailed to load... Request header field myHeader is not allowed by Access-Control-Allow-Headers in preflight response.</p><p>æœåŠ¡å™¨ï¼šå“åº”çœŸå®è¯·æ±‚ï¼Œåœ¨å“åº”å¤´ä¸­æ”¾å…¥Access-Control-Allow-Origin Headerã€Access-Control-Allow-Methodså’ŒAccess-Control-Allow-Headers Headerï¼Œåˆ†åˆ«è¡¨ç¤ºå…è®¸è·¨åŸŸèµ„æºè¯·æ±‚çš„åŸŸã€è¯·æ±‚æ–¹æ³•å’Œè¯·æ±‚å¤´ï¼Œå¹¶è¿”å›æ•°æ®ã€‚(å¦‚æœæœåŠ¡å™¨å¯¹çœŸå®è¯·æ±‚çš„å“åº”å¦å¤–è®¾ç½®æœ‰Access-Control-Allow-Methodsï¼Œå®ƒçš„å€¼ä¸ä¼šç”Ÿæ•ˆï¼Œä¸ªäººç†è§£æ˜¯å› ä¸ºåˆšåˆšåœ¨æœåŠ¡å™¨å“åº”OPTIONSå“åº”æ—¶ï¼Œå°±å·²ç»éªŒè¯è¿‡çœŸå®è¯·æ±‚çš„methodæ˜¯å±äºAccess-Control-Allow-Methods headçš„å€¼ä¹‹ä¸€ï¼‰ã€‚ä¹Ÿå¯ä»¥åœ¨å“åº”çœŸå®è¯·æ±‚æ—¶æ·»åŠ Access-Control-Max-Age headã€‚</p><p>æµè§ˆå™¨ï¼šæ¥å—æœåŠ¡å™¨å¯¹çœŸå®è¯·æ±‚çš„è¿”å›ç»“æœï¼Œè¿”å›ç»™ç½‘é¡µ</p><p>ç½‘é¡µï¼šæ”¶åˆ°è¿”å›ç»“æœæˆ–è€…æµè§ˆå™¨çš„é”™è¯¯æç¤ºã€‚</p><p>ä¸ªäººç†è§£:ç®€å•è¯·æ±‚çš„è¯è¯·æ±‚çš„æ–¹æ³•å’Œè¯·æ±‚å¤´éƒ½æ˜¯å·²ç»æ»¡è¶³è¦æ±‚äº†çš„ï¼Œæ‰€ä»¥æœåŠ¡å™¨åªéœ€è¦å¯¹è¯·æ±‚åŸŸè¿›è¡Œè®¾ç½®ã€‚å¸¦é¢„æ£€çš„è·¨åŸŸè¯·æ±‚ç”±äºè¯·æ±‚æ–¹æ³•å’Œè¯·æ±‚å¤´éƒ½æ²¡æœ‰è¢«é™åˆ¶è¿‡å› æ­¤éœ€è¦å…ˆå‘é€optionsè¯·æ±‚å‘Šè¯‰æœåŠ¡å™¨æˆ‘ä»¬å®é™…å‘é€è¯·æ±‚çš„æ—¶å€™ä¼šä½¿ç”¨åˆ°ä»€ä¹ˆæ–¹æ³•ï¼Œå’Œheaderï¼Œæ¥ç€æœåŠ¡å™¨å°±ä¼šåœ¨å“åº”å¤´ä¸­å‘Šè¯‰æˆ‘ä»¬ä»–ä»¬å…è®¸ ä»€ä¹ˆæ–¹æ³• ä»€ä¹ˆåŸŸ ä»€ä¹ˆå¤´ã€‚ <img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/cors1.webp" alt="image"><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/cors2.webp" alt="image"></p><h2 id="nginxåå‘ä»£ç†" tabindex="-1"><a class="header-anchor" href="#nginxåå‘ä»£ç†" aria-hidden="true">#</a> nginxåå‘ä»£ç†</h2><h1 id="æ­£å‘ä»£ç†å’Œåå‘ä»£ç†" tabindex="-1"><a class="header-anchor" href="#æ­£å‘ä»£ç†å’Œåå‘ä»£ç†" aria-hidden="true">#</a> æ­£å‘ä»£ç†å’Œåå‘ä»£ç†</h1><p><a href="https://cloud.tencent.com/developer/article/1418457" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/article/1418457<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h1 id="class" tabindex="-1"><a class="header-anchor" href="#class" aria-hidden="true">#</a> Class</h1><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/class1.png" alt="image"></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>class Animal {

  constructor(name) {
    this.speed = 0;
    this.name = name;
  }

  run(speed) {
    this.speed += speed;
    alert(`${this.name} runs with speed ${this.speed}.`);
  }

  stop() {
    this.speed = 0;
    alert(`${this.name} stopped.`);
  }

}


// Inherit from Animal
class Rabbit extends Animal {
 constructor(name, earLength) {

    super(name);

    this.earLength = earLength;
  }//é‡å†™æ„é€ å‡½æ•°
  hide() {
    alert(`${this.name} hides!`);
  }
  stop(){
  	super.stop()//å¦‚æœæƒ³è°ƒç”¨ä¹‹å‰çš„æ–¹æ³•çš„è¯
  	this.hide()
  }//é‡å†™æ–¹æ³•
}


let rabbit = new Rabbit(&quot;White Rabbit&quot;);

rabbit.run(5); // White Rabbit runs with speed 5.
rabbit.hide(); // White Rabbit hides!
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç»§æ‰¿çš„å‡ ç§æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ç»§æ‰¿çš„å‡ ç§æ–¹æ³•" aria-hidden="true">#</a> ç»§æ‰¿çš„å‡ ç§æ–¹æ³•</h2><p><strong>1.åŸå‹é“¾ç»§æ‰¿</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>  //çˆ¶ç±»å‹
       function Person(name, age) {
           this.name = name,
           this.age = age,
           this.play = [1, 2, 3]
           this.setName = function () { }
       }
       Person.prototype.setAge = function () { }
       //å­ç±»å‹
       function Student(price) {
           this.price = price
           this.setScore = function () { }
       }
       Student.prototype = new Person() // å­ç±»å‹çš„åŸå‹ä¸ºçˆ¶ç±»å‹çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡
       var s1 = new Student(15000)
       var s2 = new Student(14000)
       console.log(s1,s2)

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/3174701-5d19207f790f301f.png" alt=""></p><p>å°†å­ç±»çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹ï¼Œå­ç±»çš„å®ä¾‹å°±å¯ä»¥é€šè¿‡<code>__proto__</code>è®¿é—®Student.prototypeä¹Ÿå°±æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œå†é€šè¿‡ä¸€æ¬¡<code>__protp__</code>å°±å¯ä»¥å¾—åˆ°çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•ã€‚</p><p>ä¸è¿‡ç”±äºStudentä¸åŒå®ä¾‹çš„åŸå‹æ˜¯åŒä¸€ä¸ªPresonå®ä¾‹ï¼Œå› æ­¤å¦‚æœä¿®æ”¹å®ä¾‹çš„å¼•ç”¨æ•°æ®ç±»å‹å°†ä¼šå½±å“åˆ°å…¶ä»–å­ç±»å®ä¾‹ã€‚</p><div class="language-sqf line-numbers-mode" data-ext="sqf"><pre class="language-sqf"><code>		s1<span class="token punctuation">.</span>play<span class="token punctuation">.</span>push<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
       	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>play<span class="token punctuation">,</span> s2<span class="token punctuation">.</span>play<span class="token punctuation">)</span>
       	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span><span class="token operator">=</span> s2<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//true</span>
       	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span><span class="token operator">=</span> s2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¿®æ”¹çš„ä¸æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå°†ä¼šç›´æ¥åœ¨å­ç±»ä¸Šæ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§ï¼Œå¹¶ä¸ä¼šå»åŸå‹é“¾ä¸ŠæŸ¥æ‰¾è¿™ä¸ªå±æ€§ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>s1.name=&#39;2&#39;
console.log(s1,s2)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20220223173105008.png" alt="image-20220223173105008"></p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>çˆ¶ç±»æ–°å¢åŸå‹æ–¹æ³•/åŸå‹å±æ€§ï¼Œå­ç±»éƒ½èƒ½è®¿é—®åˆ°</li><li>ç®€å•ï¼Œæ˜“äºå®ç°</li></ul><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ul><li>æ— æ³•å®ç°å¤šç»§æ‰¿</li><li>æ¥è‡ªåŸå‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«</li><li>åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚</li><li>è¦æƒ³ä¸ºå­ç±»æ–°å¢å±æ€§å’Œæ–¹æ³•ï¼Œå¿…é¡»è¦åœ¨<code>Student.prototype = new Person()</code> ä¹‹åæ‰§è¡Œï¼Œä¸èƒ½æ”¾åˆ°æ„é€ å™¨ä¸­</li></ul><p><strong>2.å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>function Woman(name){
 //ç»§æ‰¿äº†People
  People.call(this); //People.call(thisï¼Œ&#39;wangxiaoxia&#39;); 
  this.name = name || &#39;renbo&#39;
}
let womanObj = new Woman();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>èƒ½è¿™ä¹ˆåšçš„åŸç†åˆæ˜¯å¦å¤–ä¸€é“ç»å…¸é¢è¯•é¢˜ï¼š<code>newæ“ä½œç¬¦éƒ½åšäº†ä»€ä¹ˆ</code>ï¼Œå¾ˆç®€å•ï¼Œå°±<code>4</code>ç‚¹ï¼š</p><p>1.åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</p><p>2.æŠŠè¯¥å¯¹è±¡çš„<code>__proto__</code>å±æ€§æŒ‡å‘<code>Sub.prototype</code></p><p>3.è®©æ„é€ å‡½æ•°é‡Œçš„<code>this</code>æŒ‡å‘æ–°å¯¹è±¡ï¼Œç„¶åæ‰§è¡Œæ„é€ å‡½æ•°ï¼Œ</p><p>4.è¿”å›è¯¥å¯¹è±¡</p><p>æ‰€ä»¥<code>People.call(this)</code>çš„<code>this</code>æŒ‡çš„å°±æ˜¯è¿™ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œé‚£ä¹ˆå°±ä¼šæŠŠçˆ¶ç±»çš„å®ä¾‹å±æ€§/æ–¹æ³•éƒ½æ·»åŠ åˆ°è¯¥å¯¹è±¡ä¸Šã€‚</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>è§£å†³äº†åŸå‹é“¾ç»§æ‰¿ä¸­å­ç±»å®ä¾‹å…±äº«çˆ¶ç±»å¼•ç”¨å±æ€§çš„é—®é¢˜</li><li>åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°</li><li>å¯ä»¥å®ç°å¤šç»§æ‰¿(callå¤šä¸ªçˆ¶ç±»å¯¹è±¡)</li></ul><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ul><li>å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„ å®ä¾‹</li><li>åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§å’Œæ–¹æ³•</li><li>æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½</li></ul><p><strong>3.åŸå‹é“¾+å€Ÿç”¨æ„é€ å‡½æ•°çš„ç»„åˆç»§æ‰¿</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>		function Person(name, age) {
            this.name = name,
            this.age = age,
            this.setAge = function () { }
        }
        Person.prototype.setAge = function () {
            console.log(&quot;111&quot;)
        }
        function Student(name, age, price) {
            Person.call(this,name,age)
            this.price = price
            this.setScore = function () { }
        }
        Student.prototype = new Person()
        Student.prototype.constructor = Student
        //ç»„åˆç»§æ‰¿ä¹Ÿæ˜¯éœ€è¦ä¿®å¤æ„é€ å‡½æ•°æŒ‡å‘çš„ï¼Œå¦åˆ™s1.constructorä¼šæŒ‡å‘Person
        Student.prototype.sayHello = function () { }
        var s1 = new Student(&#39;Tom&#39;, 20, 15000)
        var s2 = new Student(&#39;Jack&#39;, 22, 14000)
        console.log(s1)
        console.log(s1.constructor) //Student
        console.log(p1.constructor) //Person
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>å¯ä»¥ç»§æ‰¿å®ä¾‹å±æ€§/æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•</li><li>ä¸å­˜åœ¨å¼•ç”¨å±æ€§å…±äº«é—®é¢˜</li><li>å¯ä¼ å‚</li><li>å‡½æ•°å¯å¤ç”¨</li></ul><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ul><li>è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹</li></ul><p><strong>4.ç»„åˆç»§æ‰¿ä¼˜åŒ–</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>       <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;111&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setScore</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype
		<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Student<span class="token comment">//è¿™é‡Œä¹Ÿéœ€è¦é‡æ–°æŒ‡æŒ¥Student</span>
        <span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
        <span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&#39;Tom&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">15000</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸çŸ¥é“å®ä¾‹æ˜¯å­ç±»è¿˜æ˜¯çˆ¶ç±»å®ä¾‹åŒ–</p><div class="language-arcade line-numbers-mode" data-ext="arcade"><pre class="language-arcade"><code>console.log(s1 instanceof Student, s1 instanceof Person)//true true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>ä¸ä¼šåˆå§‹åŒ–ä¸¤æ¬¡å®ä¾‹æ–¹æ³•/å±æ€§ï¼Œé¿å…çš„ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹</li></ul><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ul><li>æ²¡åŠæ³•è¾¨åˆ«æ˜¯å®ä¾‹æ˜¯å­ç±»è¿˜æ˜¯çˆ¶ç±»åˆ›é€ çš„ï¼Œå­ç±»å’Œçˆ¶ç±»çš„æ„é€ å‡½æ•°æŒ‡å‘æ˜¯åŒä¸€ä¸ªã€‚</li></ul><p><strong>åŸå‹å¼ç»§æ‰¿</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>function object( o ){
   var G = function(){};
   G.prototype = o;
   return new G();
  }
  var obj = {
   skills : [ &#39;php&#39;, &#39;javascript&#39; ]
  };
  var obj2 = object( obj );
  obj2.skills.push( &#39;python&#39; );
  var obj3 = object( obj );
  console.log( obj3.skills ); //php,javascript,python
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¯„ç”Ÿç»§æ‰¿</strong>ï¼ˆåœ¨åŸå‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸ŠåŠ äº†ä¸€å±‚å°è£…ï¼‰</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> var person={
    name:&#39;ccdida&#39;,
    friends:[&#39;shelly&#39;,&#39;Bob&#39;]
  }
  function createAnother(original){
    //clone.__proto__===original
    var clone=Object.create(original)
    //å¢å¼ºå¯¹è±¡ï¼Œæ·»åŠ å±äºè‡ªå·±çš„æ–¹æ³•
    clone.sayHi=function(){
      console.log(&#39;hi&#39;)
    }

    return clone

  }
  var person1=createAnother(person)
  var person2=createAnother(person)
  person1.friends.push(&#39;shmily&#39;)
  console.log(person2.friends)//[&quot;shelly&quot;, &quot;Bob&quot;,&quot;shmily&quot;]
  person1.sayHi() //hi
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>5.ç»„åˆç»§æ‰¿ä¼˜åŒ–2(ç»„åˆå¯„ç”Ÿç»§æ‰¿)</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">,</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
        <span class="token punctuation">}</span>
        <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;111&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setScore</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token comment">//æ ¸å¿ƒä»£ç ï¼ŒObject.create()ä¼šå°†è¿”å›çš„å¯¹è±¡çš„__proto__æŒ‡å‘å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°</span>
        <span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Student<span class="token comment">//æ ¸å¿ƒä»£ç </span>
        <span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&#39;Tom&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">15000</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">,</span> s1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span> <span class="token comment">// true true</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token comment">//Student</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>6.ES6ä¸­classçš„ç»§æ‰¿</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
            <span class="token comment">//è°ƒç”¨ç±»çš„æ„é€ æ–¹æ³•</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
                <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
            <span class="token punctuation">}</span>
            <span class="token comment">//å®šä¹‰ä¸€èˆ¬çš„æ–¹æ³•</span>
            <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•&quot;</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;kobe&#39;</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
        <span class="token comment">//å®šä¹‰ä¸€ä¸ªå­ç±»</span>
        <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> salary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token comment">//é€šè¿‡superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>salary <span class="token operator">=</span> salary
            <span class="token punctuation">}</span>
            <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//åœ¨å­ç±»è‡ªèº«å®šä¹‰æ–¹æ³•</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;è°ƒç”¨å­ç±»çš„æ–¹æ³•&quot;</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&#39;wade&#39;</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">1000000000</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
        s1<span class="token punctuation">.</span><span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es5å’Œes6ç»§æ‰¿çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#es5å’Œes6ç»§æ‰¿çš„åŒºåˆ«" aria-hidden="true">#</a> ES5å’ŒES6ç»§æ‰¿çš„åŒºåˆ«</h2><p>**åŒºåˆ«1ï¼š**ES6é‡Œçš„æ„é€ å‡½æ•°å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨newè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œè€ŒES6çš„classä¸èƒ½å½“ä½œæ™®é€šå‡½æ•°è°ƒç”¨ï¼Œå¿…é¡»ä½¿ç”¨newæ“ä½œç¬¦è°ƒç”¨ã€‚</p><p><strong>åŒºåˆ«2ï¼š</strong><code>ES5</code>çš„åŸå‹æ–¹æ³•å’Œé™æ€æ–¹æ³•é»˜è®¤æ˜¯å¯æšä¸¾çš„ï¼Œè€Œclassçš„é»˜è®¤ä¸å¯æšä¸¾ï¼Œå¦‚æœæƒ³è¦è·å–ä¸å¯æšä¸¾çš„å±æ€§å¯ä»¥ä½¿ç”¨<code>Object.getOwnPropertyNames</code>æ–¹æ³•</p><p>**åŒºåˆ«3ï¼š**å­ç±»å¯ä»¥ç›´æ¥é€šè¿‡<code>__proto__</code>æ‰¾åˆ°çˆ¶ç±»ï¼Œè€ŒES5æ˜¯æŒ‡å‘<code>Function.prototype</code>ï¼š</p><p>ES6ï¼š<code>Sub.__proto__ === Sup</code></p><p>ES5ï¼š<code>Sub.__proto__ === Function.prototype</code></p><p>**åŒºåˆ«4ï¼š**ES5çš„ç»§æ‰¿ï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ å­ç±»çš„å®ä¾‹å¯¹è±¡<code>this</code>ï¼Œç„¶åå†æ‰§è¡Œçˆ¶ç±»çš„æ„é€ å‡½æ•°ç»™å®ƒæ·»åŠ å®ä¾‹æ–¹æ³•å’Œå±æ€§(ä¸æ‰§è¡Œä¹Ÿæ— æ‰€è°“ï¼‰ã€‚è€ŒES6çš„ç»§æ‰¿æœºåˆ¶å®Œå…¨ä¸åŒï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡<code>this</code>ï¼ˆå½“ç„¶å®ƒçš„<code>__proto__</code>æŒ‡å‘çš„æ˜¯å­ç±»çš„<code>prototype</code>ï¼‰ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹<code>this</code>ã€‚</p><p>è¿™å°±æ˜¯ä¸ºå•¥ä½¿ç”¨<code>class</code>ç»§æ‰¿åœ¨<code>constructor</code>å‡½æ•°é‡Œå¿…é¡»è°ƒç”¨<code>super</code>ï¼Œå› ä¸ºå­ç±»å‹æ ¹æ²¡æœ‰è‡ªå·±çš„<code>this</code>ï¼Œå¦å¤–ä¸èƒ½åœ¨<code>super</code>æ‰§è¡Œå‰è®¿é—®<code>this</code>çš„åŸå› ä¹Ÿå¾ˆæ˜æ˜¾äº†ï¼Œå› ä¸ºè°ƒç”¨äº†<code>super</code>åï¼Œ<code>this</code>æ‰æœ‰å€¼ã€‚</p><p>**åŒºåˆ«5ï¼š**classä¸å­˜åœ¨å˜é‡æå‡ï¼Œæ‰€ä»¥çˆ¶ç±»å¿…é¡»åœ¨å­ç±»ä¹‹å‰å®šä¹‰</p><h1 id="vueåº•å±‚å®ç°åŸç†" tabindex="-1"><a class="header-anchor" href="#vueåº•å±‚å®ç°åŸç†" aria-hidden="true">#</a> Vueåº•å±‚å®ç°åŸç†</h1><h2 id="object-defineproperty" tabindex="-1"><a class="header-anchor" href="#object-defineproperty" aria-hidden="true">#</a> Object.defineProperty</h2><p>Object.defineProperty()çš„ä½œç”¨å°±æ˜¯ç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å±æ€§</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code>Object.<span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> desc<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>objï¼šå“ªä¸ªå¯¹è±¡ï¼Œ</p><p>propï¼šå“ªä¸ªå±æ€§ï¼Œ</p><p>descï¼šå±æ€§æè¿°ç¬¦</p><p>å±æ€§æè¿°ç¬¦æœ‰ä¸¤ç§</p><p>ç¬¬ä¸€ç§ï¼šæ•°æ®æè¿°ç¬¦</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">let</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span> &#39;name&#39;<span class="token punctuation">,</span> <span class="token punctuation">{</span>
   <span class="token keyword">value</span><span class="token punctuation">:</span> &#39;jack&#39;<span class="token punctuation">,</span>
   <span class="token named-parameter punctuation">writable</span><span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// æ˜¯å¦å¯ä»¥æ”¹å˜</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://upload-images.jianshu.io/upload_images/5016475-9cd41a36735b667d.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp" alt="img"></p><p>ç¬¬äºŒç§ï¼šå­˜å–æè¿°ç¬¦</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">let</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token keyword">null</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> temp
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    temp <span class="token operator">=</span> val
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>get:ç»™å±æ€§æä¾›getteræ–¹æ³•</p><p>setï¼šç»™å±æ€§æä¾›setteræ–¹æ³•</p><h2 id="æ•°æ®åŠ«æŒ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åŠ«æŒ" aria-hidden="true">#</a> æ•°æ®åŠ«æŒ</h2><p>vue.jsé‡‡ç”¨<strong>æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼</strong>çš„æ–¹å¼ï¼Œé€šè¿‡<strong>Object.defineProperty()æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterå’Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒ</strong>ã€‚</p><h1 id="ä¸¥æ ¼æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ä¸¥æ ¼æ¨¡å¼" aria-hidden="true">#</a> ä¸¥æ ¼æ¨¡å¼</h1><p>ä¸¥æ ¼æ¨¡å¼çš„å˜åŒ–é€šå¸¸åˆ†ä¸ºè¿™å‡ ç±»ï¼šå°†é—®é¢˜ç›´æ¥è½¬åŒ–ä¸ºé”™è¯¯ï¼ˆå¦‚è¯­æ³•é”™è¯¯æˆ–è¿è¡Œæ—¶é”™è¯¯ï¼‰, ç®€åŒ–äº†å¦‚ä½•ä¸ºç»™å®šåç§°çš„ç‰¹å®šå˜é‡è®¡ç®—ï¼Œç®€åŒ–äº† eval ä»¥åŠ arguments, å°†å†™&quot;å®‰å…¨â€œJavaScript çš„æ­¥éª¤å˜å¾—æ›´ç®€å•ï¼Œä»¥åŠæ”¹å˜äº†é¢„æµ‹æœªæ¥ ECMAScript è¡Œä¸ºçš„æ–¹å¼ã€‚</p><h2 id="_1-1å°†è¿‡å¤±è½¬åŒ–ä¸ºå¼‚å¸¸" tabindex="-1"><a class="header-anchor" href="#_1-1å°†è¿‡å¤±è½¬åŒ–ä¸ºå¼‚å¸¸" aria-hidden="true">#</a> 1.1å°†è¿‡å¤±è½¬åŒ–ä¸ºå¼‚å¸¸</h2><ul><li>ä¸¥æ ¼æ¨¡å¼ä¸‹æ— æ³•å†æ„å¤–åˆ›å»ºå…¨å±€å˜é‡ã€‚</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;use strict&quot;;
// ReferenceError
mistypedVaraible = 17;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸¥æ ¼æ¨¡å¼ä¼šä½¿å¼•èµ·é™é»˜å¤±è´¥çš„èµ‹å€¼æ“ä½œæŠ›å‡ºå¼‚å¸¸(ç»™ä¸å¯å†™å±æ€§èµ‹å€¼ï¼Œç»™åªè¯»å±æ€§èµ‹å€¼ï¼Œç»™ä¸å¯æ‹“å±•å¯¹è±¡çš„æ–°å±æ€§èµ‹å€¼)</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>var obj1 = {};
Object.defineProperty(obj1, &quot;x&quot;, { value: 42, writable: false });
obj1.x = 9; // æŠ›å‡ºTypeErroré”™è¯¯
// ç»™åªè¯»å±æ€§èµ‹å€¼
var obj2 = {
  get x() {
    return 17;
  },
};
obj2.x = 5; 
// ç»™ä¸å¯æ‰©å±•å¯¹è±¡çš„æ–°å±æ€§èµ‹å€¼
var fixed = {};
Object.preventExtensions(fixed);
fixed.newProp = &quot;ohai&quot;; // æŠ›å‡ºTypeErroré”™è¯¯
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹, è¯•å›¾åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸</li><li>ä¸¥æ ¼æ¨¡å¼è¦æ±‚å‡½æ•°çš„å‚æ•°åå”¯ä¸€ï¼ˆä¸¥æ ¼æ¨¡å¼è¦æ±‚å‡½æ•°çš„å‚æ•°åå”¯ä¸€ï¼‰</li><li>ä¸¥æ ¼æ¨¡å¼ç¦æ­¢å…«è¿›åˆ¶æ•°å­—è¯­æ³•ï¼Œåœ¨ ECMAScript 6 ä¸­æ”¯æŒä¸ºä¸€ä¸ªæ•°å­—åŠ &quot;0o&quot;çš„å‰ç¼€æ¥è¡¨ç¤ºå…«è¿›åˆ¶æ•°.</li><li>ECMAScript 6 ä¸­çš„ä¸¥æ ¼æ¨¡å¼ç¦æ­¢è®¾ç½® primitive å€¼çš„å±æ€§ï¼ˆfalse,æ•°å­—ï¼Œå­—ç¬¦ä¸²...ï¼‰</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> &quot;use strict&quot;;

  false.true = &quot;&quot;; //TypeError
  (14).sailing = &quot;home&quot;; //TypeError
  &quot;with&quot;.you = &quot;far away&quot;; //TypeError
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-2ç®€åŒ–å˜é‡çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-2ç®€åŒ–å˜é‡çš„ä½¿ç”¨" aria-hidden="true">#</a> 1.2ç®€åŒ–å˜é‡çš„ä½¿ç”¨</h2><ul><li><p>ä¸¥æ ¼æ¨¡å¼ç¦ç”¨ with</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>// withçš„ç”¨å¤„,ç”¨æ¥å»¶é•¿ä½œç”¨åŸŸé“¾ï¼Œä½†æ˜¯è²Œä¼¼æ²¡ä»€ä¹ˆå®è´¨æ€§çš„ç”¨å¤„
var people={
	name:&#39;lzc&#39;
}
function yanchang(){
	with(people){
		console.log(name)
	}
}
yanchang()//&#39;lzc&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¸¥æ ¼æ¨¡å¼ä¸‹ eval ä¸å†ä¸ºä¸Šå±‚èŒƒå›´å¼•å…¥æ–°å˜é‡</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;use strict&quot;
var x=1
eval(&quot;var x =42&quot;)//eval() å‡½æ•°ä¼šå°†ä¼ å…¥çš„å­—ç¬¦ä¸²å½“åš JavaScript ä»£ç è¿›è¡Œæ‰§è¡Œã€‚
console.log(x);//1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>var x=1
eval(&quot;var x =42&quot;)
console.log(x);//42
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¸¥æ ¼æ¨¡å¼ç¦æ­¢åˆ é™¤å£°æ˜å˜é‡</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;use strict&quot;;

var x;
delete x; // !!! è¯­æ³•é”™è¯¯
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-3è®©evalå’Œargumentså˜å¾—ç®€å•" tabindex="-1"><a class="header-anchor" href="#_1-3è®©evalå’Œargumentså˜å¾—ç®€å•" aria-hidden="true">#</a> 1.3è®©evalå’Œargumentså˜å¾—ç®€å•</h2><ul><li>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‚æ•°çš„å€¼ä¸ä¼šéš arguments å¯¹è±¡çš„å€¼çš„æ”¹å˜è€Œå˜åŒ–ã€‚</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;use strict&#39;
function a(b){
    b=1
    console.log(b,arguments[0]);
}
a(2)// 1 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>function a(b){
    b=1
    console.log(b,arguments[0]);
}
a(2)// 1 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>ä¸å†æ”¯æŒ arguments.callee</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;use strict&#39;
var f = function () {
    return arguments.callee;//å®ƒå¯ä»¥ç”¨äºå¼•ç”¨è¯¥å‡½æ•°çš„å‡½æ•°ä½“å†…å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°
  };
  console.log(f()); // æŠ›å‡ºç±»å‹é”™è¯¯ ,æ­£å¸¸æƒ…å†µè¿”å›f
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h2 id="_1-4-å®‰å…¨çš„javascript" tabindex="-1"><a class="header-anchor" href="#_1-4-å®‰å…¨çš„javascript" aria-hidden="true">#</a> 1.4 å®‰å…¨çš„javascript</h2><ul><li><p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹é€šè¿‡ this ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°çš„å€¼ä¸ä¼šè¢«å¼ºåˆ¶è½¬æ¢ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚</p></li><li><p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸­å†ä¹Ÿä¸èƒ½é€šè¿‡å¹¿æ³›å®ç°çš„ ECMAScript æ‰©å±•â€œæ¸¸èµ°äºâ€JavaScript çš„æ ˆä¸­ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>function restricted() {
  &quot;use strict&quot;;
  restricted.caller; // æŠ›å‡ºç±»å‹é”™è¯¯
  restricted.arguments; // æŠ›å‡ºç±»å‹é”™è¯¯
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¸¥æ ¼æ¨¡å¼ä¸‹çš„ arguments ä¸ä¼šå†æä¾›è®¿é—®ä¸è°ƒç”¨è¿™ä¸ªå‡½æ•°ç›¸å…³çš„å˜é‡çš„é€”å¾„ã€‚</p></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;use strict&quot;;
function fun(a, b) {
  &quot;use strict&quot;;
  var v = 12;
  return arguments.caller; // æŠ›å‡ºç±»å‹é”™è¯¯
}
fun(1, 2); // ä¸ä¼šæš´éœ²vï¼ˆæˆ–è€…aï¼Œæˆ–è€…bï¼‰
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-5-ä¸ºæœªæ¥çš„-ecmascript-ç‰ˆæœ¬é“ºå¹³é“è·¯" tabindex="-1"><a class="header-anchor" href="#_1-5-ä¸ºæœªæ¥çš„-ecmascript-ç‰ˆæœ¬é“ºå¹³é“è·¯" aria-hidden="true">#</a> 1.5 ä¸ºæœªæ¥çš„ ECMAScript ç‰ˆæœ¬é“ºå¹³é“è·¯</h2><ul><li><p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸­ä¸€éƒ¨åˆ†å­—ç¬¦å˜æˆäº†ä¿ç•™çš„å…³é”®å­—ã€‚</p></li><li><p>ä¸¥æ ¼æ¨¡å¼ç¦æ­¢äº†ä¸åœ¨è„šæœ¬æˆ–è€…å‡½æ•°å±‚é¢ä¸Šçš„å‡½æ•°å£°æ˜ã€‚</p></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;use strict&quot;;
if (true) {
  function f() {} // è¯­æ³•é”™è¯¯
  f();
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="ç½‘ç»œå®‰å…¨" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œå®‰å…¨" aria-hidden="true">#</a> ç½‘ç»œå®‰å…¨</h1><h2 id="csp" tabindex="-1"><a class="header-anchor" href="#csp" aria-hidden="true">#</a> CSP</h2><p>CSP çš„å®è´¨å°±æ˜¯ç™½åå•åˆ¶åº¦ï¼Œå¼€å‘è€…æ˜ç¡®å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå“ªäº›å¤–éƒ¨èµ„æºå¯ä»¥åŠ è½½å’Œæ‰§è¡Œï¼Œç­‰åŒäºæä¾›ç™½åå•ã€‚å®ƒçš„å®ç°å’Œæ‰§è¡Œå…¨éƒ¨ç”±æµè§ˆå™¨å®Œæˆï¼Œå¼€å‘è€…åªéœ€æä¾›é…ç½®ã€‚</p><p>CSP çš„ä¸»è¦ç›®æ ‡æ˜¯å‡å°‘å’ŒæŠ¥å‘Š XSS æ”»å‡» ï¼ŒXSS æ”»å‡»åˆ©ç”¨äº†æµè§ˆå™¨å¯¹äºä»æœåŠ¡å™¨æ‰€è·å–çš„å†…å®¹çš„ä¿¡ä»»ã€‚æ¶æ„è„šæœ¬åœ¨å—å®³è€…çš„æµè§ˆå™¨ä¸­å¾—ä»¥è¿è¡Œï¼Œå› ä¸ºæµè§ˆå™¨ä¿¡ä»»å…¶å†…å®¹æ¥æºï¼Œå³ä½¿æœ‰çš„æ—¶å€™è¿™äº›è„šæœ¬å¹¶éæ¥è‡ªäºå®ƒæœ¬è¯¥æ¥çš„åœ°æ–¹ã€‚</p><p>é™¤é™åˆ¶å¯ä»¥åŠ è½½å†…å®¹çš„åŸŸï¼ŒæœåŠ¡å™¨è¿˜å¯æŒ‡æ˜å“ªç§åè®®å…è®¸ä½¿ç”¨ï¼›æ¯”å¦‚ (ä»ç†æƒ³åŒ–çš„å®‰å…¨è§’åº¦æ¥è¯´)ï¼ŒæœåŠ¡å™¨å¯æŒ‡å®šæ‰€æœ‰å†…å®¹å¿…é¡»é€šè¿‡HTTPSåŠ è½½ã€‚</p><p>ä¸ºä½¿CSPå¯ç”¨, ä½ éœ€è¦é…ç½®ä½ çš„ç½‘ç»œæœåŠ¡å™¨è¿”å› Content-Security-Policy HTTPå¤´éƒ¨</p><p>é™¤æ­¤ä¹‹å¤–, <meta>å…ƒç´ ä¹Ÿå¯ä»¥è¢«ç”¨æ¥é…ç½®è¯¥ç­–ç•¥, ä¾‹å¦‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;; img-src https://*; child-src &#39;none&#39;;&quot;&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>åªå…è®¸åŠ è½½æœ¬ç«™èµ„æº</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Content-Security-Policy:default-src &#39;self&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>åªå…è®¸åŠ è½½ HTTPS åè®®å›¾ç‰‡</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Content-Security-Policy: img-src https://*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>å…è®¸åŠ è½½ä»»ä½•æ¥æºæ¡†æ¶</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Content-Security-Policy: child-src &#39;none&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h1 id="css" tabindex="-1"><a class="header-anchor" href="#css" aria-hidden="true">#</a> CSS</h1><h2 id="æ ‡å‡†ç›’æ¨¡å‹å’Œieç›’æ¨¡å‹çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#æ ‡å‡†ç›’æ¨¡å‹å’Œieç›’æ¨¡å‹çš„åŒºåˆ«" aria-hidden="true">#</a> æ ‡å‡†ç›’æ¨¡å‹å’Œieç›’æ¨¡å‹çš„åŒºåˆ«</h2><p>æ ‡å‡†ç›’æ¨¡å‹çš„çš„é«˜å®½å°±æ˜¯å†…å®¹çš„é«˜å®½ï¼Œieç›’æ¨¡å‹é«˜åº¦å’Œå®½åº¦æ˜¯å†…å®¹+padding+borderçš„æ€»å’Œ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>box-sizing:content-box;//æ ‡å‡†ç›’æ¨¡å‹
box-sizing:border-box;// ieç›’æ¨¡å‹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è¡Œå†…å…ƒç´ çš„marginå’Œpadding" tabindex="-1"><a class="header-anchor" href="#è¡Œå†…å…ƒç´ çš„marginå’Œpadding" aria-hidden="true">#</a> è¡Œå†…å…ƒç´ çš„marginå’Œpadding</h2><p>æ°´å¹³æ–¹å‘ï¼šæ°´å¹³æ–¹å‘ä¸Šï¼Œéƒ½æœ‰æ•ˆï¼›</p><p>å‚ç›´æ–¹å‘ï¼šå‚ç›´æ–¹å‘ä¸Šï¼Œéƒ½æ— æ•ˆï¼›ï¼ˆpadding-top å’Œ padding-bottom ä¼šæ˜¾ ç¤ºå‡ºæ•ˆæœï¼Œä½†æ˜¯é«˜åº¦ä¸ä¼šæ’‘å¼€ï¼Œä¸ä¼šå¯¹å‘¨å›´å…ƒç´ æœ‰å½±å“ï¼‰</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/12/19/167c55be3a1eecdb~tplv-t2oaga2asx-watermark.awebp" alt="image"></p><h2 id="ele-first-childçš„è¯¯è§£" tabindex="-1"><a class="header-anchor" href="#ele-first-childçš„è¯¯è§£" aria-hidden="true">#</a> Ele:first-childçš„è¯¯è§£</h2><p>å¾ˆå¤šäººè®¤ä¸º:first-childæ˜¯Eleå…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ ã€‚æˆ–è€…æ˜¯è®¤ä¸ºé€‰ä¸­Eleå…ƒç´ çš„çˆ¶å…ƒç´ çš„ç¬¬ä¸€ä¸ªEleå…ƒç´ ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;!--è¯¯è§£ä¸€--&gt;
&lt;style&gt;
div:first-child{color: red;}
&lt;/style&gt;

&lt;div class=&quot;demo&quot;&gt;
&lt;a&gt;ä¸€ä¸ªé“¾æ¥&lt;/a&gt;
&lt;a&gt;ä¸€ä¸ªé“¾æ¥&lt;/a&gt;
&lt;a&gt;ä¸€ä¸ªé“¾æ¥&lt;/a&gt;
&lt;a&gt;ä¸€ä¸ªé“¾æ¥&lt;/a&gt;
&lt;/div&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;!--è¯¯è§£äºŒ--&gt;
&lt;style&gt;
div a:first-child{color: red;}
&lt;/style&gt;

&lt;div class=&quot;demo&quot;&gt;
&lt;p&gt;ä¸€ä¸ªæ®µè½&lt;/p&gt;
&lt;a&gt;ä¸€ä¸ªé“¾æ¥&lt;/a&gt;
&lt;a&gt;ä¸€ä¸ªé“¾æ¥&lt;/a&gt;
&lt;a&gt;ä¸€ä¸ªé“¾æ¥&lt;/a&gt;
&lt;a&gt;ä¸€ä¸ªé“¾æ¥&lt;/a&gt;
&lt;/div&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£ç¡®çš„ç†è§£åº”è¯¥æ˜¯ï¼š<strong>åªè¦Eleå…ƒç´ æ˜¯å®ƒçš„çˆ¶çº§çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ ï¼Œå°±é€‰ä¸­</strong>ã€‚</p><h2 id="å•è¡Œå¤šè¡Œæ–‡æœ¬çœç•¥" tabindex="-1"><a class="header-anchor" href="#å•è¡Œå¤šè¡Œæ–‡æœ¬çœç•¥" aria-hidden="true">#</a> å•è¡Œå¤šè¡Œæ–‡æœ¬çœç•¥</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>.line{
      display: inline-block;
      width: 50px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }
  //å¤šè¡Œ
    .multi-line {
      display: -webkit-box;
      width: 50px;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 2;
      overflow: hidden;
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>-webkit-box-orient å’Œ-webkit-line-clampæ˜¯webkitæ˜¯chromeã€safariç§æœ‰å±æ€§ï¼Œwebkitæ˜¯ç”¨æ¥æµè§ˆå™¨ç»˜åˆ¶ç½‘é¡µçš„æ’ç‰ˆå¼•æ“ï¼Œå› æ­¤éœ€è¦display:-webkit-box;</p><h2 id="css3æ–°ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#css3æ–°ç‰¹æ€§" aria-hidden="true">#</a> CSS3æ–°ç‰¹æ€§</h2><ul><li>border-radius</li><li>box-shadow</li><li>border-image</li><li>background-clipã€background-originã€background-sizeå’Œbackground-break</li><li>word-wrap</li><li>text-overflow</li><li>text-decoration</li><li>rgbaã€hala</li><li>transition</li><li>animation</li><li>linear-gradientã€linear-gradient</li><li>flexã€grid</li></ul><h2 id="grid" tabindex="-1"><a class="header-anchor" href="#grid" aria-hidden="true">#</a> grid</h2><p><code>grid-template-columns</code> å±æ€§è®¾ç½®åˆ—å®½ï¼Œ<code>grid-template-rows</code> å±æ€§è®¾ç½®è¡Œé«˜</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>.wrapper {
  display: grid;
  /*  å£°æ˜äº†ä¸‰åˆ—ï¼Œå®½åº¦åˆ†åˆ«ä¸º 200px 100px 200px */
  grid-template-columns: 200px 100px 200px;
  grid-gap: 5px;
  /*  å£°æ˜äº†ä¸¤è¡Œï¼Œè¡Œé«˜åˆ†åˆ«ä¸º 50px 50px  */
  grid-template-rows: 50px 50px;//ä¹Ÿå¯ä»¥ç”¨repeat(2,50px)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>autofill</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>.wrapper-2 {
  display: grid;
  grid-template-columns: repeat(auto-fill, 200px);//ä¸ç®¡æœ‰å‡ ä¸ªï¼Œåªè¦èƒ½æ”¾å¾—ä¸‹å°±æ”¾ç€å…ƒç´ 
  grid-gap: 5px;
  grid-auto-rows: 50px;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>fr</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>.wrapper-3 {
  display: grid;
  grid-template-columns: 200px 1fr 2fr;//ç½‘æ ¼å®¹å™¨å‰©ä½™å¯ç”¨ç©ºé—´çš„ä¸€ç­‰ä»½
  grid-gap: 5px;
  grid-auto-rows: 50px;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€‚ã€‚ã€‚</p><h2 id="ä¼ªç±»ä¼ªå…ƒç´ " tabindex="-1"><a class="header-anchor" href="#ä¼ªç±»ä¼ªå…ƒç´ " aria-hidden="true">#</a> ä¼ªç±»ä¼ªå…ƒç´ </h2><p>1ã€ä¼ªç±»æ˜¯ç±»ï¼Œæ‰€ä»¥è·Ÿcssé€‰æ‹©å™¨æœ‰å…³ï¼Œä¸å­˜åœ¨ä¸domä¸­ 2ã€CSSä¼ªç±»æ˜¯ç”¨æ¥æ·»åŠ ä¸€äº›é€‰æ‹©å™¨çš„ç‰¹æ®Šæ•ˆæœçš„ 3ã€ä¼ªç±»å‰é¢ä¹‹åä¸€ä¸ªå†’å·**:first-child**</p><p>ä¼ªå…ƒç´ æ˜¯åˆ›é€ æ–‡æ¡£æ ‘ä¹‹å¤–çš„å¯¹è±¡ã€‚ä¼ªå…ƒç´ ä¹Ÿæ˜¯å…ƒç´ ï¼Œåªä¸è¿‡ä¸å­˜åœ¨ä¸domå¯¹è±¡ä¸­ï¼Œä½†æ˜¯æµè§ˆå™¨å®¡æŸ¥å…ƒç´ çš„æ—¶å€™èƒ½çœ‹å¾—åˆ°çš„ï¼Œæ¯”å¦‚::before ::after</p><h2 id="position-sticky" tabindex="-1"><a class="header-anchor" href="#position-sticky" aria-hidden="true">#</a> position:sticky</h2><p>stickyå±æ€§æ˜¯relativeå’Œfixedçš„ç»“åˆï¼Œä½ å¯ä»¥è®¾ç½®topï¼Œbottomï¼Œleftï¼Œrightå®ç°ç²˜æ»çš„æ•ˆæœï¼Œstickyçš„ä»»æ„çˆ¶å…ƒç´ å¿…é¡»æ˜¯overflow:visible,å¦‚æœæ˜¯overflow:hiddenï¼Œé‚£ä¹ˆè¯¥çˆ¶å…ƒç´ æ— æ³•æ»šåŠ¨ã€‚stickyä¼šç›¸å¯¹ä¸Šä¸€ä¸ªå®šä½è¿‡çš„çˆ¶å…ƒç´ è¿›è¡Œå®šä½</p><h2 id="transition-animation-transform" tabindex="-1"><a class="header-anchor" href="#transition-animation-transform" aria-hidden="true">#</a> transition animation transform</h2><h3 id="transition" tabindex="-1"><a class="header-anchor" href="#transition" aria-hidden="true">#</a> transition</h3><p>transitionæŒ‡çš„æ˜¯è¿‡æ¸¡ï¼Œä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„è¿‡æ¸¡ï¼Œå¦‚æœä¸è®¾ç½®transitionå°±ä¼šåƒå¹³å¸¸ä¸€æ ·çŠ¶æ€æ—¶ç¬é—´å˜åŒ–çš„ï¼Œtransitionå°±æ˜¯åšäº†ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„è¿‡æ¸¡ï¼Œå¯ä»¥æŒ‡å®šè¿‡æ¸¡çš„å±æ€§(transition-property)ï¼Œè¿‡æ¸¡çš„æ—¶é—´(transition-duration)ï¼Œå»¶è¿Ÿè¿‡æ¸¡çš„æ—¶é—´(transition-delay),è¿‡æ¸¡åŠ¨ç”»ç±»å‹(transition-timing-function:linear(çº¿æ€§è¿‡æ¸¡),ease-in(ç”±æ…¢åˆ°å¿«),ease-out(ç”±å¿«åˆ°æ…¢),ease-in-out(ç”±æ…¢åˆ°å¿«å†åˆ°æ…¢))</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> transition: background-color 0.3s ease;//å¯ä»¥å’Œåœ¨ä¸€èµ·å†™
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="transform" tabindex="-1"><a class="header-anchor" href="#transform" aria-hidden="true">#</a> transform</h3><p><code>transform</code>å°±æ˜¯æŒ‡çš„è¿™ä¸ªä¸œè¥¿ï¼Œæ‹‰ä¼¸(scale)ï¼Œå€¾æ–œ(skew)ï¼Œæ—‹è½¬(rotate)ï¼Œåç§» (translate)</p><p>è¿˜å¯ä»¥å®ç°3då˜åŒ–</p><h3 id="animation" tabindex="-1"><a class="header-anchor" href="#animation" aria-hidden="true">#</a> animation</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@keyframes pulse {
  0%, 100% {
    background-color: yellow;
  }
  50% {
    background-color: red;
  }
}// å¯ä»¥é€šè¿‡@keyframesæ¥å®šä¹‰åŠ¨ç”»ï¼Œ0%è¡¨ç¤ºåŠ¨ç”»çš„åˆå§‹çŠ¶æ€ï¼Œ100%è¡¨ç¤ºåŠ¨ç”»çš„æœ€ç»ˆçŠ¶æ€ï¼Œå¯ä»¥åœ¨ä¸­é—´æ·»åŠ å…³é”®å¸§æ¯”å¦‚50%
// æŸä¸ªå…ƒç´ æƒ³è¦ç”¨è¿™ä¸ªåŠ¨ç”»çš„è¯å°±å¯ä»¥æ·»åŠ animation-name:pulse
// animationæ˜¯ä»¥ä¸‹å±æ€§çš„ç®€å†™æ–¹å¼
// animation-name: æŒ‡å®šä¸€ä¸ª @keyframes çš„åç§°ï¼ŒåŠ¨ç”»å°†è¦ä½¿ç”¨è¿™ä¸ª@keyframeså®šä¹‰ã€‚
// animation-duration: æ•´ä¸ªåŠ¨ç”»éœ€è¦çš„æ—¶é•¿ã€‚
// animation-timing-function: åŠ¨ç”»è¿›è¡Œä¸­çš„æ—¶é€Ÿæ§åˆ¶ï¼Œæ¯”å¦‚ ease æˆ– linear.
// animation-delay: åŠ¨ç”»å»¶è¿Ÿæ—¶é—´ã€‚
// animation-direction: åŠ¨ç”»é‡å¤æ‰§è¡Œæ—¶è¿åŠ¨çš„æ–¹å‘ã€‚normalæ¯æ¬¡åŠ¨ç”»ç»“æŸåŠ¨ç”»é‡ç½®åˆ°èµ·ç‚¹é‡æ–°å¼€å§‹ï¼ŒalternateåŠ¨ç”»äº¤æ›¿è¿›è¡Œï¼Œreverseåå‘è¿›è¡Œï¼Œalternate-reverseåŠ¨ç”»äº¤æ›¿è¿›è¡Œä½†ç¬¬ä¸€æ¬¡æ—¶åå‘çš„
// animation-iteration-count: åŠ¨ç”»å¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°ã€‚
// animation-fill-mode: è®¾ç½®åŠ¨ç”»æ‰§è¡Œå®Œæˆå(æ˜¯å¦ä¿ç•™æœ€åä¸€å¸§çŠ¶æ€)forwards/å¼€å§‹æ‰§è¡Œå‰çš„çŠ¶æ€(æ˜¯å¦åº”ç”¨ç¬¬ä¸€å¸§çŠ¶æ€)backwordsï¼Œæ¯”å¦‚ï¼Œä½ å¯ä»¥è®©åŠ¨ç”»æ‰§è¡Œå®Œæˆååœç•™åœ¨æœ€åä¸€å¹•ï¼Œæˆ–æ¢å¤åˆ°åˆå§‹çŠ¶æ€ã€‚
// animation-play-state: æš‚åœ/å¯åŠ¨åŠ¨ç”»ã€‚
// å› æ­¤æˆ‘ä»¬å¦‚æœæƒ³ç»™æŸä¸ªå…ƒç´ æ·»åŠ åŠ¨ç”»
.element{
	animation: 
        pulse
        1.5s
        ease-out
        0
        alternate
        infinite
        none
        running;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="å‰ç«¯æ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#å‰ç«¯æ€§èƒ½ä¼˜åŒ–" aria-hidden="true">#</a> å‰ç«¯æ€§èƒ½ä¼˜åŒ–</h1><ul><li>å‡å°‘httpè¯·æ±‚</li><li>é™æ€èµ„æºä½¿ç”¨cdn</li><li>cssæ–‡ä»¶æ”¾åœ¨å¤´éƒ¨ï¼Œjsæ–‡ä»¶æ”¾åœ¨åº•éƒ¨</li><li>ä½¿ç”¨iconfontä»£æ›¿å›¾ç‰‡å›¾æ ‡</li><li>å–„ç”¨ç¼“å­˜</li><li>ç”¨æ’ä»¶å‹ç¼©æ–‡ä»¶(webpack)</li><li>å›¾ç‰‡æ‡’åŠ è½½(å›¾ç‰‡å‡ºç°åœ¨å¯è§†åŒºåŸŸå†åŠ è½½)</li><li>é™ä½å›¾ç‰‡è´¨é‡(ä½¿ç”¨æ’ä»¶å‹ç¼©)</li><li>å°½é‡ä½¿ç”¨css3æ•ˆæœä»£æ›¿å›¾ç‰‡</li><li>ä½¿ç”¨webpæ ¼å¼çš„å›¾ç‰‡</li><li>é€šè¿‡webpackæŒ‰éœ€åŠ è½½ä»£ç </li><li>å‡å°‘å›æµé‡ç»˜</li><li>ä½¿ç”¨äº‹ä»¶å§”æ‰˜</li><li>ä½¿ç”¨flexå¸ƒå±€è€Œä¸æ˜¯è¾ƒæ—©çš„å¸ƒå±€æ¨¡å‹</li></ul><h1 id="js" tabindex="-1"><a class="header-anchor" href="#js" aria-hidden="true">#</a> JS</h1><h2 id="async-await-å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥" tabindex="-1"><a class="header-anchor" href="#async-await-å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥" aria-hidden="true">#</a> Async/await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥</h2><p>Async/Await æ˜¯ä¸€ä¸ªè‡ªæ‰§è¡Œçš„ generate å‡½æ•°ã€‚åˆ©ç”¨ generate å‡½æ•°çš„ç‰¹æ€§æŠŠå¼‚æ­¥çš„ ä»£ç å†™æˆâ€œåŒæ­¥â€çš„å½¢å¼ã€‚</p><h3 id="generator" tabindex="-1"><a class="header-anchor" href="#generator" aria-hidden="true">#</a> Generator</h3><p>Generator å‡½æ•°æ˜¯åç¨‹åœ¨ ES6 çš„å®ç°ï¼Œæœ€å¤§ç‰¹ç‚¹å°±æ˜¯å¯ä»¥äº¤å‡ºå‡½æ•°çš„æ‰§è¡Œæƒï¼ˆå³æš‚åœæ‰§è¡Œï¼‰ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>function* gen(x){
  var y = yield x + 2;
  return y;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Generatorå‡½æ•°ä¸åŒäºå…¶ä»–å‡½æ•°æ˜¯å¯ä»¥æš‚åœæ‰§è¡Œçš„ï¼Œæ‰€ä»¥å‡½æ•°åä¹‹å‰è¦åŠ æ˜Ÿå·ï¼Œä»¥ç¤ºåŒºåˆ«ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>var g = gen(1);
g.next() // { value: 3, done: false }
g.next() // { value: undefined, done: true }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œè°ƒç”¨ Generator å‡½æ•°ï¼Œä¼šè¿”å›ä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆï¼ˆå³éå†å™¨ï¼‰g ã€‚è¿™æ˜¯ Generator å‡½æ•°ä¸åŒäºæ™®é€šå‡½æ•°çš„å¦ä¸€ä¸ªåœ°æ–¹ï¼Œå³æ‰§è¡Œå®ƒä¸ä¼šè¿”å›ç»“æœï¼Œè¿”å›çš„æ˜¯æŒ‡é’ˆå¯¹è±¡ã€‚è°ƒç”¨æŒ‡é’ˆ g çš„ next æ–¹æ³•ï¼Œä¼šç§»åŠ¨å†…éƒ¨æŒ‡é’ˆï¼ˆå³æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„ç¬¬ä¸€æ®µï¼‰ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªé‡åˆ°çš„ yield è¯­å¥ï¼Œä¸Šä¾‹æ˜¯æ‰§è¡Œåˆ° x + 2 ä¸ºæ­¢ã€‚</p><p>æ¢è¨€ä¹‹ï¼Œnext æ–¹æ³•çš„ä½œç”¨æ˜¯åˆ†é˜¶æ®µæ‰§è¡Œ Generator å‡½æ•°ã€‚æ¯æ¬¡è°ƒç”¨ next æ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºå½“å‰é˜¶æ®µçš„ä¿¡æ¯ï¼ˆ value å±æ€§å’Œ done å±æ€§ï¼‰ã€‚value å±æ€§æ˜¯ yield è¯­å¥åé¢è¡¨è¾¾å¼çš„å€¼ï¼Œè¡¨ç¤ºå½“å‰é˜¶æ®µçš„å€¼ï¼›done å±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Generator å‡½æ•°æ˜¯å¦æ‰§è¡Œå®Œæ¯•ï¼Œå³æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚</p><h2 id="éšå¼ç±»å‹è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#éšå¼ç±»å‹è½¬æ¢" aria-hidden="true">#</a> éšå¼ç±»å‹è½¬æ¢</h2><h3 id="æ•°å­¦è¿ç®—ç¬¦ä¸­çš„ç±»å‹è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#æ•°å­¦è¿ç®—ç¬¦ä¸­çš„ç±»å‹è½¬æ¢" aria-hidden="true">#</a> æ•°å­¦è¿ç®—ç¬¦ä¸­çš„ç±»å‹è½¬æ¢</h3><p><strong>1.å‡ä¹˜é™¤</strong></p><p>å¯¹éNumberç±»å‹è¿ç”¨<code>- * /</code>æ—¶ï¼Œä¼šå…ˆå°†éNumberç±»å‹è½¬æ¢ä¸ºNumberç±»å‹</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">-</span> <span class="token boolean">true</span> <span class="token comment">// 0ï¼Œ é¦–å…ˆæŠŠ true è½¬æ¢ä¸ºæ•°å­— 1ï¼Œ ç„¶åæ‰§è¡Œ 1 - 1</span>
<span class="token number">1</span> <span class="token operator">-</span> <span class="token keyword">null</span> <span class="token comment">// 1,  é¦–å…ˆæŠŠ null è½¬æ¢ä¸ºæ•°å­— 0ï¼Œ ç„¶åæ‰§è¡Œ 1 - 0</span>
<span class="token number">1</span> <span class="token operator">*</span> <span class="token keyword">undefined</span> <span class="token comment">//  NaN, undefined è½¬æ¢ä¸ºæ•°å­—æ˜¯ NaN</span>
<span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token string">&#39;5&#39;</span><span class="token punctuation">]</span> <span class="token comment">//  10ï¼Œ [&#39;5&#39;]é¦–å…ˆä¼šå˜æˆ &#39;5&#39;, ç„¶åå†å˜æˆæ•°å­— 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2.åŠ æ³•</strong></p><p>ç”±äº<code>+</code>å¯ä»¥ç”¨æ¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œå› æ­¤åŠ æ³•æ¯”è¾ƒç‰¹æ®Šã€‚</p><ul><li><p>å½“ä¸€ä¾§ä¸º<code>String</code> ç±»å‹æ—¶ï¼Œè¢«è¯†åˆ«ä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¹¶ä¼šä¼˜å…ˆå°†å¦ä¸€ä¾§è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</p></li><li><p>å½“ä¸€ä¾§ä¸º<code>Number</code>ç±»å‹ï¼Œå¦ä¸€ä¾§ä¸ºåŸå§‹ç±»å‹ï¼Œåˆ™å°†åŸå§‹ç±»å‹è½¬æ¢ä¸º<code>Number</code>ç±»å‹ã€‚</p></li></ul><ul><li>å½“ä¸€ä¾§ä¸º<code>Number</code>ç±»å‹ï¼Œå¦ä¸€ä¾§ä¸ºå¼•ç”¨ç±»å‹ï¼Œå°†å¼•ç”¨ç±»å‹å’Œ<code>Number</code>ç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²åæ‹¼æ¥ã€‚</li></ul><h3 id="é€»è¾‘è¯­å¥ä¸­çš„ç±»å‹è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#é€»è¾‘è¯­å¥ä¸­çš„ç±»å‹è½¬æ¢" aria-hidden="true">#</a> é€»è¾‘è¯­å¥ä¸­çš„ç±»å‹è½¬æ¢</h3><p>ä½¿ç”¨<code>if while for</code>æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›é‡Œé¢æ˜¯ä¸ª<code>Bollean</code>ã€‚</p><p><strong>1.å•ä¸ªå˜é‡</strong></p><p>å¦‚æœæ˜¯å•ä¸ªå˜é‡æ—¶ï¼Œä¼šå°†å…¶è½¬æ¢ä¸º<code>Bollean</code></p><p>**è§„åˆ™ï¼š**åªæœ‰ <code>null</code> <code>undefined</code> <code>&#39;&#39;</code> <code>NaN</code> <code>0</code> <code>false</code> è¿™å‡ ä¸ªæ˜¯ <code>false</code>ï¼Œå…¶ä»–çš„æƒ…å†µéƒ½æ˜¯ <code>true</code>ï¼Œæ¯”å¦‚ <code>{}</code> , <code>[]</code>ã€‚</p><p><strong>2.ä½¿ç”¨==æ¯”è¾ƒä¸­çš„äº”æ¡è§„åˆ™</strong></p><ul><li><p><code>NAN</code> å’Œå…¶ä»–ç±»å‹æ¯”è¾ƒæ°¸è¿œè¿”å›false(åŒ…æ‹¬è‡ªå·±)</p></li><li><p><code>Boolean</code> å’Œå…¶ä»–ä»»ä½•ç±»å‹æ¯”è¾ƒï¼Œ<code>Boolean</code> é¦–å…ˆè¢«è½¬æ¢ä¸º <code>Number</code> ç±»å‹ã€‚</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token boolean">true</span> <span class="token operator">==</span> <span class="token number">1</span>  <span class="token comment">// true </span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token string">&#39;2&#39;</span>  <span class="token comment">// false, å…ˆæŠŠ true å˜æˆ 1ï¼Œè€Œä¸æ˜¯æŠŠ &#39;2&#39; å˜æˆ true</span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">]</span>  <span class="token comment">// true, å…ˆæŠŠ true å˜æˆ 1ï¼Œ [&#39;1&#39;]æ‹†ç®±æˆ &#39;1&#39;, å†å‚è€ƒè§„åˆ™3</span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">]</span>  <span class="token comment">// false, åŒä¸Š</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false ï¼Œé¦–å…ˆ false å˜æˆ 0ï¼Œç„¶åå‚è€ƒè§„åˆ™4</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// falseï¼ŒåŒä¸Š</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>String</code>å’Œ<code>Number</code>æ¯”è¾ƒï¼Œå…ˆå°†<code>String</code>è½¬æ¢ä¸º<code>Number</code>ç±»å‹ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">123</span> <span class="token operator">==</span> <span class="token string">&#39;123&#39;</span> <span class="token comment">// true, &#39;123&#39; ä¼šå…ˆå˜æˆ 123</span>
<span class="token string">&#39;&#39;</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token comment">// true, &#39;&#39; ä¼šé¦–å…ˆå˜æˆ 0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>null == undefined</code>æ¯”è¾ƒç»“æœæ˜¯<code>true</code>ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œ<code>null</code>ã€<code>undefined</code>å’Œå…¶ä»–ä»»ä½•ç»“æœçš„æ¯”è¾ƒå€¼éƒ½ä¸º<code>false</code>ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token comment">// true</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span> <span class="token comment">// false</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token comment">// false</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span> <span class="token comment">// false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token comment">// false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>åŸå§‹ç±»å‹</code>å’Œ<code>å¼•ç”¨ç±»å‹</code>åšæ¯”è¾ƒæ—¶ï¼Œå¼•ç”¨ç±»å‹ä¼šä¾ç…§<code>ToPrimitive</code>è§„åˆ™è½¬æ¢ä¸ºåŸå§‹ç±»å‹ã€‚å®ƒéµå¾ªå…ˆ<code>valueOf</code>å<code>toString</code>çš„æ¨¡å¼æœŸæœ›å¾—åˆ°ä¸€ä¸ªåŸå§‹ç±»å‹ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&#39;[object Object]&#39;</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> 
<span class="token comment">// true, å¯¹è±¡å’Œå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œå¯¹è±¡é€šè¿‡ toString å¾—åˆ°ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼</span>
<span class="token string">&#39;1,2,3&#39;</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> 
<span class="token comment">// true, åŒä¸Š  [1, 2, 3]é€šè¿‡ toString å¾—åˆ°ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>valueof</code>è§„åˆ™</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>// Arrayï¼šè¿”å›æ•°ç»„å¯¹è±¡æœ¬èº«
var array = [&quot;ABC&quot;, true, 12, -5];
console.log(array.valueOf() === array);   // true
  11, 59, 230);
console.log(date.valueOf());   // 1376838719230

// Numberï¼šè¿”å›æ•°å­—å€¼
var num =  15.26540;
console.log(num.valueOf());   // 15.2654

// å¸ƒå°”ï¼šè¿”å›å¸ƒå°”å€¼trueæˆ–false
var bool = true;
console.log(bool.valueOf() === bool);   // true

// newä¸€ä¸ªBooleanå¯¹è±¡
var newBool = new Boolean(true);
// valueOf()è¿”å›çš„æ˜¯trueï¼Œä¸¤è€…çš„å€¼ç›¸ç­‰
console.log(newBool.valueOf() == newBool);   // true
// ä½†æ˜¯ä¸å…¨ç­‰ï¼Œä¸¤è€…ç±»å‹ä¸ç›¸ç­‰ï¼Œå‰è€…æ˜¯booleanç±»å‹ï¼Œåè€…æ˜¯objectç±»å‹
console.log(newBool.valueOf() === newBool);   // false

// Functionï¼šè¿”å›å‡½æ•°æœ¬èº«
function foo(){}
console.log( foo.valueOf() === foo );   // true
var foo2 =  new Function(&quot;x&quot;, &quot;y&quot;, &quot;return x + y;&quot;);
console.log( foo2.valueOf() );
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>toString</code>è§„åˆ™</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>let num = 1
let str = &#39;a&#39;
let bool = true
let obj = {}
let date = new Date()
let reg = /\d/
let arr = [1, 2, 3]
let fun = function () {
}

console.log(num.toString())   // &#39;1&#39;
console.log(str.toString())   // &#39;a&#39;
console.log(bool.toString())  // &#39;true&#39;
console.log(obj.toString())   // &#39;[object Object]&#39;
console.log(date.toString())  // &#39;Thu Mar 28 2019 17:07:40 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39;
console.log(reg.toString())   // &#39;/\d/&#39;
console.log(arr.toString())   // &#39;1,2,3&#39;
console.log(fun.toString())   // &#39;function(){}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>toString()</code>ä¹Ÿå¯ä»¥åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦ç”¨ObjectåŸå‹ä¸Šçš„æ–¹æ³•ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½ä¼šç»§æ‰¿Objectï¼Œä½†æ˜¯ç”±äºæœ‰äº›å¯¹è±¡ä¼šä¿®æ”¹<code>toString()</code>,å› æ­¤ï¼Œå¦‚æœæƒ³ç”¨<code>toString()</code>æ¥åˆ¤æ–­å¯¹è±¡ç±»å‹çš„è¯ï¼Œå¿…é¡»ä½¿ç”¨åŸå‹é“¾ä¸Šçš„æ–¹æ³•ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>var toString = Object.prototype.toString;

toString.call(new Date); // [object Date]
toString.call(new String); // [object String]
toString.call(Math); // [object Math]

//Since JavaScript 1.8.5
toString.call(undefined); // [object Undefined]
toString.call(null); // [object Null]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="typeof" tabindex="-1"><a class="header-anchor" href="#typeof" aria-hidden="true">#</a> typeof</h3><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/2191646980-57a0ac0c57fc5_fix732.webp" alt="2191646980-57a0ac0c57fc5_fix732"></p><h2 id="è¿­ä»£å™¨" tabindex="-1"><a class="header-anchor" href="#è¿­ä»£å™¨" aria-hidden="true">#</a> è¿­ä»£å™¨</h2><p>è¿­ä»£å™¨æœ‰ä¸€ä¸ªnextæ–¹æ³•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    value: è¡¨ç¤ºå½“å‰çš„å€¼,
    done: è¡¨ç¤ºéå†æ˜¯å¦ç»“æŸ
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†…éƒ¨æœ‰ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚æ¯è°ƒç”¨ä¸€æ¬¡next()æ–¹æ³•ï¼ŒæŒ‡é’ˆéƒ½ä¼šå‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œç›´åˆ°æŒ‡å‘æœ€åä¸€ä¸ªä½ç½®ã€‚</p><h3 id="ç”Ÿæˆå™¨" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæˆå™¨" aria-hidden="true">#</a> ç”Ÿæˆå™¨</h3><p>ç”Ÿæˆå™¨å‡½æ•°ä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/function*" target="_blank" rel="noopener noreferrer"><code>function*</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>è¯­æ³•ç¼–å†™ã€‚ æœ€åˆè°ƒç”¨æ—¶ï¼Œç”Ÿæˆå™¨å‡½æ•°ä¸æ‰§è¡Œä»»ä½•ä»£ç ï¼Œè€Œæ˜¯è¿”å›ä¸€ç§ç§°ä¸ºGeneratorçš„è¿­ä»£å™¨ã€‚ é€šè¿‡è°ƒç”¨ç”Ÿæˆå™¨çš„ä¸‹ä¸€ä¸ªæ–¹æ³•æ¶ˆè€—å€¼æ—¶ï¼ŒGeneratorå‡½æ•°å°†æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°yieldå…³é”®å­—ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>function* makeRangeIterator(start = 0, end = Infinity, step = 1) {
    for (let i = start; i &lt; end; i += step) {
        yield i;
    }
}
var a = makeRangeIterator(1,10,2)
a.next() // {value: 1, done: false}
a.next() // {value: 3, done: false}
a.next() // {value: 5, done: false}
a.next() // {value: 7, done: false}
a.next() // {value: 9, done: false}
a.next() // {value: undefined, done: true}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¯è¿­ä»£å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#å¯è¿­ä»£å¯¹è±¡" aria-hidden="true">#</a> å¯è¿­ä»£å¯¹è±¡</h3><p>å¯è¿­ä»£å¯¹è±¡åŒ…æ‹¬æ•°ç»„ï¼ŒSeté›†åˆï¼ŒMapé›†åˆå’Œå­—ç¬¦ä¸²éƒ½æ˜¯å¯è¿­ä»£æ•°ç»„</p><h3 id="map" tabindex="-1"><a class="header-anchor" href="#map" aria-hidden="true">#</a> map</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>map.has(key)//æ˜¯å¦å«æœ‰
map.delete(key)
map.set(key,value)
map.get(key)
map.keys()//è¿”å›mapçš„é”®è¿­ä»£å™¨
map.values()//è¿”å›mapçš„å€¼è¿­ä»£å™¨
map.entries()//è¿”å›mapçš„é”®å’Œå€¼çš„è¿­ä»£å™¨
map.forEach((value,key)=&gt;{})//éå†map
map.size()
[...map.keys()]//è¿­ä»£å™¨è½¬æ¢æˆæ•°ç»„
map.keys().next().value//è·å–ç¬¬ä¸€ä¸ªé”®
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>mapçš„å¦ä¸€ç§åˆ›å»ºæ–¹å¼ï¼š</strong> <code>new Map(iterable)</code> ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¹¶ä¸”æ¯ä¸ªå€¼æ˜¯[key,value],ä¾‹å¦‚ï¼š</p><p><code>[[&#39;1&#39;,&#39;str1&#39;],[1,&#39;num1&#39;],[true,&#39;bool1&#39;]]</code></p><h4 id="mapä¸objè½¬æ¢" tabindex="-1"><a class="header-anchor" href="#mapä¸objè½¬æ¢" aria-hidden="true">#</a> mapä¸objè½¬æ¢</h4><ul><li>ä»å¯¹è±¡è½¬ä¸º Map ï¼š<code>new Map(Object.entries(obj))</code></li><li>ä» Map è½¬ä¸ºå¯¹è±¡ï¼š<code>Object.fromEntries(map)</code></li></ul><p><code>Object.entries()</code> èƒ½å¤Ÿå°†å¯¹è±¡è½¬æ¢ä¸ºentriesçš„æ•°ç»„ï¼Œç”±mapçš„å¦ä¸€ç§åˆ›å»ºæ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>new Map(Obj.entried(obj))</code>çš„æ–¹å¼å°†å¯¹è±¡è½¬ä¸ºmapã€‚</p><p><code>Object.fromEntries(iterable)</code> æ˜¯<code>Object.entries</code>çš„åå‘æ“ä½œï¼Œå› æ­¤å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å°†mapè½¬æ¢ä¸ºå¯¹è±¡</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>let map = new Map([
  [&#39;1&#39;,  &#39;str1&#39;],
  [1,    &#39;num1&#39;],
  [true, &#39;bool1&#39;]
]);

Object.fromEntries(map)
// {
//   &quot;1&quot;: &quot;num1&quot;,
//   &quot;true&quot;: &quot;bool1&quot;
// }
// å¯¹è±¡çš„å±æ€§åªæœ‰å­—ç¬¦ä¸²æˆ–è€…Symbolä¸¤ç§ï¼Œå› æ­¤éSymbolå’Œéå­—ç¬¦ä¸²çš„keyéƒ½ä¼šè½¬æ¢ä¸ºå­—ç¬¦ä¸²
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="set" tabindex="-1"><a class="header-anchor" href="#set" aria-hidden="true">#</a> set</h3><p>ä¸mapç±»ä¼¼ï¼Œ<code>set.keys()</code>ä¸<code>set.values()</code>ç›¸åŒè¿”å›çš„éƒ½æ˜¯valueå€¼ï¼Œ<code>set.entries()</code> æ¯ä¸ªå€¼éƒ½æ˜¯[value, value]ï¼Œä¸ºäº†ä¸mapå¯¹é½ã€‚</p><h2 id="weakmapå’Œweakset" tabindex="-1"><a class="header-anchor" href="#weakmapå’Œweakset" aria-hidden="true">#</a> weakMapå’ŒweakSet</h2><h3 id="weakmap" tabindex="-1"><a class="header-anchor" href="#weakmap" aria-hidden="true">#</a> weakMap</h3><p>åªèƒ½ç”¨å¯¹è±¡ä½œä¸ºkeyï¼Œå¹¶ä¸”ä¸ä¼šå¯¹weakMapé‡Œçš„keyåšå¼•ç”¨</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>let john = { name: &quot;John&quot; };

let weakMap = new WeakMap();
weakMap.set(john, &quot;...&quot;);

john = null; // è¦†ç›–å¼•ç”¨

// john è¢«ä»å†…å­˜ä¸­åˆ é™¤äº†ï¼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>weakMapä¸æ”¯æŒè¿­ä»£ä»¥åŠ <code>keys()</code>ï¼Œ<code>values()</code> å’Œ <code>entries()</code> æ–¹æ³•ã€‚</p><h3 id="weakset" tabindex="-1"><a class="header-anchor" href="#weakset" aria-hidden="true">#</a> weakSet</h3><p>åªèƒ½ç”¨æ¥å­˜å‚¨å¯¹è±¡ï¼Œå¯¹è±¡ä¸è®¡å…¥åƒåœ¾å›æ”¶çš„å¼•å…¥</p><p>ä¸æ”¯æŒ<code>size()</code>å’Œ<code>keys()</code>,å¹¶ä¸æ”¯æŒè¿­ä»£</p><h3 id="for-of" tabindex="-1"><a class="header-anchor" href="#for-of" aria-hidden="true">#</a> for of</h3><p>ä¸ºä»€ä¹ˆéœ€è¦for of forEachä¸èƒ½break continue for...inçš„ç¼ºç‚¹æ˜¯ä¸ä»…éå†æ•°å­—é”®åï¼Œè¿˜ä¼šéå†æ‰‹åŠ¨æ·»åŠ çš„è‡ªå®šä¹‰é”®ï¼Œç”šè‡³åŒ…æ‹¬åŸå‹é“¾ä¸Šçš„é”®ã€‚for...inä¸»è¦è¿˜æ˜¯ä¸ºéå†å¯¹è±¡è€Œè®¾è®¡çš„ï¼Œå¹¶ä¸å¤ªé€‚ç”¨äºéå†æ•°ç»„ã€‚ Iterator æ¥å£ä¸»è¦ä¾›for...ofæ¶ˆè´¹ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>for(let v of arr) {
    console.log(v); // 1 2 3 4
}
for(let v of str) {
    console.log(v); // a b c d e
}
for(let v of map) {
    console.log(v);
    // (2) [&quot;first&quot;, &quot;ç¬¬ä¸€&quot;]
    // (2) [&quot;second&quot;, &quot;ç¬¬äºŒ&quot;]
    // (2) [&quot;third&quot;, &quot;ç¬¬ä¸‰&quot;]
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„" aria-hidden="true">#</a> æ•°ç»„</h2><p><a href="https://github.com/csjiabin/hexo-theme-next/blob/master/source/_posts/js%E6%95%B0%E7%BB%84%E8%AF%A6%E7%BB%86%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95%E5%8F%8A%E8%A7%A3%E6%9E%90%E5%90%88%E9%9B%86.md" target="_blank" rel="noopener noreferrer">æ•°ç»„è¯¦ç»†æ“ä½œæ–¹æ³•åŠè§£æ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h1 id="nan" tabindex="-1"><a class="header-anchor" href="#nan" aria-hidden="true">#</a> NAN</h1><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>typeof NaN //number
// NaNå’Œä»»ä½•å€¼æ¯”è¾ƒ==æˆ–===éƒ½ä¸ºfalseï¼ŒåŒ…æ‹¬NaN
// å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼ä¸ºNAN Number.isNaN()æˆ–isNaN()
Number.NaN//NaNæ˜¯Numberä¸Šçš„ä¸€ä¸ªé™æ€å±æ€§ï¼Œå¯ä»¥ç”¨æ¥å¾—åˆ°NaN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="es6" tabindex="-1"><a class="header-anchor" href="#es6" aria-hidden="true">#</a> es6</h1><p>let const è§£æ„ æ¨¡æ¿å­—ç¬¦ä¸² æ‰©å±•è¿ç®—ç¬¦ for of Object.is Object.assign</p><p>å­—ç¬¦ä¸²:str.repeat() str.startsWith() str.endsWith() includes()</p><p>æ•°ç»„ï¼šArray.from() Array.of() find() findIndex() includes() flat()</p><h1 id="å˜é‡æå‡" tabindex="-1"><a class="header-anchor" href="#å˜é‡æå‡" aria-hidden="true">#</a> å˜é‡æå‡</h1><p>å˜é‡æå‡å®é™…ä¸Šæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µä¼šå°†å‡½æ•°å’Œå˜é‡æ”¾åˆ°Lexical Environment(è¯æ³•ç¯å¢ƒ)è¿™ä¹ˆä¸ªæ•°æ®ç»“æ„ä¸­</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sayHi() // Hi there!

function sayHi() {
    console.log(&#39;Hi there!&#39;)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ‰§è¡Œåˆ°sayHiæ—¶ä¼šå»çœ‹æ­¤æ³•ç¯å¢ƒä¸­æ‰¾è¿™ä¸ªå‡½æ•°å¹¶æ‰§è¡Œä»–ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>console.log(name)   // &#39;undefined&#39;
var name = &#39;John Doe&#39;
console.log(name)   // John Doe
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯å˜é‡ä¸ºä»€ä¹ˆæ²¡æœ‰å‘¢ï¼Ÿé‚£ä¹ˆæ˜¯å› ä¸ºç¼–è¯‘é˜¶æ®µæ—¶ç¢°åˆ°varå°±ä¼šåœ¨è¯æ³•ç¯å¢ƒä¸­å­˜ä¸€ä¸ªundefinedï¼Œåœ¨æ‰§è¡Œåˆ°varè¯­å¥çš„æ—¶å€™ä¼šç»™å˜é‡é™„ä¸Šå€¼</p><p>let å’Œ const å°±ä¸ä¼šå†è¯æ³•ç¯å¢ƒä¸­åŠ ä¸Šundefinedï¼Œå› æ­¤ä¼šå‡ºç°è¯­æ³•é”™è¯¯(è¿˜æœ‰class)</p><h1 id="æ‰§è¡Œä¸Šä¸‹æ–‡" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œä¸Šä¸‹æ–‡" aria-hidden="true">#</a> æ‰§è¡Œä¸Šä¸‹æ–‡</h1><p>åœ¨å‡½æ•°æ‰§è¡Œæ—¶ä¼šå°†å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼Œåœ¨å‡½æ•°æ‰§è¡Œç»“æŸä¼šå‡ºæ ˆï¼Œæœ€å¼€å§‹çš„æ˜¯ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡åªæœ‰åœ¨åº”ç”¨ç¨‹åºæ‰§è¡Œå®Œæ¯•ä¹‹åæ‰ä¼šæ¸…é™¤ã€‚</p><p>é¦–å…ˆçœ‹ä¸‹æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯ç”±ä»€ä¹ˆç»„æˆçš„å§ã€‚(å˜é‡å¯¹è±¡ï¼Œä½œç”¨åŸŸé“¾ï¼Œthis)</p><div class="language-dts line-numbers-mode" data-ext="dts"><pre class="language-dts"><code>checkscopeContext = {
    AO: {
        arguments: {
            length: 0
        },
        a: 1
    },
    Scope: [AO, [[Scope]]]
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>AO</code>è¡¨ç¤ºå˜é‡å¯¹è±¡ï¼Œscopeæ˜¯ä½œç”¨åŸŸé“¾ï¼Œscopeçš„é¡¶ç«¯æ˜¯è‡ªå·±çš„å˜é‡å¯¹è±¡ï¼Œå‡½æ•°åœ¨ä½¿ç”¨å˜é‡çš„æ—¶å€™ä¼šæŒ‰ç…§ä½œç”¨åŸŸé“¾æ¥ä¸€å±‚ä¸€å±‚æŸ¥æ‰¾ã€‚</p><p>jsä½œç”¨åŸŸæ˜¯åœ¨å®šä¹‰çš„æ—¶å€™ç¡®å®šçš„,ä½œç”¨åŸŸç¡®å®šäº†ä½¿ç”¨å˜é‡çš„æƒé™æˆ–è€…è¯´æ˜¯æŸ¥æ‰¾å˜é‡çš„é€”å¾„</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>var a = 1
function out(){
    var a = 2
    inner()
}
function inner(){
    console.log(a)
}
out()  //====&gt;  1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-stylus line-numbers-mode" data-ext="styl"><pre class="language-stylus"><code><span class="token property-declaration"><span class="token property">var</span> a <span class="token operator">=</span> <span class="token number">1</span></span>
function <span class="token func"><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
    <span class="token property-declaration"><span class="token property">var</span> a <span class="token operator">=</span> <span class="token number">2</span></span>
    <span class="token func"><span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
    function <span class="token func"><span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
        console<span class="token punctuation">.</span><span class="token func"><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token func"><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//====&gt;  2</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡½æ•°çš„ä½œç”¨åŸŸé“¾åœ¨å®šä¹‰çš„æ—¶å€™ä¼šå…ˆæ”¾åœ¨å‡½æ•°çš„[[scope]]å±æ€§ä¸Šï¼Œåœ¨å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œåˆ›å»ºå®Œæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡çš„Scopeå±æ€§å°±ä¼šå¤åˆ¶å‡½æ•°çš„[[scope]]å±æ€§ï¼Œå¹¶æŠŠå˜é‡å¯¹è±¡æ”¾åœ¨é¡¶ç«¯ã€‚</p><p>https://segmentfault.com/a/1190000013915935</p><h2 id="thisæŒ‡å‘" tabindex="-1"><a class="header-anchor" href="#thisæŒ‡å‘" aria-hidden="true">#</a> thisæŒ‡å‘</h2><h2 id="forå¾ªç¯ä¸­letå’Œvarçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#forå¾ªç¯ä¸­letå’Œvarçš„åŒºåˆ«" aria-hidden="true">#</a> forå¾ªç¯ä¸­letå’Œvarçš„åŒºåˆ«</h2><p>åœ¨es6ä¸­æ–°å¢äº†ä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼Œåœ¨es6ä¹‹å‰ï¼Œåœ¨whileï¼Œifè¿™äº›è¯­å¥ä¸­ä½¿ç”¨varéƒ½æ˜¯ä¼šå£°æ˜åœ¨å…¨å±€ä½œç”¨åŸŸæˆ–è€…å‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œletå’Œconstå°±å¯ä»¥åœ¨whileï¼Œifä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªå—çº§ä½œç”¨åŸŸã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>for(var i=0;i&lt;10;i++){
    setTimeout(()=&gt;{
        console.log(i + &quot;éšæœºæ•°&quot; + Math.random())
    },0)
}
for(let i=0;i&lt;10;i++){
    setTimeout(()=&gt;{
        console.log(i + &quot;éšæœºæ•°&quot; + Math.random())
    },0)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨forå¾ªç¯ä¸­ï¼Œå¯ä»¥ç†è§£æˆä½¿ç”¨letä¼šåœ¨æ¯æ¬¡å¾ªç¯æ—¶åˆ›å»ºä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼Œè€Œä½¿ç”¨varå˜é‡ä¼šæ”¾åœ¨å…¨å±€ä½œç”¨åŸŸæˆ–è€…å‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œå› æ­¤è°ƒç”¨å›è°ƒä½¿ç”¨letçš„å°±ä¼šæ‰¾åˆ°è‡ªå·±å—çº§ä½œç”¨åŸŸä¸‹çš„æ­£ç¡®çš„iï¼Œè€Œvarä¼šæ‰¾åˆ°å…¨å±€æˆ–è€…å‡½æ•°ä½œç”¨åŸŸä¸‹çš„i(10)</p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20220305214516815.png" alt="image-20220305214516815"></p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20220305214543717.png" alt="image-20220305214543717"></p><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/image-20220305214822677.png" alt="image-20220305214822677"></p><h1 id="hashè·¯ç”±å’Œhistoryè·¯ç”±" tabindex="-1"><a class="header-anchor" href="#hashè·¯ç”±å’Œhistoryè·¯ç”±" aria-hidden="true">#</a> hashè·¯ç”±å’Œhistoryè·¯ç”±</h1><h2 id="hashè·¯ç”±" tabindex="-1"><a class="header-anchor" href="#hashè·¯ç”±" aria-hidden="true">#</a> hashè·¯ç”±</h2><p>hashè·¯ç”±å°±æ˜¯#å·åé¢è·Ÿçš„hashå€¼ï¼Œé€šè¿‡hashChangeäº‹ä»¶å°±å¯ä»¥ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œä»è€Œå®ç°ä¸åŒè·¯ç”±å¯¹åº”ä¸åŒç»„ä»¶çš„æ•ˆæœ</p><p>ä¼˜ç‚¹ï¼š</p><p>1.åªéœ€è¦å‰ç«¯é…ç½®è·¯ç”±è¡¨, ä¸éœ€è¦åç«¯çš„å‚ä¸</p><p>2.å…¼å®¹æ€§å¥½, æµè§ˆå™¨éƒ½èƒ½æ”¯æŒ</p><p>3.hashå€¼æ”¹å˜ä¸ä¼šå‘åç«¯å‘é€è¯·æ±‚, å®Œå…¨å±äºå‰ç«¯è·¯ç”±</p><p>ç¼ºç‚¹ï¼š</p><p>hashå€¼å‰é¢åŠ #å·ï¼Œä¸ç¬¦åˆurlè§„èŒƒï¼Œä¸ç¾è§‚ï¼Œä¸èƒ½ä½¿ç”¨é”šç‚¹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;script type=&quot;text/javascript&quot;&gt;
    // ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™ï¼Œä¸ä¼šæ‰§è¡Œ hashchange ç›‘å¬äº‹ä»¶ï¼Œé»˜è®¤æ‰§è¡Œä¸€æ¬¡
    // DOMContentLoaded ä¸ºæµè§ˆå™¨ DOM åŠ è½½å®Œæˆæ—¶è§¦å‘
    window.addEventListener(&#39;DOMContentLoaded&#39;, Load)
    window.addEventListener(&#39;hashchange&#39;, HashChange)
    // å±•ç¤ºé¡µé¢ç»„ä»¶çš„èŠ‚ç‚¹
    var routeView = null
    function Load() {
      routeView = document.getElementById(&#39;route-view&#39;)
      HashChange()
    }
    function HashChange() {
      // æ¯æ¬¡è§¦å‘ hashchange äº‹ä»¶ï¼Œé€šè¿‡ location.hash æ‹¿åˆ°å½“å‰æµè§ˆå™¨åœ°å€çš„ hash å€¼
      // æ ¹æ®ä¸åŒçš„è·¯å¾„å±•ç¤ºä¸åŒçš„å†…å®¹
      switch(location.hash) {
      case &#39;#/page1&#39;:
        routeView.innerHTML = &#39;page1&#39;
        return
      case &#39;#/page2&#39;:
        routeView.innerHTML = &#39;page2&#39;
        return
      default:
        routeView.innerHTML = &#39;page1&#39;
        return
      }
    }
  &lt;/script&gt;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ç›‘å¬hashchangeåŠ è½½ä¸åŒçš„ç»„ä»¶</p><h2 id="historyè·¯ç”±" tabindex="-1"><a class="header-anchor" href="#historyè·¯ç”±" aria-hidden="true">#</a> historyè·¯ç”±</h2><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4b0d880981714fe080f4e2bb678e32ab~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp" alt="img"></p><p>æˆ‘ä»¬ä½¿ç”¨historyè·¯ç”±è®¿é—®æŸä¸ªç½‘ç«™ï¼ŒæŒ‰ç…§å¸¸ç†è¯´åº”è¯¥æ˜¯è®¿é—®æœåŠ¡å™¨çš„æŸä¸ªèµ„æºï¼Œå¦‚æˆ‘ä»¬è®¿é—®user/123435 ,å¦‚æœæœåŠ¡å™¨æ²¡æœ‰è¿™ä¸ªèµ„æºå°±ä¼šæŠ¥404ï¼Œå› æ­¤ä½¿ç”¨historyè·¯ç”±æ˜¯éœ€è¦åå°é…ç½®çš„ï¼Œåœ¨è®¿é—®ä¸å­˜åœ¨åŸŸåçš„æ—¶å€™ï¼Œå°±ä¼šé‡å®šå‘åˆ°index.htmlä¸Šã€‚</p><p>historyæ˜¯ä¾é history.pushState(replaceState)å®ŒæˆURLè·³è½¬ä½†æ˜¯ä¸é‡æ–°åŠ è½½é¡µé¢(ä¸å‘é€è¯·æ±‚)</p><h1 id="ç®­å¤´å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#ç®­å¤´å‡½æ•°" aria-hidden="true">#</a> ç®­å¤´å‡½æ•°</h1><ul><li>ç®­å¤´å‡½æ•°thisåœ¨å®šä¹‰æ—¶ç»‘å®šï¼Œå®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿this</li><li>.call()/.apply()/.bind()æ— æ³•æ”¹å˜thisæŒ‡å‘</li><li>ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼Œå› ä¸ºnew çš„æœ¬è´¨å°±æ˜¯æ”¹å˜thisçš„æŒ‡å‘</li><li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„argumentsï¼Œåœ¨ç®­å¤´å‡½æ•°è®¿é—®argumentså®é™…ä¸Šè·å¾—çš„æ˜¯å¤–å±‚å±€éƒ¨(å‡½æ•°)æ‰§è¡Œç¯å¢ƒä¸­çš„å€¼</li><li>ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹</li><li>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨yeildå…³é”®å­—</li></ul><h1 id="flux" tabindex="-1"><a class="header-anchor" href="#flux" aria-hidden="true">#</a> flux</h1><p>Flux ä¸æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼ˆFrameworkï¼‰æˆ–åº“ï¼ˆLibraryï¼‰ï¼Œè€Œæ˜¯ä¸€ç§æ¶æ„ï¼ˆArchitectureï¼‰</p><ul><li><strong>View</strong>ï¼š è§†å›¾å±‚</li><li><strong>Action</strong>ï¼ˆåŠ¨ä½œï¼‰ï¼šè§†å›¾å±‚å‘å‡ºçš„æ¶ˆæ¯ï¼ˆæ¯”å¦‚mouseClickï¼‰</li><li><strong>Dispatcher</strong>ï¼ˆæ´¾å‘å™¨ï¼‰ï¼šç”¨æ¥æ¥æ”¶Actionsã€æ‰§è¡Œå›è°ƒå‡½æ•°</li><li><strong>Store</strong>ï¼ˆæ•°æ®å±‚ï¼‰ï¼šç”¨æ¥å­˜æ”¾åº”ç”¨çš„çŠ¶æ€ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŠ¨ï¼Œå°±æé†’Viewsè¦æ›´æ–°é¡µé¢</li></ul><p><img src="https://lzc-personal-resource.oss-cn-beijing.aliyuncs.com/images/typora/bg2016011503.png" alt="bg2016011503"></p><h1 id="bigint" tabindex="-1"><a class="header-anchor" href="#bigint" aria-hidden="true">#</a> BigInt</h1><p><strong><code>BigInt</code></strong> æ˜¯ä¸€ç§å†…ç½®å¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹æ³•æ¥è¡¨ç¤ºå¤§äº <code>2^53 - 1</code> çš„æ•´æ•°ã€‚è¿™åŸæœ¬æ˜¯ Javascriptä¸­å¯ä»¥ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank" rel="noopener noreferrer"><code>Number</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è¡¨ç¤ºçš„æœ€å¤§æ•°å­—ã€‚<strong><code>BigInt</code></strong> å¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚å¯ä»¥é€šè¿‡åœ¨æ•°å­—åé¢åŠ næˆ–è€…è°ƒç”¨å‡½æ•°BigIntæ¥å®šä¹‰å¤§æ•°</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>const theBiggestInt = 9007199254740991n;

const alsoHuge = BigInt(9007199254740991);
// â†ª 9007199254740991n

const hugeString = BigInt(&quot;9007199254740991&quot;);
// â†ª 9007199254740991n
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸èƒ½ä½¿ç”¨Mathä¸­çš„æ–¹æ³•ï¼Œåœ¨å’ŒNumberç±»å‹è¿›è¡Œè®¡ç®—æ—¶éœ€è¦è½¬æ¢ä¸ºåŒä¸€ç§æ•°æ®ç±»å‹ï¼Œåœ¨BigIntè½¬æ¢ä¸ºNumberå¯èƒ½ä¼šä¸¢å¤±ç²¾åº¦</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>typeof 1n === &#39;bigint&#39;; // true
typeof BigInt(&#39;1&#39;) === &#39;bigint&#39;; // true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>/</code> æ“ä½œç¬¦å¯¹äºæ•´æ•°çš„è¿ç®—ä¹Ÿæ²¡é—®é¢˜ã€‚å¯æ˜¯å› ä¸ºè¿™äº›å˜é‡æ˜¯ <code>BigInt</code> è€Œä¸æ˜¯ <code>BigDecimal</code> ï¼Œè¯¥æ“ä½œç¬¦ç»“æœä¼šå‘é›¶å–æ•´ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¼šè¿”å›å°æ•°éƒ¨åˆ†ã€‚</p><p><code>BigInt</code> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank" rel="noopener noreferrer"><code>Number</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸æ˜¯ä¸¥æ ¼ç›¸ç­‰çš„ï¼Œä½†æ˜¯å®½æ¾ç›¸ç­‰çš„ã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank" rel="noopener noreferrer"><code>Number</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å’Œ <code>BigInt</code> å¯ä»¥è¿›è¡Œæ¯”è¾ƒã€‚ä¸¤è€…ä¹Ÿå¯ä»¥æ··åœ¨ä¸€ä¸ªæ•°ç»„å†…å¹¶æ’åºã€‚</p></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">Last update: </span><!----></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: liuzhaochen.faga@bytedance.com">lzc</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/blog/webpack.html" class="nav-link prev" aria-label="webpackåŸç†"><div class="hint"><span class="arrow left"></span>Prev</div><div class="link"><!---->webpackåŸç†</div></a><a href="/blog/commonjs&amp;esmodule.html" class="nav-link next" aria-label="commonjså’Œesmoduleçš„åŒºåˆ«"><div class="hint">Next<span class="arrow right"></span></div><div class="link">commonjså’Œesmoduleçš„åŒºåˆ«<!----></div></a></nav><div class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">NickName</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">E-Mail</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">Website</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="Write a comment here (Fill in the email address to receive an email notification when being replied)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>Preview:</h4><!-- eslint-disable-next-line vue/no-v-html --><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button class="wl-action" title="Emoji" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button class="wl-action" title="GIF"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="Upload Image"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button class="wl-action" title="Preview"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-text-number">0 <!--v-if--> Â Words</div><button class="wl-btn">Login</button><button class="wl-btn primary" title="Cmd|Ctrl + Enter"><!--[-->Submit<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="Search GIF"><div class="wl-gallery" style="gap:6px;"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> Comments</div><ul class="wl-sort"><!--[--><li class="active">Latest</li><li class="">Oldest</li><li class="">Hottest</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><!-- Copyright Information --><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noreferrer"> Waline </a> v2.13.0</div></div></div><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.7a1bdc2f.js" defer></script>
  </body>
</html>
